<!doctype html><html lang=en><head><title>ADC HS 12b - 12-bit High-Speed ADC for dsPIC33A - MPLAB Blockset for MATLAB/Simulink</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Microchip Blockset for MATLAB/Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers"><meta name=keywords content="Microchip,MPLAB,MATLAB,Simulink,dsPIC,PIC32,Embedded,Code Generation,Motor Control"><meta name=author content="Microchip Technology Inc."><meta name=robots content="index, follow"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=canonical href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/adc/adc_hs_12b.html><link rel=icon type=image/x-icon href=../../favicon.ico><style>:root{--bg-primary:#f8f9fa;--bg-secondary:white;--bg-tertiary:#f8f9fa;--text-primary:#2c3e50;--text-secondary:#666;--text-tertiary:#6c757d;--text-heading:#003d5c;--border-color:#dee2e6;--border-light:#e1e8ed;--border-medium:#e9ecef;--accent-primary:#0076A8;--accent-secondary:#005a85;--accent-hover:#005580;--accent-light:#e3f2fd;--code-bg:#f4f4f4;--code-text:#c7254e;--pre-bg:linear-gradient(to bottom, #e8e8e8 0%, #f0f0f0 100%);--pre-border:#d0d0d0;--table-hover:#e3f2fd;--table-stripe:#f8f9fa;--note-bg:linear-gradient(to right, #e7f3fe 0%, #f5fbff 100%);--note-border:#2196F3;--note-text:#1976D2;--warning-bg:linear-gradient(to right, #fff9e6 0%, #fffcf0 100%);--warning-border:#ff9800;--warning-text:#f57c00;--shadow-sm:0 2px 4px rgba(0,0,0,0.05);--shadow-md:0 2px 8px rgba(0,0,0,0.08);--shadow-lg:0 2px 12px rgba(0,0,0,0.08)}[data-theme=dark]{--bg-primary:#1a1d23;--bg-secondary:#242831;--bg-tertiary:#2d3139;--text-primary:#e4e6eb;--text-secondary:#adb5bd;--text-tertiary:#8b95a1;--text-heading:#e4e6eb;--border-color:#3a3f4b;--border-light:#3a3f4b;--border-medium:#404654;--accent-primary:#4da6d6;--accent-secondary:#3d8ab5;--accent-hover:#60b4e0;--accent-light:#2d4556;--code-bg:#2d3139;--code-text:#ff6b9d;--pre-bg:linear-gradient(to bottom, #2d3139 0%, #2d3139 100%);--pre-border:#3a3f4b;--table-hover:#2d4556;--table-stripe:#2d3139;--note-bg:linear-gradient(to right, #1e3a52 0%, #1e3a52 100%);--note-border:#4da6d6;--note-text:#66b3e0;--warning-bg:linear-gradient(to right, #3d3520 0%, #3d3520 100%);--warning-border:#ffb347;--warning-text:#ffc870;--shadow-sm:0 2px 4px rgba(0,0,0,0.3);--shadow-md:0 2px 8px rgba(0,0,0,0.4);--shadow-lg:0 2px 12px rgba(0,0,0,0.5)}:root{--content-max-width:1000px;--content-margin-horizontal:30px;--content-margin-vertical:15px;--container-border-radius:8px}*{transition:background-color .3s ease,color .3s ease,border-color .3s ease}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,roboto,oxygen,ubuntu,cantarell,sans-serif;margin:0;padding:0;line-height:1.6;color:var(--text-primary);background-color:var(--bg-primary);font-size:15px}.doc-wrapper{display:flex;max-width:1600px;margin:0 auto;min-height:100vh}.sidebar{width:280px;background-color:var(--bg-secondary);border-right:1px solid var(--border-color);position:sticky;top:0;height:100vh;overflow-y:auto;overflow-x:hidden;flex-shrink:0}.sidebar::-webkit-scrollbar{width:8px}.sidebar::-webkit-scrollbar-track{background:var(--bg-tertiary)}.sidebar::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.sidebar::-webkit-scrollbar-thumb:hover{background:var(--accent-primary)}.content-wrapper{flex:1;min-width:0;background-color:var(--bg-primary)}.container{max-width:var(--content-max-width);margin:var(--content-margin-vertical)var(--content-margin-horizontal);background-color:var(--bg-secondary);padding:30px;box-shadow:var(--shadow-lg);border-radius:var(--container-border-radius)}.sidebar-header{padding:20px;border-bottom:2px solid var(--border-light);background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-secondary) 100%)}.sidebar-title{color:#fff;font-size:16px;font-weight:700;margin:0;text-align:center}.sidebar-nav{padding:15px 0}.nav-section{margin-bottom:8px}.nav-section-title{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;color:var(--text-primary);font-weight:600;font-size:14px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease}.nav-section-title:hover{background-color:var(--bg-tertiary);border-left-color:var(--accent-primary);color:var(--accent-primary)}.nav-section-title .icon{font-size:16px;margin-right:8px}.nav-section-title .toggle-icon{font-size:12px;transition:transform .2s ease}.nav-section.expanded .toggle-icon{transform:rotate(90deg)}.nav-section-children{display:none;padding-left:15px}.nav-section.expanded>.nav-section-children{display:block}.nav-link{display:block;padding:8px 20px;padding-left:45px;color:var(--text-secondary);font-size:13px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-link:hover{background-color:var(--bg-tertiary);color:var(--accent-primary);border-left-color:var(--accent-light)}.nav-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.nav-subsection{margin-bottom:4px}.nav-subsection-title{display:flex;align-items:center;justify-content:space-between;padding:8px 20px;padding-left:35px;color:var(--text-primary);font-weight:600;font-size:13px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease;background-color:var(--bg-tertiary)}.nav-subsection-title:hover{background-color:var(--bg-primary);border-left-color:var(--accent-secondary);color:var(--accent-secondary)}.nav-subsection-title .icon{font-size:14px;margin-right:6px}.nav-subsection-title .toggle-icon{font-size:10px;transition:transform .2s ease}.nav-subsection.expanded .toggle-icon{transform:rotate(90deg)}.nav-subsection .nav-section-children{display:none;padding-left:10px}.nav-subsection.expanded>.nav-section-children{display:block}.nav-block-link{display:block;padding:6px 20px;padding-left:55px;color:var(--text-secondary);font-size:12px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-block-link:hover{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-secondary)}.nav-block-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.mobile-nav-toggle{display:none;position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background:var(--accent-primary);color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:var(--shadow-lg);z-index:1000}.mobile-nav-toggle:hover{background:var(--accent-hover)}.theme-toggle{display:inline-flex;align-items:center;gap:6px;cursor:pointer;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:20px;padding:6px 12px;font-size:13px;color:var(--text-secondary);margin-left:16px;user-select:none}.theme-toggle:hover{background:var(--accent-light);border-color:var(--accent-primary);color:var(--accent-primary)}.theme-icon{font-size:16px}.page-header{display:flex;justify-content:space-between;align-items:center;padding:16px 0 12px;margin-bottom:20px;border-bottom:3px solid var(--border-light);position:relative}.page-header::after{content:'';position:absolute;bottom:-3px;left:0;width:120px;height:3px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}.page-header h1{margin:0;color:var(--text-heading);font-size:32px;font-weight:700;letter-spacing:-.5px}.page-header-right{display:flex;align-items:center}.microchip-logo{height:55px}.breadcrumbs{display:flex;align-items:center;font-size:13px;color:var(--text-secondary);margin-bottom:16px;padding:10px 14px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-primary)}.breadcrumbs a{color:var(--accent-primary);text-decoration:none;padding:4px 8px;border-radius:3px}.breadcrumbs a:hover{background-color:var(--accent-light);color:var(--accent-hover)}.breadcrumbs span{margin:0 8px;color:var(--text-tertiary)}h2{color:var(--text-heading);font-weight:600;font-size:22px;letter-spacing:-.5px;margin-top:32px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid var(--border-light);position:relative}h2::before{content:'';position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}h3{color:var(--text-primary);font-weight:600;font-size:17px;margin-top:24px;margin-bottom:10px}h4{color:var(--text-primary);font-weight:500;font-size:15px;margin-top:18px;margin-bottom:8px}p{margin-bottom:12px;line-height:1.6;color:var(--text-primary)}table{border-collapse:separate;border-spacing:0;width:100%;margin:18px 0;border:1px solid var(--border-color);border-radius:6px;overflow:hidden;box-shadow:var(--shadow-md)}th{background:linear-gradient(to bottom,var(--accent-primary) 0%,var(--accent-secondary) 100%);color:#fff;padding:14px 16px;text-align:left;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid var(--accent-secondary)}td{padding:12px 16px;border-bottom:1px solid var(--border-medium);vertical-align:top;color:var(--text-primary);background-color:var(--bg-secondary)}tr:last-child td{border-bottom:none}tr:nth-child(even) td{background-color:var(--table-stripe)}tbody tr:hover td{background-color:var(--table-hover)}code{background-color:var(--code-bg);padding:3px 6px;border-radius:3px;font-family:consolas,monaco,courier new,monospace;color:var(--code-text);font-size:14px}pre{background:var(--pre-bg);border:1px solid var(--pre-border);border-left:4px solid var(--accent-primary);border-radius:6px;padding:16px;margin:18px 0;box-shadow:var(--shadow-sm);overflow-x:auto;line-height:1.5}pre code{background-color:initial;padding:0;color:var(--text-primary);font-family:consolas,monaco,courier new,monospace;font-size:14px}.note{background:var(--note-bg);border-left:5px solid var(--note-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.note::before{content:'\2139\FE0F  Note';display:block;font-weight:600;color:var(--note-text);margin-bottom:6px;font-size:14px}.note p{color:var(--text-primary)}.warning{background:var(--warning-bg);border-left:5px solid var(--warning-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.warning::before{content:'\26A0\FE0F  Warning';display:block;font-weight:600;color:var(--warning-text);margin-bottom:6px;font-size:14px}.warning p{color:var(--text-primary)}ul,ol{margin:12px 0;padding-left:30px;line-height:1.6}li{margin:6px 0;color:var(--text-primary)}a{color:var(--accent-primary);text-decoration:none}a:hover{color:var(--accent-hover);text-decoration:underline}.nav-footer{margin-top:48px;padding:20px 0 12px;border-top:2px solid var(--border-light);font-size:11px;color:var(--text-tertiary);text-align:center}.nav-footer p{margin:0;font-size:11px}.block-icon-container{display:table;width:100%;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;margin:24px 0;padding:20px;box-shadow:var(--shadow-md);table-layout:fixed}.block-icon-image{display:table-cell;width:220px;vertical-align:middle;padding-right:20px}.block-icon-image img{width:200px;height:auto;display:block}.block-icon-description{display:table-cell;vertical-align:middle;font-size:16px;line-height:1.7;color:var(--text-primary)}p img,.container>img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-light);border-radius:4px;box-shadow:var(--shadow-sm)}@media(max-width:768px){body{padding:10px 20px}.container{padding:20px}.page-header{flex-direction:column;align-items:flex-start;gap:16px}.microchip-logo{height:40px}.page-header h1{font-size:24px}h2{font-size:20px}h3{font-size:16px}}@media(max-width:1024px){.sidebar{position:fixed;left:-280px;top:0;height:100vh;z-index:999;transition:left .3s ease;box-shadow:2px 0 8px rgba(0,0,0,.15)}.sidebar.mobile-visible{left:0}.mobile-nav-toggle{display:flex;align-items:center;justify-content:center}.content-wrapper{width:100%}.container{margin:10px 15px;padding:20px}.sidebar.mobile-visible::after{content:'';position:fixed;top:0;left:280px;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:-1}}@media(max-width:768px){.container{margin:10px;padding:15px}.page-header h1{font-size:22px}.breadcrumbs{font-size:12px;padding:8px 12px}.nav-section-title{font-size:13px;padding:8px 15px}.nav-link{font-size:12px;padding:6px 15px;padding-left:35px}}.under-construction-banner{background:linear-gradient(135deg,#ff9800 0%,#f57c00 100%);color:#fff;padding:12px 20px;text-align:center;font-size:14px;font-weight:600;border-bottom:3px solid #e65100;box-shadow:0 2px 8px rgba(0,0,0,.15);margin-bottom:20px}.under-construction-banner .icon{font-size:18px;margin-right:8px}.under-construction-banner strong{color:#fff;text-transform:uppercase;letter-spacing:.5px}</style><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","name":"ADC HS 12b - 12-bit High-Speed ADC for dsPIC33A","description":"Microchip Blockset for MATLAB\/Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers","url":"https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink\/block_reference\/adc\/adc_hs_12b.html","author":{"@type":"Organization","name":"Microchip Technology Inc."},"datePublished":"2025-10-16","dateModified":"2025-10-16","inLanguage":"en-US"}</script></head><body><div class=doc-wrapper><nav class=sidebar><div class=sidebar-header><h2 class=sidebar-title>MPLAB Blockset</h2></div><div class=sidebar-nav><div class=nav-section><a href=../../ class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>üè†</span>Home</span></a></div><div class=nav-section id=section-getting-started><div class=nav-section-title onclick='toggleSection("getting-started")'><span><span class=icon>üöÄ</span>Getting Started</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><a href=../../getting_started/overview.html class=nav-link>Overview</a>
<a href=../../getting_started/installation.html class=nav-link>Installation</a>
<a href=../../getting_started/quick_start.html class=nav-link>Quick Start Guide</a>
<a href=../../getting_started/board_templates.html class=nav-link>Board Templates</a>
<a href=../../getting_started/motor_control_examples.html class=nav-link>Motor Control Examples</a>
<a href=../../getting_started/scheduler_multitasking.html class=nav-link>Scheduler & Multitasking</a>
<a href=../../getting_started/external_mode_pil.html class=nav-link>External Mode & PIL</a>
<a href=../../getting_started/data_visualization.html class=nav-link>Data Visualization</a>
<a href=../../getting_started/supported_devices.html class=nav-link>Supported Devices</a></div></div><div class=nav-section id=section-user-guide><div class=nav-section-title onclick='toggleSection("user-guide")'><span><span class=icon>üìö</span>User Guide</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><a href=../../user_guide/code_generation.html class=nav-link>Code Generation</a>
<a href=../../user_guide/compiler_setup.html class=nav-link>Compiler Setup</a>
<a href=../../user_guide/external_mode.html class=nav-link>External Mode</a>
<a href=../../user_guide/pil_testing.html class=nav-link>PIL Testing</a></div></div><div class=nav-section id=section-block-reference><div class=nav-section-title onclick='toggleSection("block-reference")'><span><span class=icon>üß©</span>Block Reference</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><div class=nav-subsection id=section-pwm-timers><div class=nav-subsection-title onclick='toggleSection("pwm-timers")'><span><span class=icon>‚ö°</span>PWM & Timers</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><a href=../../block_reference/pwm_io/pwm.html class=nav-block-link>PWM</a>
<a href=../../block_reference/pwm_io/pwm_highspeed.html class=nav-block-link>PWM High-Speed</a>
<a href=../../block_reference/pwm_io/pwm_hs_fep.html class=nav-block-link>PWM HS FEP</a>
<a href=../../block_reference/pwm_io/pwm_highspeed_override.html class=nav-block-link>PWM HS Override</a>
<a href=../../block_reference/pwm_io/mcpwm.html class=nav-block-link>MCPWM (PIC32)</a>
<a href=../../block_reference/pwm_io/pwm_sam7x.html class=nav-block-link>PWM SAM7x</a>
<a href=../../block_reference/pwm_io/pwm_sam7x_override.html class=nav-block-link>PWM SAM7x Override</a>
<a href=../../block_reference/pwm_io/tcc_pwm.html class=nav-block-link>TCC PWM (SAM)</a></div></div><div class=nav-subsection id=section-timers><div class=nav-subsection-title onclick='toggleSection("timers")'><span><span class=icon>‚è±Ô∏è</span>Timers</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><a href=../../block_reference/timers/timer_config.html class=nav-block-link>Timer Config</a>
<a href=../../block_reference/timers/input_capture.html class=nav-block-link>Input Capture</a>
<a href=../../block_reference/timers/output_compare_hw.html class=nav-block-link>Output Compare (HW)</a>
<a href=../../block_reference/timers/output_compare_sw.html class=nav-block-link>Output Compare (SW)</a>
<a href=../../block_reference/timers/timer_pil_profiling.html class=nav-block-link>PIL Profiling Timer</a></div></div><div class=nav-subsection id=section-adc><div class=nav-subsection-title onclick='toggleSection("adc")'><span><span class=icon>üìä</span>ADC</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><a href=../../block_reference/adc/adc.html class=nav-block-link>ADC (dsPIC)</a>
<a href=../../block_reference/adc/adc_hs_12b.html class=nav-block-link>ADC HS 12-bit</a>
<a href=../../block_reference/adc/adc_highspeed_sar.html class=nav-block-link>ADC High-Speed SAR</a>
<a href=../../block_reference/adc/adc_highspeed_sar_dspic.html class=nav-block-link>ADC HS SAR (dsPIC)</a>
<a href=../../block_reference/adc/adc_same5x.html class=nav-block-link>ADC (SAM E5x)</a>
<a href=../../block_reference/adc/adc_samrh707x.html class=nav-block-link>ADC (SAMRH707x)</a>
<a href=../../block_reference/adc/afec_sam7x.html class=nav-block-link>AFEC (SAM7x)</a></div></div><div class=nav-subsection id=section-communication><div class=nav-subsection-title onclick='toggleSection("communication")'><span><span class=icon>üì°</span>Communication</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><div class=nav-subsection id=section-uart><div class=nav-subsection-title onclick='toggleSection("uart")'><span><span class=icon></span>UART</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><a href=../../block_reference/communication/uart/uart_config.html class=nav-block-link>UART Config</a>
<a href=../../block_reference/communication/uart/uart_tx.html class=nav-block-link>UART Tx</a>
<a href=../../block_reference/communication/uart/uart_rx.html class=nav-block-link>UART Rx</a>
<a href=../../block_reference/communication/uart/uart_txmatlab.html class=nav-block-link>UART Tx MATLAB</a>
<a href=../../block_reference/communication/uart/uart_break_and_autobaud.html class=nav-block-link>UART Break & Autobaud</a></div></div><div class=nav-subsection id=section-can><div class=nav-subsection-title onclick='toggleSection("can")'><span><span class=icon></span>CAN</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><a href=../../block_reference/communication/can/can_config.html class=nav-block-link>CAN Config</a>
<a href=../../block_reference/communication/can/can_tx.html class=nav-block-link>CAN Tx</a>
<a href=../../block_reference/communication/can/can_rx.html class=nav-block-link>CAN Rx</a></div></div><a href=../../block_reference/communication/i2c.html class=nav-block-link>I2C Master/Slave</a>
<a href=../../block_reference/communication/spi.html class=nav-block-link>SPI Master/Slave</a></div></div><div class=nav-subsection id=section-digital-io><div class=nav-subsection-title onclick='toggleSection("digital-io")'><span><span class=icon>üîå</span>Digital I/O</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><a href=../../block_reference/digital_io/digital_input.html class=nav-block-link>Digital Input</a>
<a href=../../block_reference/digital_io/digital_output.html class=nav-block-link>Digital Output</a>
<a href=../../block_reference/digital_io/digital_output_read.html class=nav-block-link>Digital Output Read</a>
<a href=../../block_reference/digital_io/digital_output_write.html class=nav-block-link>Digital Output Write</a></div></div><div class=nav-subsection id=section-encoders><div class=nav-subsection-title onclick='toggleSection("encoders")'><span><span class=icon>üîÑ</span>Encoders</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><a href=../../block_reference/encoders_counters/qei.html class=nav-block-link>QEI (Quadrature Encoder)</a>
<a href=../../block_reference/encoders_counters/pdec.html class=nav-block-link>PDEC (SAM)</a>
<a href=../../block_reference/encoders_counters/qdec_samx.html class=nav-block-link>QDEC (SAM)</a>
<a href=../../block_reference/encoders_counters/change_notification.html class=nav-block-link>Change Notification</a></div></div><div class=nav-subsection id=section-analog-io><div class=nav-subsection-title onclick='toggleSection("analog-io")'><span><span class=icon>üìâ</span>Analog I/O</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><a href=../../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator.html class=nav-block-link>High-Speed Comparator</a>
<a href=../../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator_wslope.html class=nav-block-link>Comparator w/ Slope</a>
<a href=../../block_reference/analog_io/comparator_opamps_volt_ref/op_amp.html class=nav-block-link>Op-Amp</a>
<a href=../../block_reference/analog_io/comparator_opamps_volt_ref/pga.html class=nav-block-link>PGA (Programmable Gain Amp)</a>
<a href=../../block_reference/analog_io/dac_samx.html class=nav-block-link>DAC (SAM)</a></div></div><div class=nav-subsection id=section-system-config><div class=nav-subsection-title onclick='toggleSection("system-config")'><span><span class=icon>‚öôÔ∏è</span>System Config</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><a href=../../block_reference/system_configuration/master.html class=nav-block-link>Master</a>
<a href=../../block_reference/system_configuration/interrupt.html class=nav-block-link>Interrupt</a>
<a href=../../block_reference/system_configuration/compiler_options.html class=nav-block-link>Compiler Options</a>
<a href=../../block_reference/system_configuration/scheduler_options.html class=nav-block-link>Scheduler Options</a>
<a href=../../block_reference/system_configuration/idle_task.html class=nav-block-link>Idle Task</a>
<a href=../../block_reference/system_configuration/mcu_load.html class=nav-block-link>MCU Load</a>
<a href=../../block_reference/system_configuration/mcu_overload.html class=nav-block-link>MCU Overload</a>
<a href=../../block_reference/system_configuration/tasks_state.html class=nav-block-link>Tasks State</a>
<a href=../../block_reference/system_configuration/secondary_core.html class=nav-block-link>Secondary Core</a></div></div><div class=nav-subsection id=section-utility><div class=nav-subsection-title onclick='toggleSection("utility")'><span><span class=icon>üîß</span>Utility Blocks</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><a href=../../block_reference/user_functions/c_function_call.html class=nav-block-link>C Function Call</a>
<a href=../../block_reference/utility/doc.html class=nav-block-link>Documentation Block</a>
<a href=../../block_reference/utility/msi.html class=nav-block-link>MSI (Model Sample Info)</a>
<a href=../../block_reference/utility/port_info.html class=nav-block-link>Port Info</a>
<a href=../../block_reference/utility/timer_info.html class=nav-block-link>Timer Info</a>
<a href=../../block_reference/utility/simulink_reset_config.html class=nav-block-link>Simulink Reset Config</a></div></div></div></div><div class=nav-section id=section-examples><div class=nav-section-title onclick='toggleSection("examples")'><span><span class=icon>üìñ</span>Examples</span>
<span class=toggle-icon>‚ñ∂</span></div><div class=nav-section-children><a href=../../examples/field_weakening.html class=nav-link>Field Weakening</a></div></div><div class=nav-section id=section-github><a href=https://github.com/microchip-technology/mplab-blockset class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>üíª</span>GitHub</span></a></div></div></nav><div class=content-wrapper><div class=container><div class=breadcrumbs><a href=../../>Home</a>
<span>></span>
<a href=../../block_reference/adc/index.html>ADC Blocks</a>
<span>></span>
<span>ADC HS 12b - 12-bit High-Speed ADC for dsPIC33A</span></div><div class=under-construction-banner><span class=icon>‚ö†Ô∏è</span>
<strong>Documentation Under Construction</strong> ‚Äî
This documentation is currently being developed. All information has not been validated by Microchip yet.</div><div class=page-header><h1>ADC HS 12b - 12-bit High-Speed ADC for dsPIC33A</h1><div class=page-header-right><img src=../../images/microchip-logo.png alt="Microchip Logo" class=microchip-logo>
<button class=theme-toggle onclick=toggleTheme() aria-label="Toggle dark mode">
<span class=theme-icon id=theme-icon>‚òÄÔ∏è</span>
<span id=theme-text>Light</span></button></div></div><div class=block-icon-container><picture class=block-icon-image><source srcset=../../assets/images/blocks/analog/ADC_HS_12b_dsPICA.svg type=image/svg+xml><img src=../../assets/images/blocks/analog/ADC_HS_12b_dsPICA.png alt="Adc Hs 12B Block Icon"></picture><div class=block-icon-description>| Variant | Module Type | ADC Cores | Max Channels per Core | Example Device | |&mdash;|&mdash;|&mdash;|&mdash;|&mdash;| | Perseus (STX04) | DOS_03459_adc_pc_ctrl_upb_v2 | 2 (ADC1, ADC2) | 20 each | 33AK128MC106 | | Pegasus (STX32) | DOS_02976_adc_12b_upb_v2 | 5 (ADC1-5) | 16 each | 33AK512MPS512 | | Blue Ridge (STX33) | DOS_05972_adc_12b_upb_v3_itc | 3 (ADC1-3) | 12 each | 33AK256MPS306 | | Serpens (STX21) | DOS_05972_adc_12b_upb_v3_adc | 2 (ADC1, ADC2) | 20, 39 | 33AKV512GM510 |</div></div><h2 id=quick-reference>Quick Reference</h2><table><thead><tr><th>Application</th><th>Recommended Strategy</th><th>Key Configuration</th></tr></thead><tbody><tr><td><strong>3-Phase FOC Motor Control</strong></td><td>‚≠ê PWM ‚Üí ADC ‚Üí Task</td><td><code>ADC1_seq0: AN0,AN1,AN2</code><br><code>Trigger: 'PWM1 Special Event'</code><br><code>SEVTCMP: 0</code> (PWM valley)</td></tr><tr><td><strong>Single-Shunt FOC</strong></td><td>Multiple Triggers/Period</td><td><code>seq0-2: AN0</code> (shunt)<br><code>Triggers: TRIG1, SEVTCMP, TRIG2</code><br>3 samples/PWM cycle</td></tr><tr><td><strong>Dual Motor Control</strong></td><td>Independent ADC cores</td><td><code>ADC1: Motor1 (SCCP1 trigger)</code><br><code>ADC2: Motor2 (SCCP5 trigger)</code><br>Parallel sampling</td></tr><tr><td><strong>Multi-Channel DAQ</strong></td><td>Timer ‚Üí ADC ‚Üí Task</td><td><code>18 channels across seq0-2</code><br><code>Trigger: SCCP1</code><br>Simultaneous acquisition</td></tr><tr><td><strong>DC-DC Converter</strong></td><td>PWM ‚Üí ADC ‚Üí Task</td><td><code>seq0: Vout, Iout</code><br><code>Trigger: PWM Special Event</code><br>Sample during FET ON</td></tr></tbody></table><p>‚≠ê <strong>Most Common</strong>: Use PWM Special Event trigger at valley (<code>SEVTCMP: 0</code>) for center-aligned motor control PWM</p><h2 id=supported-device-families>Supported Device Families</h2><ul><li><strong>dsPIC33A</strong></li></ul><h2 id=key-features>Key Features</h2><p><strong>Resolution</strong> Fixed 12-bit high-precision <strong>Sequencing</strong> 6 sequences √ó 6 conversions per sequence <strong>Flexibility</strong> Any channel to any sequence slot <strong>Synchronization</strong> SCCP/SSC timer trigger integration <strong>Multiple Cores</strong> 2-5 independent ADC cores <strong>High Speed</strong> Optimized for FOC motor control</p><h2 id=software-sequencing-architecture>Software Sequencing Architecture</h2><h3 id=sequence-configuration>Sequence Configuration</h3><ul><li><strong>6 Sequences:</strong> seq0 through seq5 for each ADC core</li><li><strong>6 Conversions per sequence:</strong> Each sequence can perform up to 6 channel conversions</li><li><strong>Dynamic assignment:</strong> Select any available ANx channel for any conversion slot</li><li><strong>Independent triggers:</strong> Each sequence can have its own trigger source
<strong>Sequence Example:</strong></li><li><strong>ADC1_seq0:</strong> AN0, AN1, AN2 (3-phase currents) - Trigger: PWM1 Special Event</li><li><strong>ADC1_seq1:</strong> AN5, AN6 (DC bus voltage/current) - Trigger: PWM2 Special Event</li><li><strong>ADC2_seq0:</strong> AN20, AN21 (auxiliary sensors) - Trigger: SCCP1 Timer</li></ul><h2 id=configuration-parameters>Configuration Parameters</h2><h3 id=adc-core-selection>ADC Core Selection</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td>ADC1_Enable - ADC5_Enable</td><td>Enable individual ADC cores</td><td>on / off (availability depends on chip variant)</td></tr></tbody></table><h3 id=sequence-configuration-for-each-enabled-adc>Sequence Configuration (for each enabled ADC)</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Details</th></tr></thead><tbody><tr><td>ADCx_seq0</td><td>Channel for sequence 0, conversion 0</td><td>Dropdown with available ANx channels (e.g., &ldquo;Not Used&rdquo;, &ldquo;AN0&rdquo;, &ldquo;AN1&rdquo;, &mldr;)</td></tr><tr><td>ADCx_seq0_1 to ADCx_seq0_5</td><td>Additional conversions in sequence 0</td><td>Up to 6 conversions total per sequence</td></tr><tr><td>ADCx_seq1 through ADCx_seq5</td><td>Additional sequences with 6 conversions each</td><td>Complete flexibility in channel assignment</td></tr></tbody></table><h3 id=trigger-configuration>Trigger Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Available Triggers</th></tr></thead><tbody><tr><td>ADCx_seq0_Trig</td><td>Trigger source for sequence 0</td><td>‚Ä¢ Manual (software)</td></tr><tr><td>ADCx_seq1_Trig - ADCx_seq5_Trig</td><td>Triggers for sequences 1-5</td><td></td></tr></tbody></table><h2 id=pwm-adc-synchronization-strategies>PWM-ADC Synchronization Strategies</h2><p>Proper ADC trigger configuration is critical for motor control and power conversion. The dsPIC33A ADC supports multiple synchronization strategies, each optimized for different control requirements. Understanding when and how to trigger ADC conversions directly impacts control accuracy and performance.</p><h3 id=strategy-overview>Strategy Overview</h3><p>The MCHP_ADC_HS_12b block supports four fundamental synchronization strategies:</p><picture><source srcset=../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_0TrigTimer.svg type=image/svg+xml><img src=../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_0TrigTimer.png alt="Timer Trigger Timing Diagram" style="width:100%;max-width:800px;margin:20px 0">
</picture><picture><source srcset=../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_1TrigTimerADC.svg type=image/svg+xml><img src=../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_1TrigTimerADC.png alt="Timer-ADC-Task Synchronization Diagram" style="width:100%;max-width:800px;margin:20px 0">
</picture><picture><source srcset=../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_2TrigPWMADC.svg type=image/svg+xml><img src=../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_2TrigPWMADC.png alt="PWM-ADC-Task Synchronization Diagram" style="width:100%;max-width:800px;margin:20px 0">
</picture><picture><source srcset=../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_3TrigPWMADC.svg type=image/svg+xml><img src=../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_3TrigPWMADC.png alt="Multiple PWM-ADC Triggers Diagram" style="width:100%;max-width:800px;margin:20px 0"></picture><h4 id=strategy-1-timer-based-trigger-independent-sampling>Strategy 1: Timer-Based Trigger (Independent Sampling)</h4><p><strong>ADC Configuration:</strong></p><ul><li>Set <code>ADCx_seq0_Trig = 'SCCP1'</code> or <code>'SSC1'</code></li><li>Timer runs at fixed frequency independent of PWM</li><li>Control task triggered by ADC interrupt completion</li></ul><p><strong>When to Use:</strong></p><ul><li>General-purpose data acquisition</li><li>Sensor monitoring at fixed intervals</li><li>Multi-loop control with different sampling rates</li><li>Applications where PWM synchronization is not critical</li></ul><p><strong>Limitations:</strong></p><ul><li>‚ùå Not synchronized with PWM switching</li><li>‚ùå May sample during switching noise/transients</li><li>‚ùå Not suitable for phase current sensing in motor control</li></ul><h4 id=strategy-2-timer--adc--task-synchronized-acquisition>Strategy 2: Timer ‚Üí ADC ‚Üí Task (Synchronized Acquisition)</h4><p><strong>ADC Configuration:</strong></p><ul><li>Timer trigger starts ADC conversion</li><li>ADC interrupt triggers control task execution</li><li>Ensures fresh data before control algorithm runs</li></ul><p><strong>Key Benefit:</strong> Zero latency - control task always uses the most recent ADC data (no stale samples).</p><p><strong>Configuration Example:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% ADC Block Configuration:</span>
</span></span><span style=display:flex><span>ADC1_Enable <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;on&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>ADC1_seq0 <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;AN0&#39;</span><span style=color:#1f2328>;</span>      <span style=color:#57606a>% First channel</span>
</span></span><span style=display:flex><span>ADC1_seq0_1 <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;AN1&#39;</span><span style=color:#1f2328>;</span>    <span style=color:#57606a>% Second channel</span>
</span></span><span style=display:flex><span>ADC1_seq0_Trig <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;SCCP1&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Timer trigger</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% SCCP1 Timer Block:</span>
</span></span><span style=display:flex><span>Period <span style=color:#1f2328>=</span> <span style=color:#0550ae>1</span><span style=color:#0550ae>/</span><span style=color:#0550ae>10e3</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% 10 kHz sampling rate</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Scheduler Configuration:</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Set control task to be triggered by ADC1 interrupt</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Task sample time = &#39;Inherited&#39; (follows ADC trigger rate)</span>
</span></span></code></pre></div><p><strong>Best For:</strong></p><ul><li>Feedback control systems requiring minimum latency</li><li>Data logging applications</li><li>Sensor monitoring with immediate processing</li></ul><h4 id=strategy-3-pwm--adc--task-motor-control-standard--recommended>Strategy 3: PWM ‚Üí ADC ‚Üí Task (Motor Control Standard) ‚≠ê RECOMMENDED</h4><p><strong>‚≠ê This is the STANDARD approach for motor control and power conversion applications.</strong></p><p><strong>Key Benefits:</strong></p><ul><li>‚úÖ <strong>Optimal sampling timing:</strong> Sample when PWM low-side FET is ON</li><li>‚úÖ <strong>Noise immunity:</strong> Avoid switching transients</li><li>‚úÖ <strong>Accurate current sensing:</strong> Sample during shunt current flow</li><li>‚úÖ <strong>Automatic synchronization:</strong> Control rate matches PWM frequency</li></ul><p><strong>ADC Configuration Example (3-Phase FOC):</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% PWM Block Configuration (MCHP_PWM_HS_FEP):</span>
</span></span><span style=display:flex><span>PWM_Mode <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Center-aligned&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>PWM_Frequency <span style=color:#1f2328>=</span> <span style=color:#0550ae>20e3</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% 20 kHz</span>
</span></span><span style=display:flex><span>SEVTCMP <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Trigger at PWM valley (center point)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% ADC Block Configuration:</span>
</span></span><span style=display:flex><span>ADC1_Enable <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;on&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Phase current sensing (triggered by PWM valley):</span>
</span></span><span style=display:flex><span>ADC1_seq0 <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;AN0&#39;</span><span style=color:#1f2328>;</span>      <span style=color:#57606a>% Phase A current (Iu)</span>
</span></span><span style=display:flex><span>ADC1_seq0_1 <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;AN1&#39;</span><span style=color:#1f2328>;</span>    <span style=color:#57606a>% Phase B current (Iv)</span>
</span></span><span style=display:flex><span>ADC1_seq0_2 <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;AN2&#39;</span><span style=color:#1f2328>;</span>    <span style=color:#57606a>% Phase C current (Iw)</span>
</span></span><span style=display:flex><span>ADC1_seq0_Trig <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;PWM1 Special Event&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% PWM valley trigger</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% DC bus voltage (same trigger):</span>
</span></span><span style=display:flex><span>ADC1_seq1 <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;AN5&#39;</span><span style=color:#1f2328>;</span>      <span style=color:#57606a>% DC bus voltage</span>
</span></span><span style=display:flex><span>ADC1_seq1_Trig <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;PWM1 Special Event&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Same instant as currents</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Result: ADC samples all signals at PWM valley (20 kHz rate)</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Control task triggered by ADC1 interrupt completion</span>
</span></span></code></pre></div><p><strong> Why Sample at PWM Valley?</strong> In center-aligned PWM for 3-phase motor control, the valley (center) is when <strong>all three low-side FETs are simultaneously ON</strong>. This is the <strong>only time</strong> when phase currents flow through shunt resistors, enabling accurate current measurement. Sampling at any other time results in incorrect or zero current readings.
<strong>Trigger Sources for dsPIC33A:</strong></p><table><thead><tr><th>PWM Block</th><th>Trigger Configuration</th><th>ADC Trigger Selection</th></tr></thead><tbody><tr><td>MCHP_PWM_HS_FEP</td><td>Set</td><td>SEVTCMP</td></tr><tr><td>MCHP_MCPWM</td><td>Set</td><td>TRIG1/2/3</td></tr></tbody></table><h4 id=strategy-4-multiple-triggers-per-pwm-period-advanced-control>Strategy 4: Multiple Triggers per PWM Period (Advanced Control)</h4><p><strong>Use Case:</strong> High-performance control requiring multiple measurements per PWM cycle.</p><p><strong>Key Applications:</strong></p><ul><li><strong>Single-shunt FOC:</strong> Sample currents at multiple PWM sector transitions</li><li><strong>Dual sampling:</strong> Measure phase currents at peak and valley</li><li><strong>Sensorless FOC:</strong> Sample back-EMF at multiple rotor positions</li><li><strong>Digital power:</strong> Monitor voltage/current at different switching states</li></ul><p><strong>ADC Configuration Example (Single-Shunt FOC):</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% PWM Block (MCHP_PWM_HS_FEP):</span>
</span></span><span style=display:flex><span>PWM_Mode <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Center-aligned&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>TRIG1 <span style=color:#1f2328>=</span> Period <span style=color:#0550ae>*</span> <span style=color:#0550ae>0.4</span><span style=color:#1f2328>;</span>   <span style=color:#57606a>% Before valley</span>
</span></span><span style=display:flex><span>SEVTCMP <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>            <span style=color:#57606a>% Valley</span>
</span></span><span style=display:flex><span>TRIG2 <span style=color:#1f2328>=</span> Period <span style=color:#0550ae>*</span> <span style=color:#0550ae>0.6</span><span style=color:#1f2328>;</span>   <span style=color:#57606a>% After valley</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% ADC Block Configuration:</span>
</span></span><span style=display:flex><span>ADC1_Enable <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;on&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Sequence 0: First current sample (sector 1)</span>
</span></span><span style=display:flex><span>ADC1_seq0 <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;AN0&#39;</span><span style=color:#1f2328>;</span>      <span style=color:#57606a>% Shunt current</span>
</span></span><span style=display:flex><span>ADC1_seq0_Trig <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;PWM1 TRIG1&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Sequence 1: Second current sample (sector 2)</span>
</span></span><span style=display:flex><span>ADC1_seq1 <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;AN0&#39;</span><span style=color:#1f2328>;</span>      <span style=color:#57606a>% Same shunt (different sector)</span>
</span></span><span style=display:flex><span>ADC1_seq1_Trig <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;PWM1 Special Event&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Valley</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Sequence 2: Third current sample (sector 3)</span>
</span></span><span style=display:flex><span>ADC1_seq2 <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;AN0&#39;</span><span style=color:#1f2328>;</span>      <span style=color:#57606a>% Same shunt (different sector)</span>
</span></span><span style=display:flex><span>ADC1_seq2_Trig <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;PWM1 TRIG2&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Result: 3 current measurements per PWM period</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Reconstruct 3-phase currents from single shunt</span>
</span></span></code></pre></div><p><strong>Advantages:</strong></p><ul><li>Maximum information extraction per PWM cycle</li><li>Improved state estimation (sensorless control)</li><li>Faster transient response</li><li>Cost reduction (single shunt vs. 3 shunts)</li></ul><p><strong>Considerations:</strong></p><ul><li>‚ö†Ô∏è Increased CPU load (multiple sequences to process)</li><li>‚ö†Ô∏è Careful timing analysis required (ensure ADC completes before next trigger)</li><li>‚ö†Ô∏è Complex reconstruction algorithms</li></ul><h3 id=application-specific-recommendations>Application-Specific Recommendations</h3><table><thead><tr><th>Application</th><th>Recommended Strategy</th><th>ADC Configuration</th></tr></thead><tbody><tr><td>3-Phase FOC Motor Control</td><td>PWM ‚Üí ADC ‚Üí Task (Strategy 3)</td><td>‚Ä¢ seq0: 3 phase currents</td></tr><tr><td>Single-Shunt FOC</td><td>Multiple Triggers (Strategy 4)</td><td>‚Ä¢ seq0-2: Shunt current at 3 sector transitions</td></tr><tr><td>BLDC Motor Control</td><td>PWM ‚Üí ADC ‚Üí Task (Strategy 3)</td><td>‚Ä¢ seq0: DC bus current</td></tr><tr><td>PFC Boost Converter</td><td>PWM ‚Üí ADC ‚Üí Task (Strategy 3)</td><td>‚Ä¢ seq0: Input current, output voltage</td></tr><tr><td>DC-DC Buck/Boost</td><td>PWM ‚Üí ADC ‚Üí Task (Strategy 3)</td><td>‚Ä¢ seq0: Output voltage/current</td></tr><tr><td>Multi-Axis Motion Control</td><td>Multiple independent PWM‚ÜíADC chains</td><td>‚Ä¢ ADC1: Motor 1 (PWM1 trigger)</td></tr><tr><td>General Data Acquisition</td><td>Timer ‚Üí ADC ‚Üí Task (Strategy 2)</td><td>‚Ä¢ Multiple sequences at fixed rate</td></tr></tbody></table><h3 id=troubleshooting-synchronization-issues>Troubleshooting Synchronization Issues</h3><table><thead><tr><th>Problem</th><th>Likely Cause</th><th>ADC Configuration Fix</th></tr></thead><tbody><tr><td>Phase currents read as zero</td><td>ADC not triggered at PWM valley</td><td>‚Ä¢ Verify:</td></tr><tr><td>Noisy ADC readings</td><td>Sampling during switching transients</td><td>‚Ä¢ Change trigger to PWM valley or after settling</td></tr><tr><td>No ADC trigger available in dropdown</td><td>PWM block not configured with triggers</td><td>‚Ä¢ In PWM block: Enable</td></tr><tr><td>Control task not synchronized with ADC</td><td>Task triggered by timer, not ADC interrupt</td><td>‚Ä¢ In Scheduler: Set task trigger to ADC interrupt</td></tr><tr><td>Missing ADC samples</td><td>ADC overrun (next trigger before conversion complete)</td><td>‚Ä¢ Reduce number of conversions per sequence</td></tr><tr><td>Inconsistent trigger timing</td><td>Multiple sequences with overlapping triggers</td><td>‚Ä¢ Verify ADC conversion time + margin between triggers</td></tr></tbody></table><h3 id=performance-optimization-tips>Performance Optimization Tips</h3><ul><li><strong>Core Distribution:</strong> Distribute high-frequency channels across multiple ADC cores (ADC1-5) for parallel sampling</li><li><strong>Sequence Organization:</strong> Group channels with same trigger into one sequence to minimize overhead</li><li><strong>Conversion Time:</strong> Calculate total sequence conversion time: N_channels √ó (SAMC + 12 cycles). Ensure completion before next trigger.</li><li><strong>DMA Usage:</strong> For high-speed applications, enable DMA to transfer ADC results without CPU intervention</li><li><strong>Interrupt Priority:</strong> Set ADC interrupt priority higher than control task to ensure immediate data processing
<strong> Quick Start Recommendation:</strong> For most motor control applications, start with <strong>Strategy 3 (PWM ‚Üí ADC ‚Üí Task)</strong>:</li><li>Configure PWM with center-aligned mode and <code>SEVTCMP = 0</code></li><li>Set ADC sequence trigger to <code>'PWM1 Special Event'</code></li><li>Assign phase current channels to same sequence</li><li>Set control task to trigger on ADC interrupt
This provides optimal current measurement with minimal configuration complexity.</li></ul><h3 id=related-pwm-blocks-for-synchronization>Related PWM Blocks for Synchronization</h3><ul><li><a href=pwm_hs_fep.html><strong>MCHP_PWM_HS_FEP</strong></a> - High-resolution PWM for dsPIC33A with multiple triggers</li><li><a href=mcpwm.html><strong>MCHP_MCPWM</strong></a> - Motor Control PWM with advanced trigger capabilities</li><li><a href=pwm_highspeed.html><strong>MCHP_PWM_HighSpeed</strong></a> - High-speed PWM for dsPIC33C</li></ul><h2 id=device-specific-capabilities>Device-Specific Capabilities</h2><h3 id=perseus-33ak128mc106---stx04>Perseus (33AK128MC106) - STX04</h3><ul><li><strong>ADC Cores:</strong> 2 (ADC1, ADC2)</li><li><strong>Channels:</strong> 20 per core (AN0-AN19)</li><li><strong>Timers:</strong> SSC 1, 2, 3, 4, 9</li><li><strong>Best for:</strong> Dual motor control, isolated converters</li></ul><h3 id=pegasus-33ak512mps512---stx32>Pegasus (33AK512MPS512) - STX32</h3><ul><li><strong>ADC Cores:</strong> 5 (ADC1-5)</li><li><strong>Channels:</strong> 16 per core (AN0-AN15)</li><li><strong>Timers:</strong> SCCP 1-9 (more trigger options)</li><li><strong>Best for:</strong> Multi-axis motor control, multi-phase power</li></ul><h3 id=blue-ridge-33ak256mps306---stx33>Blue Ridge (33AK256MPS306) - STX33</h3><ul><li><strong>ADC Cores:</strong> 3 (ADC1-3)</li><li><strong>Channels:</strong> 12 per core (AN0-AN11)</li><li><strong>Timers:</strong> SSC 1, 2, 3, 4, 5</li><li><strong>Best for:</strong> Cost-optimized motor control</li></ul><h3 id=serpens-33akv512gm510---stx21>Serpens (33AKV512GM510) - STX21</h3><ul><li><strong>ADC Cores:</strong> 2 (ADC1, ADC2)</li><li><strong>Channels:</strong> ADC1=20 (AN0-AN19), ADC2=39 (AN0-AN38)</li><li><strong>Timers:</strong> SCC 1, 2, 3, 4, 9</li><li><strong>Best for:</strong> High channel count applications</li></ul><h2 id=block-outputs>Block Outputs</h2><h3 id=dynamic-output-generation>Dynamic Output Generation</h3><p>The block creates output ports automatically based on sequence configuration:</p><ul><li><strong>Output per conversion:</strong> Each assigned channel in each sequence creates one output</li><li><strong>Port naming:</strong> ADCx_seqY_Z format (e.g., ADC1_seq0_0, ADC1_seq0_1, ADC2_seq1_0)</li><li><strong>Data type:</strong> uint16 (12-bit right-aligned)</li><li><strong>Trigger-based updates:</strong> Each output updates when its sequence trigger fires
<strong>Output Example:ADC1:</strong> seq0 ‚Üí AN0, AN1, AN2 | seq1 ‚Üí AN5<strong>ADC2:</strong> seq0 ‚Üí AN10, AN11<strong>Outputs:</strong></li><li>ADC1_seq0_0 (AN0)</li><li>ADC1_seq0_1 (AN1)</li><li>ADC1_seq0_2 (AN2)</li><li>ADC1_seq1_0 (AN5)</li><li>ADC2_seq0_0 (AN10)</li><li>ADC2_seq0_1 (AN11)
Total: 6 outputs</li></ul><h2 id=usage-examples>Usage Examples</h2><h3 id=example-1-3-phase-foc-motor-control>Example 1: 3-Phase FOC Motor Control</h3><p><strong>Configuration:</strong></p><ul><li><strong>ADC1 seq0:</strong> AN0 (Iu), AN1 (Iv), AN2 (Iw) - Trigger: PWM1 Special Event</li><li><strong>ADC1 seq1:</strong> AN5 (Vdc) - Trigger: PWM1 Special Event (same instant)</li><li><strong>ADC2 seq0:</strong> AN10 (Temperature) - Trigger: SSC3 (lower frequency)
<strong>Result:</strong> 3-phase currents + DC bus sampled synchronously with PWM, temperature sampled periodically.</li></ul><h3 id=example-2-dual-motor-control-pegasus>Example 2: Dual Motor Control (Pegasus)</h3><p><strong>Motor 1 (ADC1):</strong></p><ul><li>seq0: AN0, AN1, AN2 (currents) - Trigger: SCCP1</li><li>seq1: AN5 (position feedback) - Trigger: SCCP2
<strong>Motor 2 (ADC2):</strong></li><li>seq0: AN8, AN9, AN10 (currents) - Trigger: SCCP5</li><li>seq1: AN12 (position feedback) - Trigger: SCCP6
<strong>Result:</strong> Independent control of two motors with isolated ADC resources.</li></ul><h3 id=example-3-multi-channel-data-acquisition>Example 3: Multi-Channel Data Acquisition</h3><p><strong>Configuration:</strong></p><ul><li><strong>ADC1:</strong> seq0-2 with 6 channels each = 18 channels total</li><li><strong>Trigger:</strong> All sequences on SCCP1 (simultaneous acquisition)</li><li><strong>Sampling rate:</strong> 10kHz
<strong>Result:</strong> 18-channel synchronized data acquisition system.</li></ul><h2 id=implementation-details>Implementation Details</h2><h3 id=key-registers>Key Registers</h3><table><thead><tr><th>Register</th><th>Purpose</th><th>Configuration</th></tr></thead><tbody><tr><td>ADCxCON</td><td>ADC control</td><td>Enable, clock source, resolution</td></tr><tr><td>ADCxSEQCON</td><td>Sequence control</td><td>Sequence enable, length, trigger assignment</td></tr><tr><td>ADCxCHANNEL[0-5]</td><td>Channel assignment for each sequence conversion</td><td>ANx channel selection per conversion slot</td></tr><tr><td>ADCxTRIG</td><td>Trigger selection</td><td>SCCP/SSC timer or external source</td></tr><tr><td>ADCxDATA[0-5]</td><td>Conversion results</td><td>12-bit data registers (one per conversion in sequence)</td></tr></tbody></table><h2 id=troubleshooting>Troubleshooting</h2><h2 id=performance-tips>Performance Tips</h2><ul><li><strong>Minimize sequence count:</strong> Use fewer sequences with more conversions each for lower overhead</li><li><strong>Trigger alignment:</strong> Align multiple sequences to same trigger for simultaneous sampling</li><li><strong>Core distribution:</strong> Distribute channels across ADC cores to maximize parallel throughput</li><li><strong>Sample time:</strong> Optimize SAMC value per application - shorter for speed, longer for accuracy</li></ul><h2 id=related-blocks>Related Blocks</h2><ul><li>[MCHP_ADC] - Standard ADC for older dsPIC families</li><li>[MCHP_ADC_HighSpeed_SAR] - High-speed SAR for PIC32</li><li>[MCHP_PWM_HS_FEP] - Advanced PWM with ADC trigger for dsPIC33A</li><li>[MCHP_SCCP/SSC] - Timer blocks for ADC triggering</li></ul><h2 id=see-also>See Also</h2><p>[ADC Blocks Overview] | <a href=../block_reference.html>Block Reference</a> |</p><div class=nav-footer><p>Last updated: January 2025 | MPLAB Blockset Documentation</p><p>&copy; 2025 Microchip Technology Inc. All rights reserved.</p></div></div></div><button class=mobile-nav-toggle onclick=toggleMobileSidebar() aria-label="Toggle navigation">
‚ò∞</button></div><script>function toggleTheme(){const t=document.documentElement,n=t.getAttribute("data-theme"),e=n==="dark"?"light":"dark";t.setAttribute("data-theme",e),localStorage.setItem("theme",e),updateThemeButton(e)}function updateThemeButton(e){const t=document.getElementById("theme-icon"),n=document.getElementById("theme-text");e==="dark"?(t.textContent="üåô",n.textContent="Dark"):(t.textContent="‚òÄÔ∏è",n.textContent="Light")}(function(){const n=localStorage.getItem("theme"),s=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=n||(s?"dark":"light");document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)})(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)}}),window.toggleSection=function(e){const t=document.getElementById("section-"+e);if(t&&(t.classList.toggle("expanded"),t.classList.contains("nav-section"))){const n=getExpandedSections();t.classList.contains("expanded")?n.add(e):n.delete(e),localStorage.setItem("expandedSections",JSON.stringify([...n]))}};function getExpandedSections(){const e=localStorage.getItem("expandedSections");return new Set(e?JSON.parse(e):[])}function restoreExpandedSections(){const e=getExpandedSections();e.forEach(e=>{const t=document.getElementById("section-"+e);t&&t.classList.add("expanded")})}function highlightActivePage(){const e=window.location.pathname,t=document.querySelectorAll(".nav-link, .nav-block-link, .nav-section-title[href], .nav-subsection-title[href]");t.forEach(t=>{const n=new URL(t.href,window.location.origin).pathname;if(n===e){t.classList.add("active");const n=t.closest(".nav-subsection");n&&!n.classList.contains("expanded")&&n.classList.add("expanded");const e=t.closest(".nav-section");if(e&&!e.classList.contains("expanded")){e.classList.add("expanded");const n=e.id.replace("section-",""),t=getExpandedSections();t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t]))}}})}window.toggleMobileSidebar=function(){const e=document.querySelector(".sidebar");e&&e.classList.toggle("mobile-visible")},function(){restoreExpandedSections(),highlightActivePage();const t=document.querySelector(".nav-link.active");if(t){const e=t.closest(".nav-section");if(e&&e.id){const n=e.id.replace("section-",""),t=getExpandedSections();t.has(n)||(t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t])))}}}()</script></body></html>