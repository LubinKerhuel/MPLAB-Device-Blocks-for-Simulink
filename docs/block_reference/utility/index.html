<!doctype html><html lang=en><head><title>Utility Blocks - MPLAB Device Blocks for Simulink</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers"><meta name=keywords content="Microchip,MPLAB,MATLAB,Simulink,dsPIC,PIC32,Embedded,Code Generation,Motor Control"><meta name=author content="Microchip Technology Inc."><meta name=robots content="index, follow"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=canonical href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/utility/index.html><link rel=icon type=image/x-icon href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/favicon.ico><style>html,html[data-theme=dark],body{color-scheme:light only!important;background-color:#fff!important;color:#222!important}:root{--bg-primary:#f8f9fa;--bg-secondary:white;--bg-tertiary:#f8f9fa;--text-primary:#2c3e50;--text-secondary:#666;--text-tertiary:#6c757d;--text-heading:#1a1a1a;--border-color:#dee2e6;--border-light:#e1e8ed;--border-medium:#e9ecef;--accent-primary:#1C355E;--accent-secondary:#41B6E6;--accent-hover:#2a5a8f;--accent-light:#D1DDE6;--code-bg:#f4f4f4;--code-text:#c7254e;--pre-bg:linear-gradient(to bottom, #e8e8e8 0%, #f0f0f0 100%);--pre-border:#d0d0d0;--table-hover:#E5F3FF;--table-stripe:#f8f9fa;--note-bg:linear-gradient(to right, #e7f3fe 0%, #f5fbff 100%);--note-border:#2196F3;--note-text:#1976D2;--warning-bg:linear-gradient(to right, #fff9e6 0%, #fffcf0 100%);--warning-border:#ff9800;--warning-text:#f57c00;--shadow-sm:0 2px 4px rgba(0,0,0,0.05);--shadow-md:0 2px 8px rgba(0,0,0,0.08);--shadow-lg:0 2px 12px rgba(0,0,0,0.08)}[data-theme=dark]{--bg-primary:#1a1d23;--bg-secondary:#242831;--bg-tertiary:#2d3139;--text-primary:#e4e6eb;--text-secondary:#adb5bd;--text-tertiary:#8b95a1;--text-heading:#e4e6eb;--border-color:#3a3f4b;--border-light:#3a3f4b;--border-medium:#404654;--accent-primary:#41B6E6;--accent-secondary:#5AC8FA;--accent-hover:#6DD5FF;--accent-light:#1a2d3f;--code-bg:#2d3139;--code-text:#ff6b9d;--pre-bg:linear-gradient(to bottom, #2d3139 0%, #2d3139 100%);--pre-border:#3a3f4b;--table-hover:#1e3a52;--table-stripe:#2d3139;--note-bg:linear-gradient(to right, #1e3a52 0%, #1e3a52 100%);--note-border:#4da6d6;--note-text:#66b3e0;--warning-bg:linear-gradient(to right, #3d3520 0%, #3d3520 100%);--warning-border:#ffb347;--warning-text:#ffc870;--shadow-sm:0 2px 4px rgba(0,0,0,0.3);--shadow-md:0 2px 8px rgba(0,0,0,0.4);--shadow-lg:0 2px 12px rgba(0,0,0,0.5)}:root{--content-max-width:1000px;--content-margin-horizontal:30px;--content-margin-vertical:15px;--container-border-radius:8px}*{transition:background-color .3s ease,color .3s ease,border-color .3s ease}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,roboto,oxygen,ubuntu,cantarell,sans-serif;margin:0;padding:0;line-height:1.6;color:var(--text-primary);background-color:var(--bg-primary);font-size:15px}.doc-wrapper{display:flex;max-width:1600px;margin:0 auto;min-height:100vh}.sidebar{width:280px;background-color:var(--bg-secondary);border-right:1px solid var(--border-color);position:sticky;top:0;height:100vh;overflow-y:auto;overflow-x:hidden;flex-shrink:0}.sidebar::-webkit-scrollbar{width:8px}.sidebar::-webkit-scrollbar-track{background:var(--bg-tertiary)}.sidebar::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.sidebar::-webkit-scrollbar-thumb:hover{background:var(--accent-primary)}.content-wrapper{flex:1;min-width:0;background-color:var(--bg-primary)}.container{max-width:var(--content-max-width);margin:var(--content-margin-vertical)var(--content-margin-horizontal);background-color:var(--bg-secondary);padding:30px;box-shadow:var(--shadow-lg);border-radius:var(--container-border-radius)}.sidebar-header{padding:20px;border-bottom:2px solid var(--border-light);background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-secondary) 100%)}.sidebar-title{color:#fff;font-size:16px;font-weight:700;margin:0;text-align:center}.sidebar-nav{padding:15px 0}.nav-section{margin-bottom:8px}.nav-section-title{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;color:var(--text-primary);font-weight:600;font-size:14px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease}.nav-section-title:hover{background-color:var(--bg-tertiary);border-left-color:var(--accent-primary);color:var(--accent-primary)}.nav-section-title .icon{font-size:16px;margin-right:8px}.nav-section-title .toggle-icon{font-size:12px;transition:transform .2s ease}.nav-section.expanded .toggle-icon{transform:rotate(90deg)}.nav-section-children{display:none;padding-left:15px}.nav-section.expanded>.nav-section-children{display:block}.nav-link{display:block;padding:8px 20px;padding-left:45px;color:var(--text-secondary);font-size:13px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-link:hover{background-color:var(--bg-tertiary);color:var(--accent-primary);border-left-color:var(--accent-light)}.nav-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.nav-subsection{margin-bottom:4px}.nav-subsection-title{display:flex;align-items:center;justify-content:space-between;padding:8px 20px;padding-left:35px;color:var(--text-primary);font-weight:600;font-size:13px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease;background-color:var(--bg-tertiary)}.nav-subsection-title:hover{background-color:var(--bg-primary);border-left-color:var(--accent-secondary);color:var(--accent-secondary)}.nav-subsection-title .icon{font-size:14px;margin-right:6px}.nav-subsection-title .toggle-icon{font-size:10px;transition:transform .2s ease}.nav-subsection.expanded .toggle-icon{transform:rotate(90deg)}.nav-subsection .nav-section-children{display:none;padding-left:10px}.nav-subsection.expanded>.nav-section-children{display:block}.nav-block-link{display:block;padding:6px 20px;padding-left:55px;color:var(--text-secondary);font-size:12px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-block-link:hover{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-secondary)}.nav-block-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.mobile-nav-toggle{display:none;position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background:var(--accent-primary);color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:var(--shadow-lg);z-index:1000}.mobile-nav-toggle:hover{background:var(--accent-hover)}.theme-toggle{display:inline-flex;align-items:center;gap:6px;cursor:pointer;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:20px;padding:6px 12px;font-size:13px;color:var(--text-secondary);margin-left:16px;user-select:none}.theme-toggle:hover{background:var(--accent-light);border-color:var(--accent-primary);color:var(--accent-primary)}.theme-icon{font-size:16px}.page-header{display:flex;justify-content:space-between;align-items:center;padding:16px 0 12px;margin-bottom:20px;border-bottom:3px solid var(--border-light);position:relative}.page-header::after{content:'';position:absolute;bottom:-3px;left:0;width:120px;height:3px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}.page-header h1{margin:0;color:var(--text-heading);font-size:32px;font-weight:700;letter-spacing:-.5px}.page-header-right{display:flex;align-items:center}.microchip-logo{height:40px;max-width:200px;object-fit:contain}.breadcrumbs{display:flex;align-items:center;font-size:13px;color:var(--text-secondary);margin-bottom:16px;padding:10px 14px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-primary)}.breadcrumbs a{color:var(--accent-primary);text-decoration:none;padding:4px 8px;border-radius:3px}.breadcrumbs a:hover{background-color:var(--accent-light);color:var(--accent-hover)}.breadcrumbs span{margin:0 8px;color:var(--text-tertiary)}h2{color:var(--text-heading);font-weight:600;font-size:22px;letter-spacing:-.5px;margin-top:32px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid var(--border-light);position:relative}h2::before{content:'';position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}h3{color:var(--text-primary);font-weight:600;font-size:17px;margin-top:24px;margin-bottom:10px}h4{color:var(--text-primary);font-weight:500;font-size:15px;margin-top:18px;margin-bottom:8px}p{margin-bottom:12px;line-height:1.6;color:var(--text-primary)}table{border-collapse:separate;border-spacing:0;width:100%;margin:18px 0;border:1px solid var(--border-color);border-radius:6px;overflow:hidden;box-shadow:var(--shadow-md)}th{background:linear-gradient(to bottom,var(--accent-primary) 0%,var(--accent-secondary) 100%);color:#fff;padding:14px 16px;text-align:left;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid var(--accent-secondary)}td{padding:12px 16px;border-bottom:1px solid var(--border-medium);vertical-align:top;color:var(--text-primary);background-color:var(--bg-secondary)}tr:last-child td{border-bottom:none}tr:nth-child(even) td{background-color:var(--table-stripe)}tbody tr:hover td{background-color:var(--table-hover)}code{background-color:var(--code-bg);padding:3px 6px;border-radius:3px;font-family:consolas,monaco,courier new,monospace;color:var(--code-text);font-size:14px}pre{background:var(--pre-bg);border:1px solid var(--pre-border);border-left:4px solid var(--accent-primary);border-radius:6px;padding:16px;margin:18px 0;box-shadow:var(--shadow-sm);overflow-x:auto;line-height:1.5}pre code{background-color:initial;padding:0;color:var(--text-primary);font-family:consolas,monaco,courier new,monospace;font-size:14px}.note{background:var(--note-bg);border-left:5px solid var(--note-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.note::before{content:'\2139\FE0F  Note';display:block;font-weight:600;color:var(--note-text);margin-bottom:6px;font-size:14px}.note p{color:var(--text-primary)}.warning{background:var(--warning-bg);border-left:5px solid var(--warning-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.warning::before{content:'\26A0\FE0F  Warning';display:block;font-weight:600;color:var(--warning-text);margin-bottom:6px;font-size:14px}.warning p{color:var(--text-primary)}ul,ol{margin:12px 0;padding-left:30px;line-height:1.6}li{margin:6px 0;color:var(--text-primary)}li mjx-container[display=true]{text-align:left!important;margin:8px 0!important}li p mjx-container[display=true]{text-align:left!important;margin:8px 0!important}a{color:var(--accent-primary);text-decoration:none}a:hover{color:var(--accent-hover);text-decoration:underline}.nav-footer{margin-top:48px;padding:20px 0 12px;border-top:2px solid var(--border-light);font-size:11px;color:var(--text-tertiary);text-align:center}.nav-footer p{margin:0;font-size:11px}.block-icon-container{display:flex;align-items:center;gap:15px;margin:20px auto;padding:15px;max-width:900px;background-color:#f8f9fa;border-radius:8px;border:1px solid #dee2e6;transition:all .2s ease-in-out}.block-card-link{display:flex;align-items:center;gap:15px;flex:1;text-decoration:none;color:inherit}.block-icon-container:has(.block-card-link):hover{background-color:#e9ecef;border-color:#0076a8;box-shadow:0 2px 8px rgba(0,118,168,.15);cursor:pointer}.block-icon-image{flex-shrink:0;width:150px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.block-icon-image picture{width:100%;max-width:150px;display:flex;align-items:center;justify-content:center}.block-icon-image img,.block-icon-image source{max-width:100%;max-height:100%;width:auto;height:auto;display:block;object-fit:contain}.block-icon-description{flex:1;font-size:16px;line-height:1.6;color:#333;column-count:1;max-width:100%}.family-tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:12px;justify-content:center;width:100%}.family-tag{display:inline-block;padding:3px 8px;font-size:11px;font-weight:600;background-color:#2196f3;color:#fff;border-radius:4px;white-space:nowrap}.family-detail{font-weight:400;opacity:.9;font-size:10px;margin-left:3px}.chip-family-badges{display:flex;flex-direction:column;gap:6px;padding:12px;background-color:#e3f2fd;border:2px solid #2196f3;border-radius:6px;min-width:140px;flex-shrink:0}.chip-family-badges::before{content:"Device Support";font-size:11px;font-weight:700;color:#1565c0;text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px;text-align:center}.chip-badge{display:block;padding:6px 10px;font-size:12px;font-weight:600;border-radius:4px;white-space:nowrap;text-align:center;transition:all .15s ease-in-out}.chip-badge:hover{transform:scale(1.05);box-shadow:0 2px 4px rgba(0,0,0,.2)}.chip-badge.dspic30f{background-color:#e3f2fd;color:#1565c0;border:1px solid #90caf9}.chip-badge.dspic33f{background-color:#e8f5e9;color:#2e7d32;border:1px solid #81c784}.chip-badge.dspic33e{background-color:#fff3e0;color:#e65100;border:1px solid #ffb74d}.chip-badge.dspic33c{background-color:#f3e5f5;color:#6a1b9a;border:1px solid #ba68c8}.chip-badge.dspic33a{background-color:#fce4ec;color:#c2185b;border:1px solid #f06292}.chip-badge.pic32{background-color:#e0f7fa;color:#00695c;border:1px solid #4db6ac}.chip-badge.sam{background-color:#fff9c4;color:#f57f17;border:1px solid #fdd835}.chip-badge.all-families{background-color:#e0e0e0;color:#424242;border:1px solid #9e9e9e;font-weight:700}p img,.container>img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-light);border-radius:4px;box-shadow:var(--shadow-sm)}@media(max-width:768px){body{padding:10px 20px}.container{padding:20px}.page-header{flex-direction:column;align-items:flex-start;gap:16px}.microchip-logo{height:40px}.page-header h1{font-size:24px}h2{font-size:20px}h3{font-size:16px}}@media(max-width:1024px){.sidebar{position:fixed;left:-280px;top:0;height:100vh;z-index:999;transition:left .3s ease;box-shadow:2px 0 8px rgba(0,0,0,.15)}.sidebar.mobile-visible{left:0}.mobile-nav-toggle{display:flex;align-items:center;justify-content:center}.content-wrapper{width:100%}.container{margin:10px 15px;padding:20px}.sidebar.mobile-visible::after{content:'';position:fixed;top:0;left:280px;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:-1}}@media(max-width:768px){.container{margin:10px;padding:15px}.page-header h1{font-size:22px}.breadcrumbs{font-size:12px;padding:8px 12px}.nav-section-title{font-size:13px;padding:8px 15px}.nav-link{font-size:12px;padding:6px 15px;padding-left:35px}}.under-construction-banner{background:linear-gradient(135deg,#ff9800 0%,#f57c00 100%);color:#fff;padding:12px 20px;text-align:center;font-size:14px;font-weight:600;border-bottom:3px solid #e65100;box-shadow:0 2px 8px rgba(0,0,0,.15);margin-bottom:20px}.under-construction-banner .icon{font-size:18px;margin-right:8px}.under-construction-banner strong{color:#fff;text-transform:uppercase;letter-spacing:.5px}</style><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","name":"Utility Blocks","description":"MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers","url":"https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink\/block_reference\/utility\/index.html","author":{"@type":"Organization","name":"Microchip Technology Inc."},"datePublished":"2025-10-17","dateModified":"2025-10-18","inLanguage":"en-US"}</script></head><body><div class=doc-wrapper><nav class=sidebar><div class=sidebar-header><h2 class=sidebar-title>MPLAB Blockset</h2></div><div class=sidebar-nav><div class=nav-section><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/index.html class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>üè†</span>Home</span></a></div><div class=nav-section id=section-getting-started><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/index.html class=nav-section-title onclick='return event.stopPropagation(),toggleSection("getting-started"),!0'><span><span class=icon>üöÄ</span>Getting Started</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("getting-started"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/overview.html class=nav-link>Overview</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/installation.html class=nav-link>Installation</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/quick_start.html class=nav-link>Quick Start Guide</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/board_templates.html class=nav-link>Board Templates</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/motor_control_examples.html class=nav-link>Motor Control Examples</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/scheduler_multitasking.html class=nav-link>Scheduler & Multitasking</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/external_mode_pil.html class=nav-link>External Mode & PIL</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/data_visualization.html class=nav-link>Data Visualization</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/supported_devices.html class=nav-link>Supported Devices</a></div></div><div class=nav-section id=section-user-guide><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/index.html class=nav-section-title onclick='return event.stopPropagation(),toggleSection("user-guide"),!0'><span><span class=icon>üìö</span>User Guide</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("user-guide"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/code_generation.html class=nav-link>Code Generation</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/compiler_setup.html class=nav-link>Compiler Setup</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/external_mode.html class=nav-link>External Mode</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/pil_testing.html class=nav-link>PIL Testing</a></div></div><div class=nav-section id=section-block-reference><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/index.html class=nav-section-title onclick='return event.stopPropagation(),toggleSection("block-reference"),!0'><span><span class=icon>üß©</span>Block Reference</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("block-reference"),!1'>‚ñ∂</span></a><div class=nav-section-children><div class=nav-subsection id=section-pwm><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/pwm_io/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("pwm"),!0'><span><span class=icon>‚ö°</span>PWM</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("pwm"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/pwm_io/pwm.html class=nav-block-link>PWM</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/pwm_io/pwm_highspeed.html class=nav-block-link>PWM High-Speed</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/pwm_io/pwm_hs_fep.html class=nav-block-link>PWM HS FEP</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/pwm_io/pwm_highspeed_override.html class=nav-block-link>PWM HS Override</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/pwm_io/mcpwm.html class=nav-block-link>MCPWM (PIC32)</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/pwm_io/pwm_sam7x.html class=nav-block-link>PWM SAM7x</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/pwm_io/pwm_sam7x_override.html class=nav-block-link>PWM SAM7x Override</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/pwm_io/tcc_pwm.html class=nav-block-link>TCC PWM (SAM)</a></div></div><div class=nav-subsection id=section-timers><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/timers/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("timers"),!0'><span><span class=icon>‚è±Ô∏è</span>Timers</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("timers"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/timers/timer_config.html class=nav-block-link>Timer Config</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/timers/timer_pil_profiling.html class=nav-block-link>PIL Profiling Timer</a></div></div><div class=nav-subsection id=section-capture-compare><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/capture_compare/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("capture-compare"),!0'><span><span class=icon>üìè</span>Input Capture / Output Compare</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("capture-compare"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/capture_compare/input_capture.html class=nav-block-link>Input Capture</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/capture_compare/output_compare_hw.html class=nav-block-link>Output Compare (HW)</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/capture_compare/output_compare_sw.html class=nav-block-link>Output Compare (SW)</a></div></div><div class=nav-subsection id=section-adc><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/adc/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("adc"),!0'><span><span class=icon>üìä</span>ADC</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("adc"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/adc/adc.html class=nav-block-link>ADC (dsPIC)</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/adc/adc_hs_12b.html class=nav-block-link>ADC HS 12-bit</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/adc/adc_highspeed_sar.html class=nav-block-link>ADC High-Speed SAR</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/adc/adc_highspeed_sar_dspic.html class=nav-block-link>ADC HS SAR (dsPIC)</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/adc/adc_same5x.html class=nav-block-link>ADC (SAM E5x)</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/adc/adc_samrh707x.html class=nav-block-link>ADC (SAMRH707x)</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/adc/afec_sam7x.html class=nav-block-link>AFEC (SAM7x)</a></div></div><div class=nav-subsection id=section-communication><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("communication"),!0'><span><span class=icon>üì°</span>Communication</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("communication"),!1'>‚ñ∂</span></a><div class=nav-section-children><div class=nav-subsection id=section-uart><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication.html#uart-blocks class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("uart"),!0'><span><span class=icon></span>UART</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("uart"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication/uart/uart_config.html class=nav-block-link>UART Config</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication/uart/uart_tx.html class=nav-block-link>UART Tx</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication/uart/uart_rx.html class=nav-block-link>UART Rx</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication/uart/uart_txmatlab.html class=nav-block-link>UART Tx MATLAB</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication/uart/uart_break_and_autobaud.html class=nav-block-link>UART Break & Autobaud</a></div></div><div class=nav-subsection id=section-can><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication.html#can-blocks class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("can"),!0'><span><span class=icon></span>CAN</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("can"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication/can/can_config.html class=nav-block-link>CAN Config</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication/can/can_tx.html class=nav-block-link>CAN Tx</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication/can/can_rx.html class=nav-block-link>CAN Rx</a></div></div><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication/i2c.html class=nav-block-link>I2C Master/Slave</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication/spi.html class=nav-block-link>SPI Master/Slave</a></div></div><div class=nav-subsection id=section-digital-io><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/digital_io/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("digital-io"),!0'><span><span class=icon>üîå</span>Digital I/O</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("digital-io"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/digital_io/digital_input.html class=nav-block-link>Digital Input</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/digital_io/digital_output.html class=nav-block-link>Digital Output</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/digital_io/digital_output_read.html class=nav-block-link>Digital Output Read</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/digital_io/digital_output_write.html class=nav-block-link>Digital Output Write</a></div></div><div class=nav-subsection id=section-encoders><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/encoders/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("encoders"),!0'><span><span class=icon>üîÑ</span>Encoders</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("encoders"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/encoders_counters/qei.html class=nav-block-link>QEI (Quadrature Encoder)</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/encoders_counters/pdec.html class=nav-block-link>PDEC (SAM)</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/encoders_counters/qdec_samx.html class=nav-block-link>QDEC (SAM)</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/encoders_counters/change_notification.html class=nav-block-link>Change Notification</a></div></div><div class=nav-subsection id=section-analog-io><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/analog_io/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("analog-io"),!0'><span><span class=icon>üìâ</span>Analog I/O</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("analog-io"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/analog_io/dac_samx.html class=nav-block-link>DAC (SAM)</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator.html class=nav-block-link>High-Speed Comparator</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator_wslope.html class=nav-block-link>Comparator w/ Slope</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/analog_io/comparator_opamps_volt_ref/op_amp.html class=nav-block-link>Op-Amp</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/analog_io/comparator_opamps_volt_ref/pga.html class=nav-block-link>PGA (Programmable Gain Amp)</a></div></div><div class=nav-subsection id=section-system-config><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/system_configuration/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("system-config"),!0'><span><span class=icon>‚öôÔ∏è</span>System Config</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("system-config"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/system_configuration/master.html class=nav-block-link>Master</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/system_configuration/interrupt.html class=nav-block-link>Interrupt</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/system_configuration/compiler_options.html class=nav-block-link>Compiler Options</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/system_configuration/scheduler_options.html class=nav-block-link>Scheduler Options</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/system_configuration/idle_task.html class=nav-block-link>Idle Task</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/system_configuration/mcu_load.html class=nav-block-link>MCU Load</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/system_configuration/mcu_overload.html class=nav-block-link>MCU Overload</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/system_configuration/tasks_state.html class=nav-block-link>Tasks State</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/system_configuration/secondary_core.html class=nav-block-link>Secondary Core</a></div></div><div class=nav-subsection id=section-utility><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/utility/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("utility"),!0'><span><span class=icon>üîß</span>Utility Blocks</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("utility"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/user_functions/c_function_call.html class=nav-block-link>C Function Call</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/utility/doc.html class=nav-block-link>Documentation Block</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/utility/msi.html class=nav-block-link>MSI (Model Sample Info)</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/utility/port_info.html class=nav-block-link>Port Info</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/utility/timer_info.html class=nav-block-link>Timer Info</a>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/utility/simulink_reset_config.html class=nav-block-link>Simulink Reset Config</a></div></div></div></div><div class=nav-section id=section-examples><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/examples/index.html class=nav-section-title onclick='return event.stopPropagation(),toggleSection("examples"),!0'><span><span class=icon>üìñ</span>Examples</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("examples"),!1'>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/examples/field_weakening.html class=nav-link>Field Weakening</a></div></div><div class=nav-section id=section-github><a href=https://github.com/microchip-technology/mplab-blocksetindex.html class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>üíª</span>GitHub</span></a></div></div></nav><div class=content-wrapper><div class=container><div class=breadcrumbs><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/index.html>Home</a>
<span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/index.html>Block Reference</a>
<span>></span>
<span>Utility Blocks</span></div><div class=page-header><h1>Utility Blocks</h1><div class=page-header-right><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/microchip-logo.png alt="Microchip Logo" class=microchip-logo>
<button class=theme-toggle onclick=toggleTheme() aria-label="Toggle dark mode">
<span class=theme-icon id=theme-icon>‚òÄÔ∏è</span>
<span id=theme-text>Light</span></button></div></div><h2 id=overview>Overview</h2><p>Utility blocks provide essential support functions for development, debugging, and system information access. The MPLAB Blockset includes blocks for viewing chip documentation, visualizing pin assignments, accessing timer information, and reset configuration - all designed to streamline embedded system development and troubleshooting.</p><h2 id=available-utility-blocks>Available Utility Blocks</h2><h3 id=mchp_doc---chip-documentation-access>MCHP_Doc - Chip Documentation Access</h3><div class=block-icon-container><a href=doc.html class=block-card-link><div class=block-icon-image><picture><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/assets/images/blocks/user_functions/chip_webpage.png alt="chip_webpage Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Quick access to chip documentation</strong> - opens datasheet, reference manual, and device webpage directly from Simulink. - **Datasheet Link**: Opens device-specific datasheet PDF</div></a></div><hr><h3 id=mchp_port_info---pin-assignment-visualization>MCHP_Port_Info - Pin Assignment Visualization</h3><div class=block-icon-container><a href=port_info.html class=block-card-link><div class=block-icon-image><picture><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/assets/images/blocks/user_functions/chip_webpage.png alt="chip_webpage Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Interactive pin assignment viewer</strong> that displays all peripheral pin mappings in graphical format. - **Pin Conflict Detection**: Highlights overlapping pin assignments</div></a></div><hr><h3 id=mchp_timer_info---timer-resource-information>MCHP_Timer_Info - Timer Resource Information</h3><div class=block-icon-container><a href=timer_info.html class=block-card-link><div class=block-icon-image><picture><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/assets/images/blocks/user_functions/chip_webpage.png alt="chip_webpage Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Display timer resource allocation</strong> and configuration details. - **Timer Usage**: Shows which timers are allocated</div></a></div><hr><h3 id=mchp_simulink_reset_config---reset-behavior-configuration>MCHP_Simulink_Reset_Config - Reset Behavior Configuration</h3><div class=block-icon-container><a href=simulink_reset_config.html class=block-card-link><div class=block-icon-image><picture><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/assets/images/blocks/user_functions/Reset.png alt="Reset Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Configure microcontroller reset behavior</strong> for device startup and fault recovery. - **Reset Source Selection**: Power-on, brown-out, watchdog, software</div></a></div><hr><h3 id=mchp_msi---model-state-information>MCHP_MSI - Model State Information</h3><div class=block-icon-container><a href=msi.html class=block-card-link><div class=block-icon-image><picture><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/assets/images/blocks/user_functions/chip_webpage.png alt="chip_webpage Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33C</span></div></div><div class=block-icon-description><strong>Access Simulink model state information</strong> during code generation and simulation. - **Model Parameters**: Access model configuration data</div></a></div><hr><h2 id=block-selection-guide>Block Selection Guide</h2><h3 id=by-development-phase>By Development Phase</h3><table><thead><tr><th>Development Phase</th><th>Recommended Blocks</th><th>Why?</th></tr></thead><tbody><tr><td><strong>Initial Design</strong></td><td>Doc, Port_Info</td><td>Quick access to datasheets, plan pin assignments</td></tr><tr><td><strong>Implementation</strong></td><td>Port_Info, Timer_Info</td><td>Verify resource allocation, detect conflicts</td></tr><tr><td><strong>Debugging</strong></td><td>Port_Info, Timer_Info</td><td>Troubleshoot pin and timer configuration</td></tr><tr><td><strong>Testing</strong></td><td>Simulink_Reset_Config</td><td>Configure fault recovery and reset behavior</td></tr><tr><td><strong>Automation</strong></td><td>MSI</td><td>Custom build scripts, metadata management</td></tr></tbody></table><h3 id=by-problem-type>By Problem Type</h3><table><thead><tr><th>Problem</th><th>Diagnostic Block</th><th>Solution</th></tr></thead><tbody><tr><td><strong>Pin conflict</strong></td><td>Port_Info</td><td>Visualize all pin assignments, find conflicts</td></tr><tr><td><strong>Timer conflict</strong></td><td>Timer_Info</td><td>Show timer allocation, identify overlaps</td></tr><tr><td><strong>Need datasheet</strong></td><td>Doc</td><td>One-click access to chip documentation</td></tr><tr><td><strong>Reset behavior</strong></td><td>Simulink_Reset_Config</td><td>Configure startup and fault recovery</td></tr><tr><td><strong>Build metadata</strong></td><td>MSI</td><td>Access model state for custom scripts</td></tr></tbody></table><hr><h2 id=common-usage-patterns>Common Usage Patterns</h2><h3 id=pin-conflict-debugging>Pin Conflict Debugging</h3><pre tabindex=0><code>1. Add MCHP_Port_Info block to model

2. Build model (Ctrl+B)
   - Port Info generates pin assignment table
   - Conflicts highlighted in red

3. Review pin assignments:
   - Check which peripherals overlap
   - Verify PPS routing correct

4. Resolve conflicts:
   - Change pin selection in affected blocks
   - Rebuild and verify Port_Info shows no conflicts
</code></pre><h3 id=quick-documentation-reference>Quick Documentation Reference</h3><pre tabindex=0><code>1. Add MCHP_Doc block to model

2. Double-click block:
   - Opens GUI with documentation links

3. Access resources:
   - Click &#34;Datasheet&#34; ‚Üí Opens device-specific PDF
   - Click &#34;Reference Manual&#34; ‚Üí Opens peripheral FRM
   - Click &#34;Product Page&#34; ‚Üí Opens Microchip web page

4. Keep block in model:
   - Acts as documentation bookmark
   - No code generated (utility only)
</code></pre><h3 id=timer-resource-planning>Timer Resource Planning</h3><pre tabindex=0><code>1. Add MCHP_Timer_Info block

2. Build model:
   - Displays all timer allocations
   - Shows configuration (period, prescaler)

3. Check timer usage:
   - Verify no conflicts
   - Ensure timer availability for new features

4. Plan new features:
   - Use Timer_Info to identify free timers
   - Add new timer-based peripherals accordingly
</code></pre><hr><h2 id=best-practices>Best Practices</h2><h3 id=development-workflow>Development Workflow</h3><p><strong>Always Include in Development Models:</strong></p><ul><li>‚úÖ <strong>Port_Info</strong> - Essential for pin planning and conflict detection</li><li>‚úÖ <strong>Doc</strong> - Quick reference access</li><li>‚ö†Ô∏è <strong>Timer_Info</strong> - If using multiple timer-based peripherals</li></ul><p><strong>Remove Before Production:</strong></p><ul><li>‚ùå Utility blocks generate no code but add to model clutter</li><li>‚ùå Consider removing before final release (optional)</li></ul><h3 id=pin-assignment-strategy>Pin Assignment Strategy</h3><ol><li><strong>Early Planning</strong>: Add Port_Info block before detailed design</li><li><strong>Continuous Verification</strong>: Check Port_Info after each peripheral added</li><li><strong>Pre-Hardware</strong>: Verify all pin assignments before PCB design</li><li><strong>Post-Hardware</strong>: Confirm model matches hardware layout</li></ol><h3 id=documentation-access>Documentation Access</h3><ul><li>Keep MCHP_Doc block near top of model for easy access</li><li>Use when implementing new peripherals (quick reference)</li><li>Share models with doc block for team collaboration</li></ul><hr><h2 id=troubleshooting-common-issues>Troubleshooting Common Issues</h2><h3 id=port_info-not-showing-pins>Port_Info Not Showing Pins</h3><p><strong>Check:</strong></p><ul><li>‚úÖ Model has been built (Ctrl+B) at least once</li><li>‚úÖ Master block present and configured</li><li>‚úÖ Peripherals actually using pins (not simulated)</li></ul><h3 id=timer_info-shows-conflicts>Timer_Info Shows Conflicts</h3><p><strong>Symptoms</strong>: Multiple peripherals trying to use same timer</p><ul><li><strong>Check</strong>: PWM and Input Capture on same timer (not allowed)</li><li><strong>Check</strong>: Multiple timer-triggered ADCs on same timer</li><li><strong>Fix</strong>: Use TIMER_Config with named resources</li><li><strong>Fix</strong>: Assign different timers to each peripheral</li></ul><h3 id=doc-links-not-working>Doc Links Not Working</h3><p><strong>Check:</strong></p><ul><li>‚úÖ Internet connection (for product page)</li><li>‚úÖ PDF reader installed (for datasheets)</li><li>‚úÖ Correct device selected in Master block</li></ul><hr><h2 id=device-family-support>Device Family Support</h2><p>All utility blocks support <strong>all device families</strong>:</p><ul><li>‚úÖ dsPIC30F, dsPIC33F, dsPIC33E, dsPIC33C, dsPIC33A</li><li>‚úÖ PIC24, PIC32</li><li>‚úÖ SAM E5x, SAM E7x, SAM C2x, SAM D2x, SAM V7x, SAM S7x, SAM RH707x</li></ul><hr><h2 id=see-also>See Also</h2><p><strong>Related Block Categories:</strong></p><ul><li><strong><a href=../system_configuration/>System Configuration</a></strong> - For Master block and system setup</li><li><strong><a href=../timers/>Timer Blocks</a></strong> - For timer peripheral configuration</li><li><strong><a href=../digital_io/>Digital I/O Blocks</a></strong> - For GPIO pin assignment</li></ul><p><strong>Recommended Workflow:</strong></p><ol><li>Add MCHP_Master block</li><li>Add MCHP_Doc and MCHP_Port_Info blocks</li><li>Develop application with peripheral blocks</li><li>Verify pin assignments with Port_Info</li><li>Check timer allocation with Timer_Info</li><li>Configure reset behavior with Simulink_Reset_Config</li></ol><p><strong>Example Projects:</strong></p><ul><li><a href=../../getting_started/examples.html>Getting Started Examples</a> - See utility blocks in action</li><li><a href=../../getting_started/board_templates.html>Board Templates</a> - Pre-configured with utility blocks</li></ul><hr><p><strong>üí° Quick Tips:</strong></p><ul><li><strong>Always use Port_Info</strong> when working with multiple peripherals</li><li><strong>Keep Doc block</strong> for quick datasheet access during development</li><li><strong>Check Timer_Info</strong> before adding timer-dependent peripherals</li><li><strong>Configure reset behavior</strong> early for robust startup</li><li><strong>Use MSI</strong> for advanced build automation and metadata</li></ul><h2><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/utility/doc.html>Doc</a></h2><div class=block-icon-container><div class=block-icon-image><picture><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/utility/Doc.svg type=image/svg+xml><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/utility/Doc_hu_1a7afbe82a851eae.webp type=image/webp><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/utility/Doc.png alt="Doc Block Icon"></picture></div><div class=block-icon-description>The <strong>Doc</strong> block provides quick access to MCHP Blockset documentation, help files, examples, and release notes directly from the Simulink model.</div></div><h2 id=features>Features</h2><ul><li>One-click access to block help</li><li>Quick links to user guide</li><li>Example browser</li><li>Release notes and changelog</li><li>Online support resources</li></ul><h2 id=no-configuration-required>No Configuration Required</h2><p>The Doc block has no parameters. Simply double-click to open the documentation menu.</p><h2 id=available-resources>Available Resources</h2><table><thead><tr><th>Resource</th><th>Description</th></tr></thead><tbody><tr><td>Block Reference</td><td>Detailed documentation for all blocks</td></tr><tr><td>User Guide</td><td>Getting started and tutorials</td></tr><tr><td>Examples</td><td>Sample models for various applications</td></tr><tr><td>Release Notes</td><td>Version history and new features</td></tr><tr><td>Support Forum</td><td>Microchip community support</td></tr></tbody></table><h2><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/utility/msi.html>MSI</a></h2><div class=block-icon-container><div class=block-icon-image><picture><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/system_info/chip_webpage.svg type=image/svg+xml><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/system_info/chip_webpage_hu_8b893a9cb7f1d727.webp type=image/webp><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/system_info/chip_webpage.png alt="MSI Block Icon"></picture></div><div class=block-icon-description>The <strong>MSI</strong> block configures the Master Secondary Interface (MSI) for inter-core communication in dual-core dsPIC33CH devices, enabling data exchange between master and secondary cores.</div></div><h2 id=communication-methods>Communication Methods</h2><table><thead><tr><th>Method</th><th>Speed</th><th>Size</th><th>Direction</th><th>Use Case</th></tr></thead><tbody><tr><td>Mailboxes</td><td>Fast</td><td>16 words √ó 16 boxes</td><td>Bidirectional</td><td>Control parameters, flags</td></tr><tr><td>FIFO</td><td>Medium</td><td>Configurable buffer</td><td>Bidirectional</td><td>Data streaming, logs</td></tr><tr><td>Protocol Interrupts</td><td>Immediate</td><td>N/A</td><td>Bidirectional</td><td>Event notification, sync</td></tr></tbody></table><h2 id=block-parameters>Block Parameters</h2><table><thead><tr><th>Parameter</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td>Communication Type</td><td>Select MSI communication method</td><td>Mailbox / FIFO / Protocol Interrupt</td></tr><tr><td>Mailbox Number</td><td>Mailbox index (0-15)</td><td>0 to 15</td></tr><tr><td>Direction</td><td>Data transfer direction</td><td>Master‚ÜíSecondary</td></tr><tr><td>FIFO Size</td><td>FIFO buffer size</td><td>16 to 256 words</td></tr><tr><td>Interrupt Enable</td><td>Generate interrupt on data available</td><td>on / off</td></tr></tbody></table><h2 id=example-dual-core-communication>Example Dual-Core Communication</h2><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Master Core (33CH128MP508):</span>
</span></span><span style=display:flex><span>MSI_Mailbox0_Write<span style=color:#1f2328>:</span>
</span></span><span style=display:flex><span>  <span style=color:#0550ae>-</span> Write speed reference to Mailbox <span style=color:#0550ae>0</span>
</span></span><span style=display:flex><span>  <span style=color:#0550ae>-</span> Trigger secondary interrupt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>MSI_Mailbox1_Read<span style=color:#1f2328>:</span>
</span></span><span style=display:flex><span>  <span style=color:#0550ae>-</span> Read current measurement from Mailbox <span style=color:#0550ae>1</span>
</span></span><span style=display:flex><span>  <span style=color:#0550ae>-</span> Update speed controller
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Secondary Core (33CH128MP508S1):</span>
</span></span><span style=display:flex><span>MSI_Mailbox0_Read<span style=color:#1f2328>:</span>
</span></span><span style=display:flex><span>  <span style=color:#0550ae>-</span> Read speed reference from Mailbox <span style=color:#0550ae>0</span>
</span></span><span style=display:flex><span>  <span style=color:#0550ae>-</span> Execute in interrupt handler
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>MSI_Mailbox1_Write<span style=color:#1f2328>:</span>
</span></span><span style=display:flex><span>  <span style=color:#0550ae>-</span> Write current measurement to Mailbox <span style=color:#0550ae>1</span>
</span></span><span style=display:flex><span>  <span style=color:#0550ae>-</span> Trigger master interrupt
</span></span></code></pre></div><h2 id=mailbox-vs-fifo-selection>Mailbox vs FIFO Selection</h2><table><thead><tr><th>Scenario</th><th>Recommended</th><th>Reason</th></tr></thead><tbody><tr><td>Control loop parameters</td><td>Mailbox</td><td>Fast, deterministic, 16 words enough</td></tr><tr><td>Sensor data streaming</td><td>FIFO</td><td>Buffered, handles variable rates</td></tr><tr><td>Event flags, status</td><td>Mailbox</td><td>Immediate, small data</td></tr><tr><td>Data logging</td><td>FIFO</td><td>Large buffer, non-critical timing</td></tr><tr><td>Synchronization signals</td><td>Protocol Interrupt</td><td>No data, just notification</td></tr></tbody></table><h2 id=synchronization-example>Synchronization Example</h2><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Master triggers secondary task execution</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Master<span style=color:#1f2328>:</span>
</span></span><span style=display:flex><span>  compute_reference<span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>  MSI_SendProtocolInterrupt<span style=color:#1f2328>(</span>SECONDARY_START<span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Secondary <span style=color:#1f2328>(</span>Interrupt Handler<span style=color:#1f2328>):</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span>protocol_interrupt <span style=color:#0550ae>==</span> SECONDARY_START<span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span>    execute_fast_control_loop<span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>    MSI_SendProtocolInterrupt<span style=color:#1f2328>(</span>TASK_COMPLETE<span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Result: Precise task synchronization between cores</span>
</span></span></code></pre></div><h2 id=see-also>See Also</h2><ul><li>[MCHP_SECONDARY_CORE] - Secondary core configuration</li><li>[MCHP_Master] - Dual-core device selection</li></ul><h2><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/utility/port_info.html>PortInfo</a></h2><div class=block-icon-container><div class=block-icon-image><picture><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/utility/PortInfo.svg type=image/svg+xml><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/utility/PortInfo_hu_70f1c23433f887c6.webp type=image/webp><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/utility/PortInfo.png alt="Port Info Block Icon"></picture></div><div class=block-icon-description>The <strong>PortInfo</strong> block displays a summary of GPIO port assignments and Peripheral Pin Select (PPS) mappings for all blocks in the model, helping detect conflicts and verify pin usage.</div></div><h2 id=display-information>Display Information</h2><table><thead><tr><th>Information</th><th>Description</th></tr></thead><tbody><tr><td>Port Assignments</td><td>All GPIO pins used by model with their function</td></tr><tr><td>PPS Mappings</td><td>Remappable peripheral assignments</td></tr><tr><td>Conflicts</td><td>Duplicate pin assignments (highlighted in red)</td></tr><tr><td>Available Pins</td><td>Unused GPIO pins</td></tr></tbody></table><h2 id=example-display>Example Display</h2><pre tabindex=0><code>PORT A:
  RA0: ADC1_AN0 (Analog Input)
  RA1: Digital Output
  RA2: UART1_TX (PPS - RP20)
  RA3: [Available]

PORT B:
  RB0: PWM1H (Fixed)
  RB1: PWM1L (Fixed)
  RB2: QEI1_A (PPS - RP2)
  ‚ö†Ô∏è RB3: CONFLICT - Digital Input + UART2_RX
</code></pre><h2 id=usage>Usage</h2><ul><li>Add PortInfo block to model</li><li>Double-click to open display</li><li>Review port assignments</li><li>Resolve any conflicts shown
<strong>Conflict Resolution:</strong> Conflicts must be fixed before code generation. Change pin assignments in the conflicting peripheral blocks.</li></ul><h2 id=see-also>See Also</h2><ul><li>[MCHP_TimerInfo] - Timer resource allocation</li><li>[MCHP_Digital_Input] - GPIO configuration</li></ul><h2><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/utility/simulink_reset_config.html>Simulink Reset Config</a></h2><div class=block-icon-container><div class=block-icon-image><picture><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/utility/ResetConfig.svg type=image/svg+xml><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/utility/ResetConfig_hu_5068bebbd7f1f236.webp type=image/webp><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/utility/ResetConfig.png alt="Simulink Reset Config Block Icon"></picture></div><div class=block-icon-description>The <strong>Simulink Reset Config</strong> block configures microcontroller reset behavior, startup initialization sequence, and watchdog timer settings.</div></div><h2 id=configuration-parameters>Configuration Parameters</h2><table><thead><tr><th>Parameter</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td>Reset Behavior</td><td>Action on system reset</td><td>‚Ä¢ Initialize all variables</td></tr><tr><td>Watchdog Timer</td><td>Configure WDT operation</td><td>‚Ä¢ Enabled (auto-reset)</td></tr><tr><td>Startup Delay</td><td>Initial delay before main loop</td><td>0 to 1000 ms</td></tr><tr><td>Brown-out Handling</td><td>Low voltage detection behavior</td><td>‚Ä¢ Reset on brown-out</td></tr></tbody></table><h2 id=reset-sources>Reset Sources</h2><table><thead><tr><th>Source</th><th>Description</th><th>Typical Handling</th></tr></thead><tbody><tr><td>Power-On Reset (POR)</td><td>Initial power application</td><td>Full initialization</td></tr><tr><td>Brown-Out Reset (BOR)</td><td>Voltage drop detection</td><td>Full initialization</td></tr><tr><td>Watchdog Timeout</td><td>WDT not serviced</td><td>Full reset, log error</td></tr><tr><td>Software Reset</td><td>Intentional reset command</td><td>Configurable (preserve state)</td></tr><tr><td>External Reset</td><td>MCLR pin assertion</td><td>Full initialization</td></tr></tbody></table><h2 id=example-configuration>Example Configuration</h2><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Safety-critical application with WDT</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Reset Behavior<span style=color:#1f2328>:</span> Initialize all variables
</span></span><span style=display:flex><span>Watchdog Timer<span style=color:#1f2328>:</span> Enabled<span style=color:#1f2328>,</span> <span style=color:#0550ae>1000</span>ms period
</span></span><span style=display:flex><span>Startup Delay<span style=color:#1f2328>:</span> <span style=color:#0550ae>100</span>ms <span style=color:#1f2328>(</span>allow power stabilization<span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span>Brown<span style=color:#0550ae>-</span>out<span style=color:#1f2328>:</span> Reset on brown<span style=color:#0550ae>-</span>out
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Log reset source in EEPROM for diagnostics</span>
</span></span></code></pre></div><h2 id=usage-guidelines>Usage Guidelines</h2><ul><li>Always enable watchdog for safety-critical applications</li><li>Use startup delay for sensor stabilization</li><li>Log reset sources for field diagnostics</li><li>Test all reset scenarios during validation</li></ul><h2 id=see-also>See Also</h2><ul><li>[MCHP_Master] - Watchdog fuse configuration</li><li>[MCHP_IdleTask] - Watchdog servicing</li></ul><h2><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/utility/timer_info.html>TimerInfo</a></h2><div class=block-icon-container><div class=block-icon-image><picture><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/utility/TimerInfo.svg type=image/svg+xml><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/utility/TimerInfo_hu_9cb10f37e5d0fe8d.webp type=image/webp><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/utility/TimerInfo.png alt="Timer Info Block Icon"></picture></div><div class=block-icon-description>The <strong>TimerInfo</strong> block visualizes timer resource allocation across all peripheral blocks, showing which timers are used, their configuration, and detecting conflicts.</div></div><h2 id=display-information>Display Information</h2><table><thead><tr><th>Information</th><th>Description</th></tr></thead><tbody><tr><td>Timer Allocation</td><td>Which peripheral uses which timer</td></tr><tr><td>Timer Configuration</td><td>Prescaler, period, mode</td></tr><tr><td>Conflicts</td><td>Multiple peripherals requesting same timer</td></tr><tr><td>Available Timers</td><td>Unused timer resources</td></tr></tbody></table><h2 id=example-display>Example Display</h2><pre tabindex=0><code>Timer Resources (dsPIC33AK128MC106):

Timer1: ‚ö†Ô∏è CONFLICT
  - MCHP_Interrupt (Hardware Timer mode)
  - MCHP_IC1 (Input Capture)
  ‚Üí Resolve: Use different timer

Timer2: PWM_HS Module
  - PWM timebase, Period=1000, Prescaler=1

Timer3: QEI1 Position Measurement
  - Speed calculation, Period=65535

Timer4: [Available]
Timer5: [Available]
</code></pre><h2 id=usage>Usage</h2><ul><li>Add TimerInfo block to model</li><li>Double-click to view allocation</li><li>Verify no conflicts exist</li><li>Identify available timers for new features
<strong>Timer Conflicts:</strong> Must be resolved before code generation. Reconfigure peripheral blocks to use different timers.</li></ul><h2 id=see-also>See Also</h2><ul><li>[MCHP_PortInfo] - GPIO allocation</li><li>[Timer Blocks] - Timer peripheral blocks</li></ul><h2><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/utility/utility.html>Utility Blocks</a></h2><p>Utility blocks provide essential development tools including compiler configuration, resource visualization, debugging aids, and dual-core communication for dsPIC33CH devices.</p><h2 id=compiler-and-build-tools>Compiler and Build Tools</h2><table><thead><tr><th>Block</th><th>Description</th><th>Purpose</th></tr></thead><tbody><tr><td>MCHP_CompilerOptimisation</td><td>Compiler selection, optimization levels, DFP configuration, linker options</td><td>Control code size, speed, and build behavior</td></tr></tbody></table><h2 id=resource-monitoring-and-visualization>Resource Monitoring and Visualization</h2><table><thead><tr><th>Block</th><th>Description</th><th>Purpose</th></tr></thead><tbody><tr><td>MCHP_PortInfo</td><td>GPIO port assignment display with conflict detection</td><td>Verify pin usage, detect conflicts</td></tr><tr><td>MCHP_TimerInfo</td><td>Timer resource allocation visualization</td><td>Track timer usage, prevent conflicts</td></tr></tbody></table><h2 id=configuration-and-setup>Configuration and Setup</h2><table><thead><tr><th>Block</th><th>Description</th><th>Purpose</th></tr></thead><tbody><tr><td>MCHP_Simulink_Reset_Config</td><td>Reset behavior and watchdog timer configuration</td><td>Configure startup initialization</td></tr><tr><td>MCHP_Doc</td><td>Quick access to documentation and help resources</td><td>One-click access to user guide, examples, support</td></tr></tbody></table><h2 id=dual-core-communication-dspic33ch>Dual-Core Communication (dsPIC33CH)</h2><table><thead><tr><th>Block</th><th>Description</th><th>Applicability</th></tr></thead><tbody><tr><td>MCHP_MSI</td><td>Master Secondary Interface for inter-core data exchange</td><td>dsPIC33CH dual-core only</td></tr></tbody></table><h2 id=typical-usage>Typical Usage</h2><ul><li><strong>Initial Setup:</strong> Configure compiler in MCHP_CompilerOptimisation block</li><li><strong>Development:</strong> Add MCHP_PortInfo and MCHP_TimerInfo to monitor resources</li><li><strong>Debugging:</strong> Use MCHP_Doc for quick access to block help</li><li><strong>Production:</strong> Configure reset behavior with MCHP_Simulink_Reset_Config</li><li><strong>Dual-Core (33CH):</strong> Add MCHP_MSI blocks for master-secondary communication</li></ul><h2 id=important-compiler-settings>Important Compiler Settings</h2><table><thead><tr><th>Setting</th><th>Debug Build</th><th>Production Build</th></tr></thead><tbody><tr><td>Optimization</td><td>-O0 (none)</td><td>-O2 (balanced) or -Os (size)</td></tr><tr><td>Debug Info</td><td>On</td><td>Off (unless field debugging needed)</td></tr><tr><td>GC_SECTIONS</td><td>Off (easier debug)</td><td>On (remove unused code)</td></tr><tr><td>DFP</td><td>Latest available</td><td>Validated version</td></tr></tbody></table><h2 id=see-also>See Also</h2><ul><li><a href=../block_reference/>Block Reference Home</a></li><li>[System Blocks] - Core configuration and monitoring</li><li>[PWM Blocks] - Pulse-width modulation</li><li>[ADC Blocks] - Analog-to-digital conversion</li></ul><div class=nav-footer><p>Last updated: November 2025 | MPLAB Blockset Documentation</p><p>&copy; 2025 Microchip Technology Incorporated and its subsidiaries</p><p style=font-size:10px;margin-top:8px;line-height:1.4>The "Microchip" name and logo, the "M" logo, and other names, logos, and brands are registered
and unregistered trademarks of Microchip Technology Incorporated or its affiliates and/or
subsidiaries in the United States and/or other countries ("Microchip Trademarks"). Information
regarding Microchip Trademarks can be found at
<a href=https://www.microchip.com/en-us/about/legal-information/microchip-trademarks target=_blank style=color:var(--accent-primary)>https://www.microchip.com/en-us/about/legal-information/microchip-trademarks</a>.</p></div></div></div><button class=mobile-nav-toggle onclick=toggleMobileSidebar() aria-label="Toggle navigation">
‚ò∞</button></div><script>function toggleTheme(){const t=document.documentElement,n=t.getAttribute("data-theme"),e=n==="dark"?"light":"dark";t.setAttribute("data-theme",e),localStorage.setItem("theme",e),updateThemeButton(e)}function updateThemeButton(e){const t=document.getElementById("theme-icon"),n=document.getElementById("theme-text");e==="dark"?(t.textContent="üåô",n.textContent="Dark"):(t.textContent="‚òÄÔ∏è",n.textContent="Light")}(function(){const n=localStorage.getItem("theme"),s=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=n||(s?"dark":"light");document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)})(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)}}),window.toggleSection=function(e){const t=document.getElementById("section-"+e);if(t&&(t.classList.toggle("expanded"),t.classList.contains("nav-section"))){const n=getExpandedSections();t.classList.contains("expanded")?n.add(e):n.delete(e),localStorage.setItem("expandedSections",JSON.stringify([...n]))}};function getExpandedSections(){const e=localStorage.getItem("expandedSections");return new Set(e?JSON.parse(e):[])}function restoreExpandedSections(){const e=getExpandedSections();e.forEach(e=>{const t=document.getElementById("section-"+e);t&&t.classList.add("expanded")})}function highlightActivePage(){const e=window.location.pathname,t=document.querySelectorAll(".nav-link, .nav-block-link, .nav-section-title[href], .nav-subsection-title[href]");t.forEach(t=>{const n=new URL(t.href,window.location.origin).pathname;if(n===e){t.classList.add("active");const n=t.closest(".nav-subsection");n&&!n.classList.contains("expanded")&&n.classList.add("expanded");const e=t.closest(".nav-section");if(e&&!e.classList.contains("expanded")){e.classList.add("expanded");const n=e.id.replace("section-",""),t=getExpandedSections();t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t]))}}})}window.toggleMobileSidebar=function(){const e=document.querySelector(".sidebar");e&&e.classList.toggle("mobile-visible")},function(){restoreExpandedSections(),highlightActivePage();const t=document.querySelector(".nav-link.active");if(t){const e=t.closest(".nav-section");if(e&&e.id){const n=e.id.replace("section-",""),t=getExpandedSections();t.has(n)||(t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t])))}}}()</script></body></html>