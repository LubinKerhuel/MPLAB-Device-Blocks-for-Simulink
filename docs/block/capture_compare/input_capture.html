<!doctype html><html lang=en><head><title>IC - Input Capture Block - MPLAB Device Blocks for Simulink</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers"><meta name=keywords content="Microchip,MPLAB,MATLAB,Simulink,dsPIC,PIC32,Embedded,Code Generation,Motor Control"><meta name=author content="Microchip Technology Inc."><meta name=robots content="index, follow"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=canonical href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/input_capture.html><link rel=icon type=image/x-icon href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/favicon.ico><style>html,html[data-theme=dark],body{color-scheme:light only!important;background-color:#fff!important;color:#222!important}:root{--bg-primary:#f8f9fa;--bg-secondary:white;--bg-tertiary:#f8f9fa;--text-primary:#2c3e50;--text-secondary:#666;--text-tertiary:#6c757d;--text-heading:#1a1a1a;--border-color:#dee2e6;--border-light:#e1e8ed;--border-medium:#e9ecef;--accent-primary:#1C355E;--accent-secondary:#41B6E6;--accent-hover:#2a5a8f;--accent-light:#D1DDE6;--code-bg:#f4f4f4;--code-text:#c7254e;--pre-bg:linear-gradient(to bottom, #e8e8e8 0%, #f0f0f0 100%);--pre-border:#d0d0d0;--table-hover:#E5F3FF;--table-stripe:#f8f9fa;--note-bg:linear-gradient(to right, #e7f3fe 0%, #f5fbff 100%);--note-border:#2196F3;--note-text:#1976D2;--warning-bg:linear-gradient(to right, #fff9e6 0%, #fffcf0 100%);--warning-border:#ff9800;--warning-text:#f57c00;--shadow-sm:0 2px 4px rgba(0,0,0,0.05);--shadow-md:0 2px 8px rgba(0,0,0,0.08);--shadow-lg:0 2px 12px rgba(0,0,0,0.08)}[data-theme=dark]{--bg-primary:#1a1d23;--bg-secondary:#242831;--bg-tertiary:#2d3139;--text-primary:#e4e6eb;--text-secondary:#adb5bd;--text-tertiary:#8b95a1;--text-heading:#e4e6eb;--border-color:#3a3f4b;--border-light:#3a3f4b;--border-medium:#404654;--accent-primary:#41B6E6;--accent-secondary:#5AC8FA;--accent-hover:#6DD5FF;--accent-light:#1a2d3f;--code-bg:#2d3139;--code-text:#ff6b9d;--pre-bg:linear-gradient(to bottom, #2d3139 0%, #2d3139 100%);--pre-border:#3a3f4b;--table-hover:#1e3a52;--table-stripe:#2d3139;--note-bg:linear-gradient(to right, #1e3a52 0%, #1e3a52 100%);--note-border:#4da6d6;--note-text:#66b3e0;--warning-bg:linear-gradient(to right, #3d3520 0%, #3d3520 100%);--warning-border:#ffb347;--warning-text:#ffc870;--shadow-sm:0 2px 4px rgba(0,0,0,0.3);--shadow-md:0 2px 8px rgba(0,0,0,0.4);--shadow-lg:0 2px 12px rgba(0,0,0,0.5)}:root{--content-max-width:1000px;--content-margin-horizontal:30px;--content-margin-vertical:15px;--container-border-radius:8px}*{transition:background-color .3s ease,color .3s ease,border-color .3s ease}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,roboto,oxygen,ubuntu,cantarell,sans-serif;margin:0;padding:0;line-height:1.6;color:var(--text-primary);background-color:var(--bg-primary);font-size:15px}.doc-wrapper{display:flex;max-width:1600px;margin:0 auto;min-height:100vh}.sidebar{width:280px;background-color:var(--bg-secondary);border-right:1px solid var(--border-color);position:sticky;top:0;height:100vh;overflow-y:auto;overflow-x:hidden;flex-shrink:0}.sidebar::-webkit-scrollbar{width:8px}.sidebar::-webkit-scrollbar-track{background:var(--bg-tertiary)}.sidebar::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.sidebar::-webkit-scrollbar-thumb:hover{background:var(--accent-primary)}.content-wrapper{flex:1;min-width:0;background-color:var(--bg-primary)}.container{max-width:var(--content-max-width);margin:var(--content-margin-vertical)var(--content-margin-horizontal);background-color:var(--bg-secondary);padding:30px;box-shadow:var(--shadow-lg);border-radius:var(--container-border-radius)}.sidebar-header{padding:20px;border-bottom:2px solid var(--border-light);background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-secondary) 100%)}.sidebar-title{color:#fff;font-size:16px;font-weight:700;margin:0;text-align:center}.sidebar-nav{padding:15px 0}.nav-section{margin-bottom:8px}.nav-section-title{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;color:var(--text-primary);font-weight:600;font-size:14px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease}.nav-section-title:hover{background-color:var(--bg-tertiary);border-left-color:var(--accent-primary);color:var(--accent-primary)}.nav-section-title .icon{font-size:16px;margin-right:8px}.nav-section-title .toggle-icon{font-size:12px;transition:transform .2s ease}.nav-section.expanded .toggle-icon{transform:rotate(90deg)}.nav-section-children{display:none;padding-left:15px}.nav-section.expanded>.nav-section-children{display:block}.nav-link{display:block;padding:8px 20px;padding-left:45px;color:var(--text-secondary);font-size:13px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-link:hover{background-color:var(--bg-tertiary);color:var(--accent-primary);border-left-color:var(--accent-light)}.nav-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.nav-subsection{margin-bottom:4px}.nav-subsection-title{display:flex;align-items:center;justify-content:space-between;padding:8px 20px;padding-left:35px;color:var(--text-primary);font-weight:600;font-size:13px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease;background-color:var(--bg-tertiary)}.nav-subsection-title:hover{background-color:var(--bg-primary);border-left-color:var(--accent-secondary);color:var(--accent-secondary)}.nav-subsection-title .icon{font-size:14px;margin-right:6px}.nav-subsection-title .toggle-icon{font-size:10px;transition:transform .2s ease}.nav-subsection.expanded .toggle-icon{transform:rotate(90deg)}.nav-subsection .nav-section-children{display:none;padding-left:10px}.nav-subsection.expanded>.nav-section-children{display:block}.nav-block-link{display:block;padding:6px 20px;padding-left:55px;color:var(--text-secondary);font-size:12px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-block-link:hover{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-secondary)}.nav-block-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.mobile-nav-toggle{display:none;position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background:var(--accent-primary);color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:var(--shadow-lg);z-index:1000}.mobile-nav-toggle:hover{background:var(--accent-hover)}.theme-toggle{display:inline-flex;align-items:center;gap:6px;cursor:pointer;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:20px;padding:6px 12px;font-size:13px;color:var(--text-secondary);margin-left:16px;user-select:none}.theme-toggle:hover{background:var(--accent-light);border-color:var(--accent-primary);color:var(--accent-primary)}.theme-icon{font-size:16px}.page-header{display:flex;justify-content:space-between;align-items:center;padding:16px 0 12px;margin-bottom:20px;border-bottom:3px solid var(--border-light);position:relative}.page-header::after{content:'';position:absolute;bottom:-3px;left:0;width:120px;height:3px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}.page-header h1{margin:0;color:var(--text-heading);font-size:32px;font-weight:700;letter-spacing:-.5px}.page-header-right{display:flex;align-items:center}.microchip-logo{height:40px;max-width:200px;object-fit:contain}.breadcrumbs{display:flex;align-items:center;font-size:13px;color:var(--text-secondary);margin-bottom:16px;padding:10px 14px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-primary)}.breadcrumbs a{color:var(--accent-primary);text-decoration:none;padding:4px 8px;border-radius:3px}.breadcrumbs a:hover{background-color:var(--accent-light);color:var(--accent-hover)}.breadcrumbs span{margin:0 8px;color:var(--text-tertiary)}h2{color:var(--text-heading);font-weight:600;font-size:22px;letter-spacing:-.5px;margin-top:32px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid var(--border-light);position:relative}h2::before{content:'';position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}h3{color:var(--text-primary);font-weight:600;font-size:17px;margin-top:24px;margin-bottom:10px}h4{color:var(--text-primary);font-weight:500;font-size:15px;margin-top:18px;margin-bottom:8px}p{margin-bottom:12px;line-height:1.6;color:var(--text-primary)}table{border-collapse:separate;border-spacing:0;width:100%;margin:18px 0;border:1px solid var(--border-color);border-radius:6px;overflow:hidden;box-shadow:var(--shadow-md)}th{background:linear-gradient(to bottom,var(--accent-primary) 0%,var(--accent-secondary) 100%);color:#fff;padding:14px 16px;text-align:left;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid var(--accent-secondary)}td{padding:12px 16px;border-bottom:1px solid var(--border-medium);vertical-align:top;color:var(--text-primary);background-color:var(--bg-secondary)}tr:last-child td{border-bottom:none}tr:nth-child(even) td{background-color:var(--table-stripe)}tbody tr:hover td{background-color:var(--table-hover)}code{background-color:var(--code-bg);padding:3px 6px;border-radius:3px;font-family:consolas,monaco,courier new,monospace;color:var(--code-text);font-size:14px}pre{background:var(--pre-bg);border:1px solid var(--pre-border);border-left:4px solid var(--accent-primary);border-radius:6px;padding:16px;margin:18px 0;box-shadow:var(--shadow-sm);overflow-x:auto;line-height:1.5}pre code{background-color:initial;padding:0;color:var(--text-primary);font-family:consolas,monaco,courier new,monospace;font-size:14px}.note{background:var(--note-bg);border-left:5px solid var(--note-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.note::before{content:'\2139\FE0F  Note';display:block;font-weight:600;color:var(--note-text);margin-bottom:6px;font-size:14px}.note p{color:var(--text-primary)}.warning{background:var(--warning-bg);border-left:5px solid var(--warning-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.warning::before{content:'\26A0\FE0F  Warning';display:block;font-weight:600;color:var(--warning-text);margin-bottom:6px;font-size:14px}.warning p{color:var(--text-primary)}ul,ol{margin:12px 0;padding-left:30px;line-height:1.6}li{margin:6px 0;color:var(--text-primary)}li mjx-container[display=true]{text-align:left!important;margin:8px 0!important}li p mjx-container[display=true]{text-align:left!important;margin:8px 0!important}a{color:var(--accent-primary);text-decoration:none}a:hover{color:var(--accent-hover);text-decoration:underline}.nav-footer{margin-top:48px;padding:20px 0 12px;border-top:2px solid var(--border-light);font-size:11px;color:var(--text-tertiary);text-align:center}.nav-footer p{margin:0;font-size:11px}.block-icon-container{display:flex;align-items:center;gap:15px;margin:20px auto;padding:15px;max-width:900px;background-color:#f8f9fa;border-radius:8px;border:1px solid #dee2e6;transition:all .2s ease-in-out}.block-card-link{display:flex;align-items:center;gap:15px;flex:1;text-decoration:none;color:inherit}.block-icon-container:has(.block-card-link):hover{background-color:#e9ecef;border-color:#0076a8;box-shadow:0 2px 8px rgba(0,118,168,.15);cursor:pointer}.block-icon-image{flex-shrink:0;width:150px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.block-icon-image picture{width:100%;max-width:150px;display:flex;align-items:center;justify-content:center}.block-icon-image img,.block-icon-image source{max-width:100%;max-height:100%;width:auto;height:auto;display:block;object-fit:contain}.block-icon-description{flex:1;font-size:16px;line-height:1.6;color:#333;column-count:1;max-width:100%}.family-tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:12px;justify-content:center;width:100%}.family-tag{display:inline-block;padding:3px 8px;font-size:11px;font-weight:600;background-color:#2196f3;color:#fff;border-radius:4px;white-space:nowrap}.family-detail{font-weight:400;opacity:.9;font-size:10px;margin-left:3px}.chip-family-badges{display:flex;flex-direction:column;gap:6px;padding:12px;background-color:#e3f2fd;border:2px solid #2196f3;border-radius:6px;min-width:140px;flex-shrink:0}.chip-family-badges::before{content:"Device Support";font-size:11px;font-weight:700;color:#1565c0;text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px;text-align:center}.chip-badge{display:block;padding:6px 10px;font-size:12px;font-weight:600;border-radius:4px;white-space:nowrap;text-align:center;transition:all .15s ease-in-out}.chip-badge:hover{transform:scale(1.05);box-shadow:0 2px 4px rgba(0,0,0,.2)}.chip-badge.dspic30f{background-color:#e3f2fd;color:#1565c0;border:1px solid #90caf9}.chip-badge.dspic33f{background-color:#e8f5e9;color:#2e7d32;border:1px solid #81c784}.chip-badge.dspic33e{background-color:#fff3e0;color:#e65100;border:1px solid #ffb74d}.chip-badge.dspic33c{background-color:#f3e5f5;color:#6a1b9a;border:1px solid #ba68c8}.chip-badge.dspic33a{background-color:#fce4ec;color:#c2185b;border:1px solid #f06292}.chip-badge.pic32{background-color:#e0f7fa;color:#00695c;border:1px solid #4db6ac}.chip-badge.sam{background-color:#fff9c4;color:#f57f17;border:1px solid #fdd835}.chip-badge.all-families{background-color:#e0e0e0;color:#424242;border:1px solid #9e9e9e;font-weight:700}p img,.container>img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-light);border-radius:4px;box-shadow:var(--shadow-sm)}@media(max-width:768px){body{padding:10px 20px}.container{padding:20px}.page-header{flex-direction:column;align-items:flex-start;gap:16px}.microchip-logo{height:40px}.page-header h1{font-size:24px}h2{font-size:20px}h3{font-size:16px}}@media(max-width:1024px){.sidebar{position:fixed;left:-280px;top:0;height:100vh;z-index:999;transition:left .3s ease;box-shadow:2px 0 8px rgba(0,0,0,.15)}.sidebar.mobile-visible{left:0}.mobile-nav-toggle{display:flex;align-items:center;justify-content:center}.content-wrapper{width:100%}.container{margin:10px 15px;padding:20px}.sidebar.mobile-visible::after{content:'';position:fixed;top:0;left:280px;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:-1}}@media(max-width:768px){.container{margin:10px;padding:15px}.page-header h1{font-size:22px}.breadcrumbs{font-size:12px;padding:8px 12px}.nav-section-title{font-size:13px;padding:8px 15px}.nav-link{font-size:12px;padding:6px 15px;padding-left:35px}}.under-construction-banner{background:linear-gradient(135deg,#ff9800 0%,#f57c00 100%);color:#fff;padding:12px 20px;text-align:center;font-size:14px;font-weight:600;border-bottom:3px solid #e65100;box-shadow:0 2px 8px rgba(0,0,0,.15);margin-bottom:20px}.under-construction-banner .icon{font-size:18px;margin-right:8px}.under-construction-banner strong{color:#fff;text-transform:uppercase;letter-spacing:.5px}</style><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","name":"IC - Input Capture Block","description":"MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers","url":"https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink\/block\/capture_compare\/input_capture.html","author":{"@type":"Organization","name":"Microchip Technology Inc."},"datePublished":"2025-10-16","dateModified":"2025-11-05","inLanguage":"en-US"}</script></head><body><div class=doc-wrapper><nav class=sidebar><div class=sidebar-header><h2 class=sidebar-title><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/>MPLAB Blockset</a></h2></div><div class=sidebar-nav><div class=nav-section><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/index.html class=nav-section-title><span><span class=icon>üè†</span>
<span class=nav-text>Home</span></span></a></div><div class=nav-section id=section-getting_started><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/index.html class=nav-section-title onclick='return toggleSection("getting_started"),!0'><span><span class=icon>üöÄ</span>
<span class=nav-text>Getting Started</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/board_templates.html class=nav-link>Board Templates
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/data_visualization.html class=nav-link>Data Visualization with PIC GUI
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/external_mode_pil.html class=nav-link>External Mode & PIL Testing - MPLAB Device Blocks for Simulink
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/installation.html class=nav-link>MCHP Blockset Installation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/overview.html class=nav-link>MCHP Blockset Overview
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/motor_control_examples.html class=nav-link>Motor Control Examples - MPLAB Device Blocks for Simulink
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/quick_start.html class=nav-link>Quick Start Guide
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/scheduler_multitasking.html class=nav-link>Scheduler & Multitasking - MPLAB Device Blocks for Simulink
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/supported_devices.html class=nav-link>Supported Devices</a></div></div><div class=nav-section id=section-user_guide><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/index.html class=nav-section-title onclick='return toggleSection("user_guide"),!0'><span><span class=icon>üìö</span>
<span class=nav-text>User Guide</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/code_generation.html class=nav-link>Code Generation - User Guide
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/compiler_setup.html class=nav-link>Compiler Setup - User Guide
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/external_mode.html class=nav-link>External Mode - User Guide
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/pil_testing.html class=nav-link>PIL Testing - User Guide</a></div></div><div class="nav-section expanded" id=section-block><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/index.html class=nav-section-title onclick='return toggleSection("block"),!0'><span><span class=icon>üß©</span>
<span class=nav-text>Block Reference</span>
</span><span class=toggle-icon>‚ñº</span></a><div class=nav-section-children><div class=nav-section id=section-pwm_io><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/index.html class=nav-section-title onclick='return toggleSection("pwm_io"),!0'><span><span class=icon>‚ö°</span>
<span class=nav-text>PWM</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/mcpwm.html class=nav-link>MCPWM
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm.html class=nav-link>PWM
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_highspeed.html class=nav-link>PWM HighSpeed
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_highspeed_override.html class=nav-link>PWM HighSpeed Override
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_hs_fep.html class=nav-link>PWM HS FEP
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_sam7x.html class=nav-link>PWM SAM7x
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_sam7x_override.html class=nav-link>PWM SAM7x Override
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/tcc_pwm.html class=nav-link>TCC PWM</a></div></div><div class=nav-section id=section-adc><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/index.html class=nav-section-title onclick='return toggleSection("adc"),!0'><span><span class=icon>üìä</span>
<span class=nav-text>ADC Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc.html class=nav-link>ADC - Standard ADC Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_highspeed_sar.html class=nav-link>ADC HighSpeed SAR - High-Speed SAR ADC Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_highspeed_sar_dspic.html class=nav-link>ADC HighSpeed SAR dsPIC - High-Speed SAR ADC for dsPIC33C
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_hs_12b.html class=nav-link>ADC HS 12b - 12-bit High-Speed ADC for dsPIC33A
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_same5x.html class=nav-link>ADC SAME5x - ADC for SAM E5x/D5x/C2x Families
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_samrh707x.html class=nav-link>ADC SAMRH707x - ADC for SAM RH707x Radiation-Hardened MCU
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/afec_sam7x.html class=nav-link>AFEC SAM7x - Analog Front-End Controller for SAM 7x</a></div></div><div class=nav-section id=section-communication><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/index.html class=nav-section-title onclick='return toggleSection("communication"),!0'><span><span class=icon>üì°</span>
<span class=nav-text>Communication Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/can_config.html class=nav-link>CAN Config
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/can_rx.html class=nav-link>CAN Rx
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/can_tx.html class=nav-link>CAN Tx
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_break_and_autobaud.html class=nav-link>UART Break/Autobaud
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_config.html class=nav-link>UART Config Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_rx.html class=nav-link>UART Rx Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_tx.html class=nav-link>UART Tx Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_txmatlab.html class=nav-link>UART TxMatlab Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/i2c.html class=nav-link>I2C Master/Slave - Communication Blocks
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/spi.html class=nav-link>SPI Master/Slave - Communication Blocks</a></div></div><div class=nav-section id=section-timers><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/timers/index.html class=nav-section-title onclick='return toggleSection("timers"),!0'><span><span class=icon>‚è±Ô∏è</span>
<span class=nav-text>Timer Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/timers/timer_config.html class=nav-link>TIMER Config - Timer Configuration Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/timers/timer_pil_profiling.html class=nav-link>TIMER PIL Profiling - PIL Timing Profiler</a></div></div><div class="nav-section expanded" id=section-capture_compare><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/index.html class=nav-section-title onclick='return toggleSection("capture_compare"),!0'><span><span class=icon>üìè</span>
<span class=nav-text>Input Capture / Output Compare</span>
</span><span class=toggle-icon>‚ñº</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/input_capture.html class="nav-link active">IC - Input Capture Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/output_compare_hw.html class=nav-link>OC HW - Output Compare (Hardware)
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/output_compare_sw.html class=nav-link>OC SW - Software Output Compare</a></div></div><div class=nav-section id=section-digital_io><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/index.html class=nav-section-title onclick='return toggleSection("digital_io"),!0'><span><span class=icon>üîå</span>
<span class=nav-text>Digital I/O Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_input.html class=nav-link>Digital Input
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_output.html class=nav-link>Digital Output
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_output_read.html class=nav-link>Digital Output Read
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_output_write.html class=nav-link>Digital Output Write</a></div></div><div class=nav-section id=section-encoders><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/index.html class=nav-section-title onclick='return toggleSection("encoders"),!0'><span><span class=icon>üîÑ</span>
<span class=nav-text>Encoder Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/change_notification.html class=nav-link>CN - Change Notification (Pin Interrupt)
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/pdec.html class=nav-link>PDEC - Position Decoder for SAM Devices
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/qdec_samx.html class=nav-link>QDEC SAMx - Quadrature Decoder for SAM Devices
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/qei.html class=nav-link>QEI - Quadrature Encoder Interface</a></div></div><div class=nav-section id=section-analog_io><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/index.html class=nav-section-title onclick='return toggleSection("analog_io"),!0'><span><span class=icon>üìâ</span>
<span class=nav-text>Analog I/O Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/dac_samx.html class=nav-link>MCHP DAC SAMx Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator.html class=nav-link>MCHP High-Speed Analog Comparator Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator_wslope.html class=nav-link>MCHP High-Speed Analog Comparator with Slope Compensation Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/op_amp.html class=nav-link>MCHP Op-Amp Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/pga.html class=nav-link>MCHP PGA Documentation</a></div></div><div class=nav-section id=section-system_configuration><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/index.html class=nav-section-title onclick='return toggleSection("system_configuration"),!0'><span><span class=icon>‚öôÔ∏è</span>
<span class=nav-text>System Configuration Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/compiler_options.html class=nav-link>CompilerOptimisation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/idle_task.html class=nav-link>IdleTask
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/interrupt.html class=nav-link>Interrupt
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/master.html class=nav-link>Master
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/mcu_load.html class=nav-link>MCU LOAD
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/mcu_overload.html class=nav-link>MCU OVERLOAD
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/scheduler_options.html class=nav-link>Scheduler Options
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/secondary_core.html class=nav-link>SECONDARY CORE
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/tasks_state.html class=nav-link>Tasks State</a></div></div><div class=nav-section id=section-utility><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/index.html class=nav-section-title onclick='return toggleSection("utility"),!0'><span><span class=icon>üîß</span>
<span class=nav-text>Utility Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/doc.html class=nav-link>Doc
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/msi.html class=nav-link>MSI
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/port_info.html class=nav-link>PortInfo
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/simulink_reset_config.html class=nav-link>Simulink Reset Config
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/timer_info.html class=nav-link>TimerInfo
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/utility.html class=nav-link>Utility Blocks</a></div></div></div></div><div class=nav-section id=section-examples><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/examples/index.html class=nav-section-title onclick='return toggleSection("examples"),!0'><span><span class=icon>üìñ</span>
<span class=nav-text>Examples</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/examples/field_weakening.html class=nav-link>Field-weakening</a></div></div></div></nav><div class=content-wrapper><div class=container><div class=breadcrumbs><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/index.html>Home</a>
<span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/index.html></a><span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/index.html>Block Reference</a>
<span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/index.html>Input Capture / Output Compare</a>
<span>></span>
<span>IC - Input Capture Block</span></div><div class=page-header><h1>IC - Input Capture Block</h1><div class=page-header-right><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/microchip-logo.png alt="Microchip Logo" class=microchip-logo>
<button class=theme-toggle onclick=toggleTheme() aria-label="Toggle dark mode">
<span class=theme-icon id=theme-icon>‚òÄÔ∏è</span>
<span id=theme-text>Light</span></button></div></div><div class=block-icon-container><div class=block-icon-image><picture><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/timers/InputCapture.svg type=image/svg+xml><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/timers/InputCapture_hu_b5e2a00701ffe96c.webp type=image/webp><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/timers/InputCapture.png alt="Input Capture Block Icon"></picture></div><div class=block-icon-description>IC - Input Capture Block InputCapture Block Icon The <strong>MCHP_IC</strong> block captures hardware timer values when external events occur on input pins. It enables precise measurement of pulse widths, periods, frequencies, and event timestamps using dedicated Input Capture peripheral modules. Each IC channel can detect rising edges, falling edges, or both, and automatically capture the associated timer value. This is ideal for encoder interfaces, frequency measurement, and event timing applications.</div></div><p>IC - Input Capture Block</p><p>InputCapture Block Icon
The <strong>MCHP_IC</strong> block captures hardware timer values when external events occur on input pins. It enables precise measurement of pulse widths, periods, frequencies, and event timestamps using dedicated Input Capture peripheral modules.</p><p>Each IC channel can detect rising edges, falling edges, or both, and automatically capture the associated timer value. This is ideal for encoder interfaces, frequency measurement, and event timing applications.</p><h2 id=supported-device-families>Supported Device Families</h2><table><thead><tr><th>Family</th><th>IC Channels</th><th>Edge Detection</th><th>Timer Association</th></tr></thead><tbody><tr><td>dsPIC33F/33E</td><td>IC1-IC8</td><td>Rising, Falling, Both</td><td>Timer2/Timer3</td></tr><tr><td>dsPIC33C/33A</td><td>IC1-IC16 (device dependent)</td><td>Rising, Falling, Both</td><td>Timer1-Timer5</td></tr><tr><td>PIC24F</td><td>IC1-IC9</td><td>Rising, Falling, Both</td><td>Timer2/Timer3</td></tr><tr><td>PIC32MK</td><td>IC1-IC9</td><td>Rising, Falling, Both</td><td>Timer2/Timer3</td></tr></tbody></table><h2 id=configuration-parameters>Configuration Parameters</h2><h3 id=channel-selection>Channel Selection</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>Channel</td><td>IC channel numbers to use</td><td>[1 2 3] for IC1, IC2, IC3</td></tr></tbody></table><h3 id=capture-mode>Capture Mode</h3><table><thead><tr><th>Mode Value</th><th>Description</th><th>Captures</th></tr></thead><tbody><tr><td>1 (0x001)</td><td>Edge detect, every edge</td><td>Every rising or falling edge</td></tr><tr><td>2 (0x002)</td><td>Edge detect, every 4th edge</td><td>Every 4th rising or falling edge</td></tr><tr><td>3 (0x003)</td><td>Edge detect, every 16th edge</td><td>Every 16th rising or falling edge</td></tr><tr><td>4 (0x004)</td><td>Capture rising edge only</td><td>Timer value on rising edge</td></tr><tr><td>5 (0x005)</td><td>Capture falling edge only</td><td>Timer value on falling edge</td></tr><tr><td>6 (0x006)</td><td>Capture every 4th rising edge</td><td>Every 4th rising edge</td></tr><tr><td>7 (0x007)</td><td>Capture every 16th rising edge</td><td>Every 16th rising edge</td></tr></tbody></table><h3 id=measurement-configuration>Measurement Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td>Channel_UP_Down_Periode</td><td>Measurement type per channel</td><td>3: Pulse width (up & down)</td></tr><tr><td>ChangeDetect</td><td>Output only when value changes</td><td>ON/OFF per channel</td></tr><tr><td>Timer_Ref</td><td>Associated timer for each channel</td><td>Timer index or -2 for system timer</td></tr></tbody></table><h3 id=pin-mapping-for-remappable-devices>Pin Mapping (for remappable devices)</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>PIN_IC1</td><td>&mldr;</td></tr></tbody></table><h2 id=block-inputsoutputs>Block Inputs/Outputs</h2><p><strong>Inputs:</strong> None (captures from hardware pins)</p><p><strong>Outputs:</strong> Dynamic based on configuration</p><ul><li><code>IC1_Up</code>, <code>IC1_Down</code> - Pulse width measurements (mode 3)</li><li><code>IC1_Up</code>, <code>IC1_Period</code> - Pulse and period (mode 5)</li><li><code>IC1_Down</code>, <code>IC1_Period</code> - Down pulse and period (mode 10)</li></ul><p>Output values in timer ticks. Use <code>ICxmax</code> workspace variable for scaling.</p><h2 id=implementation-details>Implementation Details</h2><h3 id=register-configuration-dspic>Register Configuration (dsPIC)</h3><ul><li><p><strong>ICxCON1</strong> register:</p></li><li><p>ICSIDL = 0 (continue in idle mode)</p></li><li><p>ICTMR = timer selection (0=Timer3, 1=Timer2, others device-specific)</p></li><li><p>ICI = interrupt prescaler</p></li><li><p>ICM = capture mode (0x1-0x7)</p></li><li><p><strong>ICxBUF</strong> - Capture buffer (read-only, contains timer value)</p></li><li><p><strong>ICxCON2</strong> (33C/33A) - Additional control bits, trigger synchronization</p></li></ul><h3 id=interrupt-handling>Interrupt Handling</h3><p>IC interrupts trigger on each capture event:</p><ul><li>Edge detected on ICx pin</li><li>Timer value captured to ICxBUF</li><li>IC interrupt flag set (IFS)</li><li>ISR reads ICxBUF and processes measurement</li><li>Measurement output updated (pulse width, period, etc.)</li></ul><h3 id=timing-calculation>Timing Calculation</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Pulse width measurement (mode 3)</span>
</span></span><span style=display:flex><span>RisingEdge_Time <span style=color:#1f2328>=</span> IC_RisingCapture <span style=color:#0550ae>/</span> Timer_Frequency<span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>FallingEdge_Time <span style=color:#1f2328>=</span> IC_FallingCapture <span style=color:#0550ae>/</span> Timer_Frequency<span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>PulseWidth <span style=color:#1f2328>=</span> FallingEdge_Time <span style=color:#0550ae>-</span> RisingEdge_Time<span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Period measurement (mode 5)</span>
</span></span><span style=display:flex><span>Period <span style=color:#1f2328>=</span> <span style=color:#1f2328>(</span>IC_CurrentCapture <span style=color:#0550ae>-</span> IC_PreviousCapture<span style=color:#1f2328>)</span> <span style=color:#0550ae>/</span> Timer_Frequency<span style=color:#1f2328>;</span>
</span></span></code></pre></div><h2 id=usage-examples>Usage Examples</h2><h3 id=example-1-quadrature-encoder-interface>Example 1: Quadrature Encoder Interface</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Measure encoder pulses on IC1 and IC2</span>
</span></span><span style=display:flex><span>Channel<span style=color:#1f2328>:</span> <span style=color:#1f2328>[</span><span style=color:#0550ae>1</span> <span style=color:#0550ae>2</span><span style=color:#1f2328>]</span>
</span></span><span style=display:flex><span>Capture Mode<span style=color:#1f2328>:</span> <span style=color:#1f2328>[</span><span style=color:#0550ae>4</span> <span style=color:#0550ae>4</span><span style=color:#1f2328>]</span>  <span style=color:#57606a>% Rising edge only on both</span>
</span></span><span style=display:flex><span>Channel_UP_Down_Periode<span style=color:#1f2328>:</span> <span style=color:#1f2328>[</span><span style=color:#0550ae>3</span> <span style=color:#0550ae>3</span><span style=color:#1f2328>]</span>  <span style=color:#57606a>% Pulse measurement</span>
</span></span><span style=display:flex><span>Timer_Ref<span style=color:#1f2328>:</span> <span style=color:#1f2328>[</span><span style=color:#0550ae>2</span> <span style=color:#0550ae>2</span><span style=color:#1f2328>]</span>  <span style=color:#57606a>% Both use Timer2</span>
</span></span><span style=display:flex><span>Change Detect<span style=color:#1f2328>:</span> <span style=color:#1f2328>[</span>ON ON<span style=color:#1f2328>]</span>  <span style=color:#57606a>% Output only on changes</span>
</span></span></code></pre></div><p><strong>Result:</strong> Captures encoder A/B channel transitions for position/speed calculation.</p><h3 id=example-2-frequency-measurement>Example 2: Frequency Measurement</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Measure signal frequency on IC1</span>
</span></span><span style=display:flex><span>Channel<span style=color:#1f2328>:</span> <span style=color:#0550ae>1</span>
</span></span><span style=display:flex><span>Capture Mode<span style=color:#1f2328>:</span> <span style=color:#0550ae>4</span>  <span style=color:#57606a>% Rising edge</span>
</span></span><span style=display:flex><span>Channel_UP_Down_Periode<span style=color:#1f2328>:</span> <span style=color:#0550ae>5</span>  <span style=color:#57606a>% Pulse + period</span>
</span></span><span style=display:flex><span>Timer_Ref<span style=color:#1f2328>:</span> <span style=color:#0550ae>3</span>  <span style=color:#57606a>% Timer3 with maximum range</span>
</span></span></code></pre></div><p><strong>Result:</strong> Outputs pulse width and period. Frequency = 1 / (Period_ticks / Timer_Freq)</p><h3 id=example-3-pwm-duty-cycle-measurement>Example 3: PWM Duty Cycle Measurement</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Measure PWM duty cycle</span>
</span></span><span style=display:flex><span>Channel<span style=color:#1f2328>:</span> <span style=color:#0550ae>1</span>
</span></span><span style=display:flex><span>Capture Mode<span style=color:#1f2328>:</span> <span style=color:#0550ae>1</span>  <span style=color:#57606a>% Every edge (rising and falling)</span>
</span></span><span style=display:flex><span>Channel_UP_Down_Periode<span style=color:#1f2328>:</span> <span style=color:#0550ae>5</span>  <span style=color:#57606a>% Up time + period</span>
</span></span></code></pre></div><p><strong>Result:</strong> DutyCycle = (PulseWidth / Period) * 100%</p><h3 id=example-4-event-timestamping>Example 4: Event Timestamping</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Timestamp external events</span>
</span></span><span style=display:flex><span>Channel<span style=color:#1f2328>:</span> <span style=color:#1f2328>[</span><span style=color:#0550ae>1</span> <span style=color:#0550ae>2</span> <span style=color:#0550ae>3</span><span style=color:#1f2328>]</span>  <span style=color:#57606a>% Three event sources</span>
</span></span><span style=display:flex><span>Capture Mode<span style=color:#1f2328>:</span> <span style=color:#1f2328>[</span><span style=color:#0550ae>4</span> <span style=color:#0550ae>4</span> <span style=color:#0550ae>4</span><span style=color:#1f2328>]</span>  <span style=color:#57606a>% Rising edge trigger</span>
</span></span><span style=display:flex><span>Timer_Ref<span style=color:#1f2328>:</span> <span style=color:#1f2328>[</span><span style=color:#0550ae>-</span><span style=color:#0550ae>2</span> <span style=color:#0550ae>-</span><span style=color:#0550ae>2</span> <span style=color:#0550ae>-</span><span style=color:#0550ae>2</span><span style=color:#1f2328>]</span>  <span style=color:#57606a>% Use high-resolution system timer</span>
</span></span></code></pre></div><p><strong>Result:</strong> Precise event timestamps for synchronization or logging.</p><h2 id=timing-considerations>Timing Considerations</h2><h3 id=timer-selection-guidelines>Timer Selection Guidelines</h3><ul><li><strong>High-frequency signals:</strong> Use Timer2/3 with 1:1 prescaler for best resolution</li><li><strong>Low-frequency signals:</strong> Use higher prescaler or 32-bit timer mode to avoid overflow</li><li><strong>Multiple channels:</strong> Share same timer when measuring related signals</li></ul><h3 id=maximum-measurable-period>Maximum Measurable Period</h3><table><thead><tr><th>Timer Config</th><th>Max Period @ 60MHz Fcy</th></tr></thead><tbody><tr><td>16-bit, 1:1 prescaler</td><td>1.09 ms</td></tr><tr><td>16-bit, 1:256 prescaler</td><td>280 ms</td></tr><tr><td>32-bit mode</td><td>71.6 seconds</td></tr></tbody></table><h3 id=interrupt-latency>Interrupt Latency</h3><ul><li>IC interrupt priority should be high for accurate measurements</li><li>Typical latency: 10-20 instruction cycles (dsPIC)</li><li>Use change detect to reduce output update rate if needed</li></ul><h2 id=troubleshooting>Troubleshooting</h2><h3 id=no-capture-events>No Capture Events</h3><p><strong>Check:</strong></p><ul><li>Input signal connected to correct IC pin</li><li>Pin configured as input (check PPS mapping)</li><li>Signal levels meet input threshold (typically 0.3VDD to 0.7VDD)</li><li>Capture mode matches signal characteristics</li></ul><h3 id=incorrect-measurements>Incorrect Measurements</h3><p><strong>Check:</strong></p><ul><li>Timer frequency configuration matches actual clock</li><li>Timer not shared with conflicting peripheral</li><li>ICxmax variable correctly scaled for unit conversion</li><li>Capture mode appropriate for signal type</li></ul><h3 id=overflow-issues>Overflow Issues</h3><p><strong>Solutions:</strong></p><ul><li>Increase timer prescaler for longer periods</li><li>Use 32-bit timer mode (if available)</li><li>Reduce edge prescaler (capture every edge instead of every 4th/16th)</li></ul><h2 id=related-blocks>Related Blocks</h2><ul><li>[MCHP_TIMER_Config] - Configure timer timebase for IC</li><li>[MCHP_OC_HW] - Output Compare for PWM generation</li><li>[MCHP_QEI] - Dedicated quadrature encoder interface</li><li>[MCHP_Digital_Input] - General digital input (no timing)</li></ul><h2 id=see-also>See Also</h2><ul><li><a href=../examples/>Encoder Interface Examples</a></li><li><a href=../examples/>Frequency Measurement Examples</a></li><li>Microchip Family Reference Manual: Input Capture module</li></ul><div class=nav-footer><p>Last updated: November 2025 | MPLAB Blockset Documentation v3.63a</p><p>&copy; 2025 Microchip Technology Incorporated and its subsidiaries</p><p style=font-size:10px;margin-top:8px;line-height:1.4>The "Microchip" name and logo, the "M" logo, and other names, logos, and brands are registered
and unregistered trademarks of Microchip Technology Incorporated or its affiliates and/or
subsidiaries in the United States and/or other countries ("Microchip Trademarks"). Information
regarding Microchip Trademarks can be found at
<a href=https://www.microchip.com/en-us/about/legal-information/microchip-trademarks target=_blank style=color:var(--accent-primary)>https://www.microchip.com/en-us/about/legal-information/microchip-trademarks</a>.</p></div></div></div><button class=mobile-nav-toggle onclick=toggleMobileSidebar() aria-label="Toggle navigation">
‚ò∞</button></div><script>function toggleTheme(){const t=document.documentElement,n=t.getAttribute("data-theme"),e=n==="dark"?"light":"dark";t.setAttribute("data-theme",e),localStorage.setItem("theme",e),updateThemeButton(e)}function updateThemeButton(e){const t=document.getElementById("theme-icon"),n=document.getElementById("theme-text");e==="dark"?(t.textContent="üåô",n.textContent="Dark"):(t.textContent="‚òÄÔ∏è",n.textContent="Light")}(function(){const n=localStorage.getItem("theme"),s=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=n||(s?"dark":"light");document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)})(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)}}),window.toggleSection=function(e){const t=document.getElementById("section-"+e);if(t&&(t.classList.toggle("expanded"),t.classList.contains("nav-section"))){const n=getExpandedSections();t.classList.contains("expanded")?n.add(e):n.delete(e),localStorage.setItem("expandedSections",JSON.stringify([...n]))}};function getExpandedSections(){const e=localStorage.getItem("expandedSections");return new Set(e?JSON.parse(e):[])}function restoreExpandedSections(){const e=getExpandedSections();e.forEach(e=>{const t=document.getElementById("section-"+e);t&&t.classList.add("expanded")})}function highlightActivePage(){const e=window.location.pathname,t=document.querySelectorAll(".nav-link, .nav-block-link, .nav-section-title[href], .nav-subsection-title[href]");t.forEach(t=>{const n=new URL(t.href,window.location.origin).pathname;if(n===e){t.classList.add("active");const n=t.closest(".nav-subsection");n&&!n.classList.contains("expanded")&&n.classList.add("expanded");const e=t.closest(".nav-section");if(e&&!e.classList.contains("expanded")){e.classList.add("expanded");const n=e.id.replace("section-",""),t=getExpandedSections();t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t]))}}})}window.toggleMobileSidebar=function(){const e=document.querySelector(".sidebar");e&&e.classList.toggle("mobile-visible")},function(){restoreExpandedSections(),highlightActivePage();const t=document.querySelector(".nav-link.active");if(t){const e=t.closest(".nav-section");if(e&&e.id){const n=e.id.replace("section-",""),t=getExpandedSections();t.has(n)||(t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t])))}}}()</script></body></html>