<!doctype html><html lang=en><head><title>CAN Rx - MPLAB Device Blocks for Simulink</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers"><meta name=keywords content="Microchip,MPLAB,MATLAB,Simulink,dsPIC,PIC32,Embedded,Code Generation,Motor Control"><meta name=author content="Microchip Technology Inc."><meta name=robots content="index, follow"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=canonical href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/can_rx/><link rel=icon type=image/x-icon href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/favicon.ico><style>html,html[data-theme=dark],body{color-scheme:light only!important;background-color:#fff!important;color:#222!important}:root{--bg-primary:#f8f9fa;--bg-secondary:white;--bg-tertiary:#f8f9fa;--text-primary:#2c3e50;--text-secondary:#666;--text-tertiary:#6c757d;--text-heading:#1a1a1a;--border-color:#dee2e6;--border-light:#e1e8ed;--border-medium:#e9ecef;--accent-primary:#1C355E;--accent-secondary:#41B6E6;--accent-hover:#2a5a8f;--accent-light:#D1DDE6;--code-bg:#f4f4f4;--code-text:#c7254e;--pre-bg:linear-gradient(to bottom, #e8e8e8 0%, #f0f0f0 100%);--pre-border:#d0d0d0;--table-hover:#E5F3FF;--table-stripe:#f8f9fa;--note-bg:linear-gradient(to right, #e7f3fe 0%, #f5fbff 100%);--note-border:#2196F3;--note-text:#1976D2;--warning-bg:linear-gradient(to right, #fff9e6 0%, #fffcf0 100%);--warning-border:#ff9800;--warning-text:#f57c00;--shadow-sm:0 2px 4px rgba(0,0,0,0.05);--shadow-md:0 2px 8px rgba(0,0,0,0.08);--shadow-lg:0 2px 12px rgba(0,0,0,0.08)}[data-theme=dark]{--bg-primary:#1a1d23;--bg-secondary:#242831;--bg-tertiary:#2d3139;--text-primary:#e4e6eb;--text-secondary:#adb5bd;--text-tertiary:#8b95a1;--text-heading:#e4e6eb;--border-color:#3a3f4b;--border-light:#3a3f4b;--border-medium:#404654;--accent-primary:#41B6E6;--accent-secondary:#5AC8FA;--accent-hover:#6DD5FF;--accent-light:#1a2d3f;--code-bg:#2d3139;--code-text:#ff6b9d;--pre-bg:linear-gradient(to bottom, #2d3139 0%, #2d3139 100%);--pre-border:#3a3f4b;--table-hover:#1e3a52;--table-stripe:#2d3139;--note-bg:linear-gradient(to right, #1e3a52 0%, #1e3a52 100%);--note-border:#4da6d6;--note-text:#66b3e0;--warning-bg:linear-gradient(to right, #3d3520 0%, #3d3520 100%);--warning-border:#ffb347;--warning-text:#ffc870;--shadow-sm:0 2px 4px rgba(0,0,0,0.3);--shadow-md:0 2px 8px rgba(0,0,0,0.4);--shadow-lg:0 2px 12px rgba(0,0,0,0.5)}:root{--content-max-width:1000px;--content-margin-horizontal:30px;--content-margin-vertical:15px;--container-border-radius:8px}*{transition:background-color .3s ease,color .3s ease,border-color .3s ease}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,roboto,oxygen,ubuntu,cantarell,sans-serif;margin:0;padding:0;line-height:1.6;color:var(--text-primary);background-color:var(--bg-primary);font-size:15px}.doc-wrapper{display:flex;max-width:1600px;margin:0 auto;min-height:100vh}.sidebar{width:280px;background-color:var(--bg-secondary);border-right:1px solid var(--border-color);position:sticky;top:0;height:100vh;overflow-y:auto;overflow-x:hidden;flex-shrink:0}.sidebar::-webkit-scrollbar{width:8px}.sidebar::-webkit-scrollbar-track{background:var(--bg-tertiary)}.sidebar::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.sidebar::-webkit-scrollbar-thumb:hover{background:var(--accent-primary)}.content-wrapper{flex:1;min-width:0;background-color:var(--bg-primary)}.container{max-width:var(--content-max-width);margin:var(--content-margin-vertical)var(--content-margin-horizontal);background-color:var(--bg-secondary);padding:30px;box-shadow:var(--shadow-lg);border-radius:var(--container-border-radius)}.sidebar-header{padding:20px;border-bottom:2px solid var(--border-light);background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-secondary) 100%)}.sidebar-title{color:#fff;font-size:16px;font-weight:700;margin:0;text-align:center}.sidebar-nav{padding:15px 0}.nav-section{margin-bottom:8px}.nav-section-title{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;color:var(--text-primary);font-weight:600;font-size:14px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease}.nav-section-title:hover{background-color:var(--bg-tertiary);border-left-color:var(--accent-primary);color:var(--accent-primary)}.nav-section-title .icon{font-size:16px;margin-right:8px}.nav-section-title .toggle-icon{font-size:12px;transition:transform .2s ease}.nav-section.expanded .toggle-icon{transform:rotate(90deg)}.nav-section-children{display:none;padding-left:15px}.nav-section.expanded>.nav-section-children{display:block}.nav-link{display:block;padding:8px 20px;padding-left:45px;color:var(--text-secondary);font-size:13px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-link:hover{background-color:var(--bg-tertiary);color:var(--accent-primary);border-left-color:var(--accent-light)}.nav-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.nav-subsection{margin-bottom:4px}.nav-subsection-title{display:flex;align-items:center;justify-content:space-between;padding:8px 20px;padding-left:35px;color:var(--text-primary);font-weight:600;font-size:13px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease;background-color:var(--bg-tertiary)}.nav-subsection-title:hover{background-color:var(--bg-primary);border-left-color:var(--accent-secondary);color:var(--accent-secondary)}.nav-subsection-title .icon{font-size:14px;margin-right:6px}.nav-subsection-title .toggle-icon{font-size:10px;transition:transform .2s ease}.nav-subsection.expanded .toggle-icon{transform:rotate(90deg)}.nav-subsection .nav-section-children{display:none;padding-left:10px}.nav-subsection.expanded>.nav-section-children{display:block}.nav-block-link{display:block;padding:6px 20px;padding-left:55px;color:var(--text-secondary);font-size:12px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-block-link:hover{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-secondary)}.nav-block-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.mobile-nav-toggle{display:none;position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background:var(--accent-primary);color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:var(--shadow-lg);z-index:1000}.mobile-nav-toggle:hover{background:var(--accent-hover)}.theme-toggle{display:inline-flex;align-items:center;gap:6px;cursor:pointer;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:20px;padding:6px 12px;font-size:13px;color:var(--text-secondary);margin-left:16px;user-select:none}.theme-toggle:hover{background:var(--accent-light);border-color:var(--accent-primary);color:var(--accent-primary)}.theme-icon{font-size:16px}.page-header{display:flex;justify-content:space-between;align-items:center;padding:16px 0 12px;margin-bottom:20px;border-bottom:3px solid var(--border-light);position:relative}.page-header::after{content:'';position:absolute;bottom:-3px;left:0;width:120px;height:3px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}.page-header h1{margin:0;color:var(--text-heading);font-size:32px;font-weight:700;letter-spacing:-.5px}.page-header-right{display:flex;align-items:center}.microchip-logo{height:40px;max-width:200px;object-fit:contain}.breadcrumbs{display:flex;align-items:center;font-size:13px;color:var(--text-secondary);margin-bottom:16px;padding:10px 14px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-primary)}.breadcrumbs a{color:var(--accent-primary);text-decoration:none;padding:4px 8px;border-radius:3px}.breadcrumbs a:hover{background-color:var(--accent-light);color:var(--accent-hover)}.breadcrumbs span{margin:0 8px;color:var(--text-tertiary)}h2{color:var(--text-heading);font-weight:600;font-size:22px;letter-spacing:-.5px;margin-top:32px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid var(--border-light);position:relative}h2::before{content:'';position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}h3{color:var(--text-primary);font-weight:600;font-size:17px;margin-top:24px;margin-bottom:10px}h4{color:var(--text-primary);font-weight:500;font-size:15px;margin-top:18px;margin-bottom:8px}p{margin-bottom:12px;line-height:1.6;color:var(--text-primary)}table{border-collapse:separate;border-spacing:0;width:100%;margin:18px 0;border:1px solid var(--border-color);border-radius:6px;overflow:hidden;box-shadow:var(--shadow-md)}th{background:linear-gradient(to bottom,var(--accent-primary) 0%,var(--accent-secondary) 100%);color:#fff;padding:14px 16px;text-align:left;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid var(--accent-secondary)}td{padding:12px 16px;border-bottom:1px solid var(--border-medium);vertical-align:top;color:var(--text-primary);background-color:var(--bg-secondary)}tr:last-child td{border-bottom:none}tr:nth-child(even) td{background-color:var(--table-stripe)}tbody tr:hover td{background-color:var(--table-hover)}code{background-color:var(--code-bg);padding:3px 6px;border-radius:3px;font-family:consolas,monaco,courier new,monospace;color:var(--code-text);font-size:14px}pre{background:var(--pre-bg);border:1px solid var(--pre-border);border-left:4px solid var(--accent-primary);border-radius:6px;padding:16px;margin:18px 0;box-shadow:var(--shadow-sm);overflow-x:auto;line-height:1.5}pre code{background-color:initial;padding:0;color:var(--text-primary);font-family:consolas,monaco,courier new,monospace;font-size:14px}.note{background:var(--note-bg);border-left:5px solid var(--note-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.note::before{content:'\2139\FE0F  Note';display:block;font-weight:600;color:var(--note-text);margin-bottom:6px;font-size:14px}.note p{color:var(--text-primary)}.warning{background:var(--warning-bg);border-left:5px solid var(--warning-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.warning::before{content:'\26A0\FE0F  Warning';display:block;font-weight:600;color:var(--warning-text);margin-bottom:6px;font-size:14px}.warning p{color:var(--text-primary)}ul,ol{margin:12px 0;padding-left:30px;line-height:1.6}li{margin:6px 0;color:var(--text-primary)}li mjx-container[display=true]{text-align:left!important;margin:8px 0!important}li p mjx-container[display=true]{text-align:left!important;margin:8px 0!important}a{color:var(--accent-primary);text-decoration:none}a:hover{color:var(--accent-hover);text-decoration:underline}.nav-footer{margin-top:48px;padding:20px 0 12px;border-top:2px solid var(--border-light);font-size:11px;color:var(--text-tertiary);text-align:center}.nav-footer p{margin:0;font-size:11px}.block-icon-container{display:flex;align-items:center;gap:15px;margin:20px auto;padding:15px;max-width:900px;background-color:#f8f9fa;border-radius:8px;border:1px solid #dee2e6;transition:all .2s ease-in-out}.block-card-link{display:flex;align-items:center;gap:15px;flex:1;text-decoration:none;color:inherit}.block-icon-container:has(.block-card-link):hover{background-color:#e9ecef;border-color:#0076a8;box-shadow:0 2px 8px rgba(0,118,168,.15);cursor:pointer}.block-icon-image{flex-shrink:0;width:150px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.block-icon-image picture{width:100%;max-width:150px;display:flex;align-items:center;justify-content:center}.block-icon-image img,.block-icon-image source{max-width:100%;max-height:100%;width:auto;height:auto;display:block;object-fit:contain}.block-icon-description{flex:1;font-size:16px;line-height:1.6;color:#333;column-count:1;max-width:100%}.family-tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:12px;justify-content:center;width:100%}.family-tag{display:inline-block;padding:3px 8px;font-size:11px;font-weight:600;background-color:#2196f3;color:#fff;border-radius:4px;white-space:nowrap}.family-detail{font-weight:400;opacity:.9;font-size:10px;margin-left:3px}.chip-family-badges{display:flex;flex-direction:column;gap:6px;padding:12px;background-color:#e3f2fd;border:2px solid #2196f3;border-radius:6px;min-width:140px;flex-shrink:0}.chip-family-badges::before{content:"Device Support";font-size:11px;font-weight:700;color:#1565c0;text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px;text-align:center}.chip-badge{display:block;padding:6px 10px;font-size:12px;font-weight:600;border-radius:4px;white-space:nowrap;text-align:center;transition:all .15s ease-in-out}.chip-badge:hover{transform:scale(1.05);box-shadow:0 2px 4px rgba(0,0,0,.2)}.chip-badge.dspic30f{background-color:#e3f2fd;color:#1565c0;border:1px solid #90caf9}.chip-badge.dspic33f{background-color:#e8f5e9;color:#2e7d32;border:1px solid #81c784}.chip-badge.dspic33e{background-color:#fff3e0;color:#e65100;border:1px solid #ffb74d}.chip-badge.dspic33c{background-color:#f3e5f5;color:#6a1b9a;border:1px solid #ba68c8}.chip-badge.dspic33a{background-color:#fce4ec;color:#c2185b;border:1px solid #f06292}.chip-badge.pic32{background-color:#e0f7fa;color:#00695c;border:1px solid #4db6ac}.chip-badge.sam{background-color:#fff9c4;color:#f57f17;border:1px solid #fdd835}.chip-badge.all-families{background-color:#e0e0e0;color:#424242;border:1px solid #9e9e9e;font-weight:700}p img,.container>img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-light);border-radius:4px;box-shadow:var(--shadow-sm)}@media(max-width:768px){body{padding:10px 20px}.container{padding:20px}.page-header{flex-direction:column;align-items:flex-start;gap:16px}.microchip-logo{height:40px}.page-header h1{font-size:24px}h2{font-size:20px}h3{font-size:16px}}@media(max-width:1024px){.sidebar{position:fixed;left:-280px;top:0;height:100vh;z-index:999;transition:left .3s ease;box-shadow:2px 0 8px rgba(0,0,0,.15)}.sidebar.mobile-visible{left:0}.mobile-nav-toggle{display:flex;align-items:center;justify-content:center}.content-wrapper{width:100%}.container{margin:10px 15px;padding:20px}.sidebar.mobile-visible::after{content:'';position:fixed;top:0;left:280px;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:-1}}@media(max-width:768px){.container{margin:10px;padding:15px}.page-header h1{font-size:22px}.breadcrumbs{font-size:12px;padding:8px 12px}.nav-section-title{font-size:13px;padding:8px 15px}.nav-link{font-size:12px;padding:6px 15px;padding-left:35px}}.under-construction-banner{background:linear-gradient(135deg,#ff9800 0%,#f57c00 100%);color:#fff;padding:12px 20px;text-align:center;font-size:14px;font-weight:600;border-bottom:3px solid #e65100;box-shadow:0 2px 8px rgba(0,0,0,.15);margin-bottom:20px}.under-construction-banner .icon{font-size:18px;margin-right:8px}.under-construction-banner strong{color:#fff;text-transform:uppercase;letter-spacing:.5px}</style><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","name":"CAN Rx","description":"MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers","url":"https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink\/block\/communication\/can\/can_rx\/","author":{"@type":"Organization","name":"Microchip Technology Inc."},"datePublished":"2025-10-16","dateModified":"2025-11-05","inLanguage":"en-US"}</script></head><body><div class=doc-wrapper><nav class=sidebar><div class=sidebar-header><h2 class=sidebar-title><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/>MPLAB Device Blocks for Simulink</a></h2></div><div class=sidebar-nav><div class=nav-section><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/ class=nav-section-title><span><span class=icon>ğŸ </span>
<span class=nav-text>Home</span></span></a></div><div class=nav-section id=section-getting_started><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/ class=nav-section-title onclick='return toggleSection("getting_started"),!0'><span><span class=icon>ğŸš€</span>
<span class=nav-text>Getting Started</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/installation/ class=nav-link>MCHP Blockset Installation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/quick_start/ class=nav-link>Quick Start Guide
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/overview/ class=nav-link>MCHP Blockset Overview
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/board_templates/ class=nav-link>Board Templates
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/motor_control_examples/ class=nav-link>Motor Control Examples - MPLAB Device Blocks for Simulink
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/scheduler_multitasking/ class=nav-link>Scheduler & Multitasking - MPLAB Device Blocks for Simulink
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/external_mode_pil/ class=nav-link>External Mode & PIL Testing - MPLAB Device Blocks for Simulink
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/data_visualization/ class=nav-link>Data Visualization with PIC GUI
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/supported_devices/ class=nav-link>Supported Devices</a></div></div><div class=nav-section id=section-videos><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/videos/ class=nav-section-title><span><span class=icon></span>
<span class=nav-text>Video Tutorials</span></span></a></div><div class=nav-section id=section-user_guide><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/ class=nav-section-title onclick='return toggleSection("user_guide"),!0'><span><span class=icon>ğŸ“š</span>
<span class=nav-text>User Guide</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/code_generation/ class=nav-link>Code Generation - User Guide
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/compiler_setup/ class=nav-link>Compiler Setup - User Guide
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/external_mode/ class=nav-link>External Mode - User Guide
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/pil_testing/ class=nav-link>PIL Testing - User Guide</a></div></div><div class="nav-section expanded" id=section-block><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/ class=nav-section-title onclick='return toggleSection("block"),!0'><span><span class=icon>ğŸ§©</span>
<span class=nav-text>Block Reference</span>
</span><span class=toggle-icon>â–¼</span></a><div class=nav-section-children><div class=nav-section id=section-pwm_io><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/ class=nav-section-title onclick='return toggleSection("pwm_io"),!0'><span><span class=icon>âš¡</span>
<span class=nav-text>PWM</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/mcpwm/ class=nav-link>MCPWM
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm/ class=nav-link>PWM
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_highspeed/ class=nav-link>PWM HighSpeed
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_highspeed_override/ class=nav-link>PWM HighSpeed Override
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_hs_fep/ class=nav-link>PWM HS FEP
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_sam7x/ class=nav-link>PWM SAM7x
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_sam7x_override/ class=nav-link>PWM SAM7x Override
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/tcc_pwm/ class=nav-link>TCC PWM</a></div></div><div class=nav-section id=section-adc><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/ class=nav-section-title onclick='return toggleSection("adc"),!0'><span><span class=icon>ğŸ“Š</span>
<span class=nav-text>ADC</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc/ class=nav-link>ADC - Standard ADC Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_highspeed_sar/ class=nav-link>ADC HighSpeed SAR - High-Speed SAR ADC Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_highspeed_sar_dspic/ class=nav-link>ADC HighSpeed SAR dsPIC - High-Speed SAR ADC for dsPIC33C
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_hs_12b/ class=nav-link>ADC HS 12b - 12-bit High-Speed ADC for dsPIC33A
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_same5x/ class=nav-link>ADC SAME5x - ADC for SAM E5x/D5x/C2x Families
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_samrh707x/ class=nav-link>ADC SAMRH707x - ADC for SAM RH707x Radiation-Hardened MCU
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/afec_sam7x/ class=nav-link>AFEC SAM7x - Analog Front-End Controller for SAM 7x</a></div></div><div class="nav-section expanded" id=section-communication><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/ class=nav-section-title onclick='return toggleSection("communication"),!0'><span><span class=icon>ğŸ“¡</span>
<span class=nav-text>Communication</span>
</span><span class=toggle-icon>â–¼</span></a><div class=nav-section-children><div class=nav-section id=section-uart><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/ class=nav-section-title onclick='return toggleSection("uart"),!0'><span><span class=icon>ğŸ“¡</span>
<span class=nav-text>UART</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_break_and_autobaud/ class=nav-link>UART Break/Autobaud
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_config/ class=nav-link>UART Config Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_rx/ class=nav-link>UART Rx Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_tx/ class=nav-link>UART Tx Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_txmatlab/ class=nav-link>UART TxMatlab Block</a></div></div><div class="nav-section expanded" id=section-can><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/ class=nav-section-title onclick='return toggleSection("can"),!0'><span><span class=icon>ğŸšŒ</span>
<span class=nav-text>CAN</span>
</span><span class=toggle-icon>â–¼</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/can_config/ class=nav-link>CAN Config
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/can_rx/ class="nav-link active">CAN Rx
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/can_tx/ class=nav-link>CAN Tx</a></div></div><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/i2c/ class=nav-link>I2C Master/Slave - Communication Blocks
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/spi/ class=nav-link>SPI Master/Slave - Communication Blocks</a></div></div><div class=nav-section id=section-timers><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/timers/ class=nav-section-title onclick='return toggleSection("timers"),!0'><span><span class=icon>â±ï¸</span>
<span class=nav-text>Timers</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/timers/timer_config/ class=nav-link>TIMER Config - Timer Configuration Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/timers/timer_pil_profiling/ class=nav-link>TIMER PIL Profiling - PIL Timing Profiler</a></div></div><div class=nav-section id=section-capture_compare><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/ class=nav-section-title onclick='return toggleSection("capture_compare"),!0'><span><span class=icon>ğŸ“</span>
<span class=nav-text>Input Capture / Output Compare</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/input_capture/ class=nav-link>IC - Input Capture Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/output_compare_hw/ class=nav-link>OC HW - Output Compare (Hardware)
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/output_compare_sw/ class=nav-link>OC SW - Software Output Compare</a></div></div><div class=nav-section id=section-digital_io><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/ class=nav-section-title onclick='return toggleSection("digital_io"),!0'><span><span class=icon>ğŸ”Œ</span>
<span class=nav-text>Digital I/O</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_input/ class=nav-link>Digital Input
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_output/ class=nav-link>Digital Output
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_output_read/ class=nav-link>Digital Output Read
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_output_write/ class=nav-link>Digital Output Write</a></div></div><div class=nav-section id=section-encoders><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/ class=nav-section-title onclick='return toggleSection("encoders"),!0'><span><span class=icon>ğŸ”„</span>
<span class=nav-text>Encoders</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/change_notification/ class=nav-link>CN - Change Notification (Pin Interrupt)
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/pdec/ class=nav-link>PDEC - Position Decoder for SAM Devices
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/qdec_samx/ class=nav-link>QDEC SAMx - Quadrature Decoder for SAM Devices
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/qei/ class=nav-link>QEI - Quadrature Encoder Interface</a></div></div><div class=nav-section id=section-analog_io><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/ class=nav-section-title onclick='return toggleSection("analog_io"),!0'><span><span class=icon>ğŸ“‰</span>
<span class=nav-text>Analog I/O</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><div class=nav-section id=section-comparator_opamps_volt_ref><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/ class=nav-section-title onclick='return toggleSection("comparator_opamps_volt_ref"),!0'><span><span class=icon></span>
<span class=nav-text>Comparator, OpAmp & Voltage Reference</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator/ class=nav-link>MCHP High-Speed Analog Comparator Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator_wslope/ class=nav-link>MCHP High-Speed Analog Comparator with Slope Compensation Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/op_amp/ class=nav-link>MCHP Op-Amp Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/pga/ class=nav-link>MCHP PGA Documentation</a></div></div><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/dac_samx/ class=nav-link>MCHP DAC SAMx Documentation</a></div></div><div class=nav-section id=section-system_configuration><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/ class=nav-section-title onclick='return toggleSection("system_configuration"),!0'><span><span class=icon>âš™ï¸</span>
<span class=nav-text>System Configuration</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/compiler_options/ class=nav-link>CompilerOptimisation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/idle_task/ class=nav-link>IdleTask
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/interrupt/ class=nav-link>Interrupt
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/master/ class=nav-link>Master
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/mcu_load/ class=nav-link>MCU LOAD
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/mcu_overload/ class=nav-link>MCU OVERLOAD
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/scheduler_options/ class=nav-link>Scheduler Options
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/secondary_core/ class=nav-link>SECONDARY CORE
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/tasks_state/ class=nav-link>Tasks State</a></div></div><div class=nav-section id=section-utility><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/ class=nav-section-title onclick='return toggleSection("utility"),!0'><span><span class=icon>ğŸ”§</span>
<span class=nav-text>Utility</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/doc/ class=nav-link>Doc
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/msi/ class=nav-link>MSI
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/port_info/ class=nav-link>PortInfo
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/simulink_reset_config/ class=nav-link>Simulink Reset Config
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/timer_info/ class=nav-link>TimerInfo
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/utility/ class=nav-link>Utility Blocks</a></div></div><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc_blocks/ class=nav-link>ADC Blocks - Analog-to-Digital Converter Reference
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog/ class=nav-link>Analog Signal Conditioning Blocks Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/user_functions/c_function_call/ class=nav-link>Block Reference
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/can/ class=nav-link>CAN Communication Blocks
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_blocks/ class=nav-link>PWM Blocks - Block Reference
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system/system/ class=nav-link>System Blocks</a></div></div><div class=nav-section id=section-examples><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/examples/ class=nav-section-title onclick='return toggleSection("examples"),!0'><span><span class=icon>ğŸ“–</span>
<span class=nav-text>Examples</span>
</span><span class=toggle-icon>â–¶</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/examples/field_weakening/ class=nav-link>Field-weakening</a></div></div></div></nav><div class=content-wrapper><div class=container><div class=breadcrumbs><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/>Home</a>
<span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/></a><span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/>Block Reference</a>
<span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/>Communication</a>
<span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/>CAN</a>
<span>></span>
<span>CAN Rx</span></div><div class=page-header><h1>CAN Rx</h1><div class=page-header-right><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/microchip-logo.png alt="Microchip Logo" class=microchip-logo>
<button class=theme-toggle onclick=toggleTheme() aria-label="Toggle dark mode">
<span class=theme-icon id=theme-icon>â˜€ï¸</span>
<span id=theme-text>Light</span></button></div></div><div class=block-icon-container><div class=block-icon-image><picture><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/assets/images/blocks/bus_can/CAN_Rx.png alt="CAN Rx Block Icon"></picture></div><div class=block-icon-description>The <strong>CAN Rx</strong> block receives CAN messages from the CAN bus network and outputs the message ID, data length, and payload data. The block supports flexible message filtering with standard (11-bit) and extended (29-bit) identifiers, multiple filter types (exact match, range, mask), and configurable storage in dedicated buffers or FIFOs. This block requires a <strong>CAN Config</strong> block in the same model to configure the CAN peripheral. Multiple CAN Rx blocks can be used to receive different messages on the same CAN module, each with its own filter configuration.</div></div><p>The <strong>CAN Rx</strong> block receives CAN messages from the CAN bus network and outputs the message ID, data length, and payload data. The block supports flexible message filtering with standard (11-bit) and extended (29-bit) identifiers, multiple filter types (exact match, range, mask), and configurable storage in dedicated buffers or FIFOs.</p><p>This block requires a <strong>CAN Config</strong> block in the same model to configure the CAN peripheral. Multiple CAN Rx blocks can be used to receive different messages on the same CAN module, each with its own filter configuration.</p><h2 id=block-ports>Block Ports</h2><h3 id=output-ports>Output Ports</h3><table><thead><tr><th>Port Name</th><th>Data Type</th><th>Size</th><th>Description</th></tr></thead><tbody><tr><td>MsgID</td><td>uint16 or uint32</td><td>Scalar (1)</td><td>Received message identifier (uint16 for standard, uint32 for extended)</td></tr><tr><td>MsgLen</td><td>uint8</td><td>Scalar (1)</td><td>Number of data bytes received (0-8 for CAN 2.0, 0-64 for CAN-FD)</td></tr><tr><td>Rx[N]</td><td>uint8</td><td>Vector (1-64)</td><td>Received message data bytes</td></tr></tbody></table><h2 id=block-parameters>Block Parameters</h2><h3 id=can-module-selection>CAN Module Selection</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Valid Values</th><th>Default</th></tr></thead><tbody><tr><td>CAN Module</td><td>Selects which CAN peripheral to use (must match CAN Config block)</td><td>CAN0, CAN1, MCAN0, MCAN1 (device-dependent)</td><td>CAN0 or MCAN0</td></tr></tbody></table><h3 id=message-configuration>Message Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Valid Values</th><th>Default</th></tr></thead><tbody><tr><td>Message Type</td><td>Identifier format to receive</td><td>Standard (11-bit ID), Extended (29-bit ID)</td><td>Standard</td></tr><tr><td>Filter Type</td><td>How to match incoming messages</td><td>Classic (Mask), Dual ID, Range</td><td>Classic</td></tr></tbody></table><h3 id=filter-configuration-classic-mode>Filter Configuration (Classic Mode)</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Valid Values</th><th>Default</th></tr></thead><tbody><tr><td>Message ID</td><td>CAN identifier to match (hexadecimal)</td><td>0x000-0x7FF (standard), 0x00000000-0x1FFFFFFF (extended)</td><td>0x100</td></tr><tr><td>Message ID Mask</td><td>Bitwise mask (1=must match, 0=don&rsquo;t care)</td><td>0x000-0x7FF (standard), 0x00000000-0x1FFFFFFF (extended)</td><td>0x7FF (exact match)</td></tr></tbody></table><h3 id=filter-configuration-dual-id-mode>Filter Configuration (Dual ID Mode)</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Valid Values</th><th>Default</th></tr></thead><tbody><tr><td>Message ID 1</td><td>First CAN identifier to accept</td><td>0x000-0x7FF (standard), 0x00000000-0x1FFFFFFF (extended)</td><td>0x100</td></tr><tr><td>Message ID 2</td><td>Second CAN identifier to accept</td><td>0x000-0x7FF (standard), 0x00000000-0x1FFFFFFF (extended)</td><td>0x101</td></tr></tbody></table><h3 id=filter-configuration-range-mode>Filter Configuration (Range Mode)</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Valid Values</th><th>Default</th></tr></thead><tbody><tr><td>Message ID 1 (Min)</td><td>Minimum CAN identifier in range</td><td>0x000-0x7FF (standard), 0x00000000-0x1FFFFFFF (extended)</td><td>0x100</td></tr><tr><td>Message ID 2 (Max)</td><td>Maximum CAN identifier in range</td><td>0x000-0x7FF (standard), 0x00000000-0x1FFFFFFF (extended)</td><td>0x10F</td></tr></tbody></table><h3 id=buffer-configuration>Buffer Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Options</th><th>Default</th></tr></thead><tbody><tr><td>Data Store</td><td>Reception buffer type</td><td>RX FIFO 0, RX FIFO 1, Rx Buffer</td><td>RX FIFO 0</td></tr></tbody></table><p><strong>Tip:</strong> Use <strong>Rx Buffer</strong> for single high-priority messages that must never be lost. Use <strong>RX FIFO 0/1</strong> for multiple messages of the same type that can be queued.</p><h3 id=data-configuration>Data Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Valid Values</th><th>Default</th></tr></thead><tbody><tr><td>Data Type</td><td>Data output port type</td><td>uint8, uint16, uint32</td><td>uint8</td></tr><tr><td>Data Size</td><td>Size of data output port</td><td>1-8 (CAN 2.0), 1-64 (CAN-FD)</td><td>8</td></tr></tbody></table><h2 id=message-filtering>Message Filtering</h2><h3 id=filter-types-explained>Filter Types Explained</h3><h4 id=1-classic-filter-mask-based>1. Classic Filter (Mask-Based)</h4><p>Compares incoming message ID with configured ID using bitwise AND with mask:</p><pre tabindex=0><code>Filter Logic:
  Accept if: (Incoming_ID &amp; Mask) == (Filter_ID &amp; Mask)

Example 1 - Exact Match:
  Filter ID:  0x123
  Mask:       0x7FF (all bits must match)
  Accepts:    0x123 only
  Rejects:    0x122, 0x124, all others

Example 2 - Partial Match:
  Filter ID:  0x100
  Mask:       0x7F0 (ignore lower 4 bits)
  Accepts:    0x100, 0x101, 0x102...0x10F (16 IDs)
  Rejects:    0x110, 0x0FF, all others

Example 3 - Don&#39;t Care Bits:
  Filter ID:  0x200
  Mask:       0x700 (only check upper 3 bits)
  Accepts:    0x200-0x2FF (256 IDs)
  Rejects:    0x100, 0x300, all others
</code></pre><h4 id=2-dual-id-filter>2. Dual ID Filter</h4><p>Accepts messages matching either of two specific IDs:</p><pre tabindex=0><code>Filter Logic:
  Accept if: (Incoming_ID == ID1) OR (Incoming_ID == ID2)

Example:
  ID1:        0x200
  ID2:        0x300
  Accepts:    0x200, 0x300 only
  Rejects:    All other IDs

Use Case:
  - Two related messages to same processing
  - Status from two different sources
  - Command and acknowledgment pairing
</code></pre><h4 id=3-range-filter>3. Range Filter</h4><p>Accepts any message ID within a specified range (inclusive):</p><pre tabindex=0><code>Filter Logic:
  Accept if: (ID1 &lt;= Incoming_ID &lt;= ID2)

Example:
  ID1 (Min):  0x100
  ID2 (Max):  0x10F
  Accepts:    0x100, 0x101, 0x102...0x10F (16 IDs)
  Rejects:    0x0FF, 0x110, all others

Use Case:
  - Group of related sensors (0x200-0x20F)
  - Module address range (0x300-0x3FF)
  - Priority band filtering
</code></pre><h3 id=filter-priority-and-matching-order>Filter Priority and Matching Order</h3><p>When multiple filters are configured, the CAN controller processes them in order:</p><pre tabindex=0><code>Incoming Message (ID: 0x105)
        â”‚
        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Standard Filters â”‚ (processed first)
   â”‚  Filter 1: 0x100-0x10F (Range) â†’ MATCH! â†’ RX FIFO 0
   â”‚  Filter 2: 0x105 (Exact)       â†’ (not checked, already matched)
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Extended Filters â”‚ (only if no standard match)
   â”‚  Filter 3: ...
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Result: Message accepted by Filter 1, stored in RX FIFO 0
</code></pre><h2 id=buffer-modes-comparison>Buffer Modes Comparison</h2><table><thead><tr><th>Feature</th><th>RX FIFO 0/1</th><th>Rx Buffer</th></tr></thead><tbody><tr><td>Storage Type</td><td>First-In-First-Out queue</td><td>Dedicated single message buffer</td></tr><tr><td>Capacity</td><td>Multiple messages (configured depth)</td><td>One message per buffer</td></tr><tr><td>Overflow Behavior</td><td>Newest message overwrites oldest (watermark)</td><td>New message rejected if not read</td></tr><tr><td>Use Case</td><td>Multiple messages of same type, bursty traffic</td><td>Single critical message, guaranteed delivery</td></tr><tr><td>Filter Sharing</td><td>Multiple filters can target same FIFO</td><td>One filter per buffer</td></tr><tr><td>Read Access</td><td>Sequential (FIFO order)</td><td>Direct (always latest)</td></tr></tbody></table><h2 id=implementation-details>Implementation Details</h2><h3 id=reception-process-sam-e7x-mcan>Reception Process (SAM E7x MCAN)</h3><pre tabindex=0><code>/* CAN Rx Implementation */

    /* Extract message header */
    msg-&gt;id = rxBuf-&gt;ID;
    msg-&gt;extended = rxBuf-&gt;XTD;
    msg-&gt;rtr = rxBuf-&gt;RTR;
    msg-&gt;dlc = rxBuf-&gt;DLC;

    /* Determine actual data length from DLC */

    /* Copy data from buffer */

    /* Get filter index that matched */
    msg-&gt;filter_idx = rxBuf-&gt;FIDX;

    /* Acknowledge reception */

### Filter Configuration (SAM E5x/C2x)
</code></pre><p>/* Standard ID Filter Setup */
void CAN_ConfigStandardFilter(uint8_t filterIdx,
uint16_t id1, uint16_t id2,
FilterType_t type,</p><pre><code>/* Configure filter based on type */

    case FILTER_DUAL:
        filter-&gt;MCAN_SIDFE_0 =
            MCAN_SIDFE_0_SFT(1) |        // Dual ID filter
            MCAN_SIDFE_0_SFID1(id1) |    // First ID
            MCAN_SIDFE_0_SFID2(id2) |    // Second ID
            MCAN_SIDFE_0_SFEC(action);
        break;

    case FILTER_CLASSIC:
        filter-&gt;MCAN_SIDFE_0 =
            MCAN_SIDFE_0_SFT(2) |        // Classic filter
            MCAN_SIDFE_0_SFID1(id1) |    // Filter ID
            MCAN_SIDFE_0_SFID2(id2) |    // Mask
            MCAN_SIDFE_0_SFEC(action);
        break;
}

/* Flush cache to ensure filter is written */
SCB_CleanDCache_by_Addr((uint32_t*)filter, sizeof(*filter));
</code></pre><p>}</p><pre tabindex=0><code>
## Block Usage Examples

### Example 1: Single ID Reception

**Application:** Receive motor speed command (ID 0x100)
</code></pre><p>Simulink Model:
CAN Rx
(ID: 0x100)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
CAN Bus â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ MsgID â”‚â”€â”€â”€â”€â†’ [Check ID = 0x100]
â”‚ MsgLen â”‚â”€â”€â”€â”€â†’ [Validate length]
â”‚ Rx[8] â”‚â”€â”€â”€â”€â†’ [speed_cmd, mode, &mldr;]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</p><p>Configuration:</p><ul><li>CAN Module: CAN0</li><li>Message Type: Standard (11-bit)</li><li>Filter Type: Classic</li><li>Message ID: 0x100</li><li>Mask: 0x7FF (exact match)</li><li>Data Store: Rx Buffer</li><li>Data Size: 8 bytes</li></ul><p>Filter Behavior:
Accepts: ID 0x100 only
Rejects: All other IDs</p><pre tabindex=0><code>
### Example 2: ID Range Reception

**Application:** Receive sensor data from multiple nodes (ID 0x200-0x20F)
</code></pre><p>Simulink Model:
CAN Rx
(ID: 0x200-0x20F)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
CAN Bus â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ MsgID â”‚â”€â”€â”€â”€â†’ [Node ID = MsgID - 0x200]
â”‚ MsgLen â”‚â”€â”€â”€â”€â†’ [Validate]
â”‚ Rx[4] â”‚â”€â”€â”€â”€â†’ [temp, hum, pres, rsv]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Demux by ID â”‚
â”‚ (Switch) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â”‚ â”‚ â”‚
â–¼ â–¼ â–¼ â–¼
Node0&mldr;Node15</p><p>Configuration:</p><ul><li>Message Type: Standard</li><li>Filter Type: Range</li><li>ID1 (Min): 0x200</li><li>ID2 (Max): 0x20F</li><li>Data Store: RX FIFO 0</li><li>Data Size: 4 bytes</li></ul><p>Filter Behavior:
Accepts: 0x200, 0x201, 0x202&mldr;0x20F (16 IDs)
Rejects: 0x1FF, 0x210, all others</p><pre tabindex=0><code>
### Example 3: Broadcast Reception

**Application:** Receive network-wide broadcast messages
</code></pre><p>Network Topology:
â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚Node 1â”‚ â”‚Node 2â”‚ â”‚Node 3â”‚ â”‚Node 4â”‚
â””â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
CAN Bus (250 kbps)</p><p>Master broadcasts: ID 0x000 (time sync, emergency stop)
All nodes receive using CAN Rx:</p><p>Configuration:</p><ul><li>Message Type: Standard</li><li>Filter Type: Classic</li><li>Message ID: 0x000</li><li>Mask: 0x7FF (exact match)</li><li>Data Store: RX FIFO 0 (all nodes)</li></ul><p>Broadcast Use Cases:</p><ul><li>Network time synchronization</li><li>Emergency stop commands</li><li>Configuration updates</li><li>State machine transitions</li></ul><pre tabindex=0><code>
### Example 4: Multi-Filter Node

**Application:** Motor controller receiving commands and status
</code></pre><p>Motor Control Node:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚
â”‚ CAN Rx (0x100) â”‚
â”‚ â†’ Motor Command â”‚
â”‚ [speed_setpoint][mode][enable] â”‚
â”‚ â”‚
â”‚ CAN Rx (0x200-0x20F) â”‚
â”‚ â†’ Sensor Feedback Range â”‚
â”‚ [sensor_id][value][status] â”‚
â”‚ â”‚
â”‚ CAN Rx (0x000) â”‚
â”‚ â†’ Emergency Broadcast â”‚
â”‚ [emergency_stop][reason] â”‚
â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â–²
â”‚
CAN Bus</p><p>Filter Configuration (3 CAN Rx blocks):</p><ol><li>Command: ID=0x100, Mask=0x7FF â†’ Rx Buffer</li><li>Sensors: ID1=0x200, ID2=0x20F (Range) â†’ RX FIFO 0</li><li>Emergency: ID=0x000, Mask=0x7FF â†’ Rx Buffer</li></ol><p>Priority:</p><ul><li>0x000: Highest (emergency - dedicated buffer)</li><li>0x100: High (command - dedicated buffer)</li><li>0x200-0x20F: Medium (sensors - FIFO queue)</li></ul><pre tabindex=0><code>
### Example 5: CAN-FD Reception (SAM E7x)

**Application:** Receive firmware update packets with 64-byte payload
</code></pre><p>Firmware Update Protocol:
CAN Rx (CAN-FD)
(ID: 0x500)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
CAN-FD Bus â”€â”€â”€â”€â”€â”€â†’â”‚ MsgID â”‚â”€â”€â”€â”€â†’ 0x500 (update packet)
(2 Mbps data) â”‚ MsgLen â”‚â”€â”€â”€â”€â†’ 64 (bytes)
â”‚ Rx[64] â”‚â”€â”€â”€â”€â†’ [packet_data]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Packet Parserâ”‚
â”‚ [seq][data] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</p><p>Configuration:</p><ul><li>CAN Module: MCAN0</li><li>Enable CAN-FD: On</li><li>Message Type: Standard</li><li>Filter Type: Classic</li><li>Message ID: 0x500</li><li>Mask: 0x7FF</li><li>Data Store: RX FIFO 0</li><li>Data Size: 64 bytes</li></ul><p>Performance:</p><ul><li>64 bytes per packet</li><li>~1000 packets/sec @ 2 Mbps data phase</li><li>~64 kB/sec throughput</li><li>Firmware update time: ~16 sec for 1 MB</li></ul><pre tabindex=0><code>
## Troubleshooting

### Common Reception Issues


            
                Missing CAN Config block in model
                CAN module mismatch between Config and Rx blocks
                Incorrect filter configuration (ID/mask mismatch)
                No messages with matching ID on bus
                Bus-off error state or physical connection issue
            
            Solutions:
            
                Verify CAN Config block exists and matches Rx block CAN module
                Use CAN bus analyzer to confirm expected messages are present
                Test with broadest filter first (mask=0x000, accept all)
                Check filter type matches incoming message type (standard vs extended)
                Verify bus termination and hardware connections


            
                Cache coherency issues (ARM Cortex-M7 with DCache)
                Data type mismatch between Tx and Rx
                Buffer overrun (FIFO overflow)
                Endianness mismatch (multi-byte values)
            
            Solutions:
            
                Place CAN buffers in non-cached memory (TCM) on SAM E7x
                Use cache invalidate before reading (SCB_InvalidateDCache_by_Addr)
                Ensure consistent data types across network nodes
                Increase FIFO depth or use dedicated Rx buffer
                Verify byte order for 16/32-bit values


            
                Verify message type matches (standard vs extended ID)
                Check mask calculation: 1=must match, 0=don&#39;t care
                Test with exact match first (mask=0x7FF or 0x1FFFFFFF)
                Verify ID1 â‰¤ ID2 for range filters
                Check for filter ordering conflicts (first match wins)

### FIFO Overflow Handling

| Issue | Symptom | Solution |
|---|---|---|
| Messages lost | Missing sequence numbers, gaps in data | Increase FIFO depth, reduce message rate, process faster |
| FIFO full error | Overflow interrupt, watermark exceeded | Monitor fill level, implement flow control |
| Old data received | Stale messages processed | Flush FIFO on overflow, timestamp validation |
| Unpredictable behavior | Intermittent message loss | Use dedicated buffer for critical messages |

### Debug Checklist

- âœ“ Verify CAN Config block present and configured correctly
- âœ“ Check CAN module selection matches between Config and Rx blocks
- âœ“ Confirm message type (standard/extended) matches filter configuration
- âœ“ Test filter with broadest setting first (accept all IDs)
- âœ“ Use CAN bus analyzer to verify transmitted messages
- âœ“ Check filter mask calculation (1=match, 0=ignore)
- âœ“ Verify data size matches expected message length
- âœ“ Monitor FIFO fill level for overflow conditions
- âœ“ Test with simple constant ID before complex filtering
- âœ“ Check cache coherency on ARM Cortex-M7 devices

## Filter Configuration Examples

### Common Filter Patterns
</code></pre><p>/* Example 1: Accept single ID (0x123) */
Message ID: 0x123
Mask: 0x7FF (all bits must match)
Result: Accepts 0x123 only</p><p>/* Example 2: Accept range (0x100-0x10F) */
Filter Type: Range
ID1 (Min): 0x100
ID2 (Max): 0x10F
Result: Accepts 16 IDs from 0x100 to 0x10F</p><p>/* Example 3: Accept two specific IDs */
Filter Type: Dual
ID1: 0x200
ID2: 0x300
Result: Accepts 0x200 or 0x300 only</p><p>/* Example 4: Accept group (0x200-0x2FF, ignore lower byte) */
Message ID: 0x200
Mask: 0x700 (check upper 3 bits only)
Result: Accepts 0x200-0x2FF (256 IDs)</p><p>/* Example 5: Accept all (broadcast receiver) */
Message ID: 0x000
Mask: 0x000 (no bits need to match)
Result: Accepts all IDs (0x000-0x7FF)</p><pre tabindex=0><code>
## Related Blocks

- [CAN Config] - Configure CAN peripheral and buffers
- [CAN Tx] - Transmit CAN messages
- [Digital Output] - Control CAN transceiver enable pins
- [Interrupt Config] - Configure CAN reception interrupts

## References

- ISO 11898-1:2015 - CAN Protocol Specification
- Bosch CAN FD Specification Version 1.0
- [SAM E70/S70/V70/V71 Family Datasheet (DS60001527)] - MCAN Module
- [SAM E5x/D5x Family Datasheet (DS60001507)] - CAN Module
- Application Note: CAN Message Filtering and Buffer Management (search [Microchip Portal])
- Application Note: CAN-FD Implementation and Migration (search [Microchip Portal])



## See Also

### Datasheets

- [SAM E70/S70/V70/V71 Family Datasheet (DS60001527)](https://www.microchip.com/DS60001527)
- [SAM E5x/D5x Family Datasheet (DS60001507)](https://www.microchip.com/DS60001507)

### Other

- [Microchip Portal](https://www.microchip.com/en-us/search)
- [Microchip Portal](https://www.microchip.com/en-us/search)
</code></pre><div class=nav-footer><p>Last updated: November 2025 | MPLAB Blockset Documentation v3.63a</p><p>&copy; 2025 Microchip Technology Incorporated and its subsidiaries</p><p style=font-size:10px;margin-top:8px;line-height:1.4>The "Microchip" name and logo, the "M" logo, and other names, logos, and brands are registered
and unregistered trademarks of Microchip Technology Incorporated or its affiliates and/or
subsidiaries in the United States and/or other countries ("Microchip Trademarks"). Information
regarding Microchip Trademarks can be found at
<a href=https://www.microchip.com/en-us/about/legal-information/microchip-trademarks target=_blank style=color:var(--accent-primary)>https://www.microchip.com/en-us/about/legal-information/microchip-trademarks</a>.</p></div></div></div><button class=mobile-nav-toggle onclick=toggleMobileSidebar() aria-label="Toggle navigation">
â˜°</button></div><script>function toggleTheme(){const t=document.documentElement,n=t.getAttribute("data-theme"),e=n==="dark"?"light":"dark";t.setAttribute("data-theme",e),localStorage.setItem("theme",e),updateThemeButton(e)}function updateThemeButton(e){const t=document.getElementById("theme-icon"),n=document.getElementById("theme-text");e==="dark"?(t.textContent="ğŸŒ™",n.textContent="Dark"):(t.textContent="â˜€ï¸",n.textContent="Light")}(function(){const n=localStorage.getItem("theme"),s=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=n||(s?"dark":"light");document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)})(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)}}),window.toggleSection=function(e){const t=document.getElementById("section-"+e);if(t&&(t.classList.toggle("expanded"),t.classList.contains("nav-section"))){const n=getExpandedSections();t.classList.contains("expanded")?n.add(e):n.delete(e),localStorage.setItem("expandedSections",JSON.stringify([...n]))}};function getExpandedSections(){const e=localStorage.getItem("expandedSections");return new Set(e?JSON.parse(e):[])}function restoreExpandedSections(){const e=getExpandedSections();e.forEach(e=>{const t=document.getElementById("section-"+e);t&&t.classList.add("expanded")})}function highlightActivePage(){const e=window.location.pathname,t=document.querySelectorAll(".nav-link, .nav-block-link, .nav-section-title[href], .nav-subsection-title[href]");t.forEach(t=>{const n=new URL(t.href,window.location.origin).pathname;if(n===e){t.classList.add("active");const n=t.closest(".nav-subsection");n&&!n.classList.contains("expanded")&&n.classList.add("expanded");const e=t.closest(".nav-section");if(e&&!e.classList.contains("expanded")){e.classList.add("expanded");const n=e.id.replace("section-",""),t=getExpandedSections();t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t]))}}})}window.toggleMobileSidebar=function(){const e=document.querySelector(".sidebar");e&&e.classList.toggle("mobile-visible")},function(){restoreExpandedSections(),highlightActivePage();const t=document.querySelector(".nav-link.active");if(t){const e=t.closest(".nav-section");if(e&&e.id){const n=e.id.replace("section-",""),t=getExpandedSections();t.has(n)||(t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t])))}}}()</script></body></html>