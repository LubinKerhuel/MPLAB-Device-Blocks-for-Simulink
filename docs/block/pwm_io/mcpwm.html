<!doctype html><html lang=en><head><title>MCPWM - MPLAB Device Blocks for Simulink</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers"><meta name=keywords content="Microchip,MPLAB,MATLAB,Simulink,dsPIC,PIC32,Embedded,Code Generation,Motor Control"><meta name=author content="Microchip Technology Inc."><meta name=robots content="index, follow"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=canonical href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/mcpwm.html><link rel=icon type=image/x-icon href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/favicon.ico><style>html,html[data-theme=dark],body{color-scheme:light only!important;background-color:#fff!important;color:#222!important}:root{--bg-primary:#f8f9fa;--bg-secondary:white;--bg-tertiary:#f8f9fa;--text-primary:#2c3e50;--text-secondary:#666;--text-tertiary:#6c757d;--text-heading:#1a1a1a;--border-color:#dee2e6;--border-light:#e1e8ed;--border-medium:#e9ecef;--accent-primary:#1C355E;--accent-secondary:#41B6E6;--accent-hover:#2a5a8f;--accent-light:#D1DDE6;--code-bg:#f4f4f4;--code-text:#c7254e;--pre-bg:linear-gradient(to bottom, #e8e8e8 0%, #f0f0f0 100%);--pre-border:#d0d0d0;--table-hover:#E5F3FF;--table-stripe:#f8f9fa;--note-bg:linear-gradient(to right, #e7f3fe 0%, #f5fbff 100%);--note-border:#2196F3;--note-text:#1976D2;--warning-bg:linear-gradient(to right, #fff9e6 0%, #fffcf0 100%);--warning-border:#ff9800;--warning-text:#f57c00;--shadow-sm:0 2px 4px rgba(0,0,0,0.05);--shadow-md:0 2px 8px rgba(0,0,0,0.08);--shadow-lg:0 2px 12px rgba(0,0,0,0.08)}[data-theme=dark]{--bg-primary:#1a1d23;--bg-secondary:#242831;--bg-tertiary:#2d3139;--text-primary:#e4e6eb;--text-secondary:#adb5bd;--text-tertiary:#8b95a1;--text-heading:#e4e6eb;--border-color:#3a3f4b;--border-light:#3a3f4b;--border-medium:#404654;--accent-primary:#41B6E6;--accent-secondary:#5AC8FA;--accent-hover:#6DD5FF;--accent-light:#1a2d3f;--code-bg:#2d3139;--code-text:#ff6b9d;--pre-bg:linear-gradient(to bottom, #2d3139 0%, #2d3139 100%);--pre-border:#3a3f4b;--table-hover:#1e3a52;--table-stripe:#2d3139;--note-bg:linear-gradient(to right, #1e3a52 0%, #1e3a52 100%);--note-border:#4da6d6;--note-text:#66b3e0;--warning-bg:linear-gradient(to right, #3d3520 0%, #3d3520 100%);--warning-border:#ffb347;--warning-text:#ffc870;--shadow-sm:0 2px 4px rgba(0,0,0,0.3);--shadow-md:0 2px 8px rgba(0,0,0,0.4);--shadow-lg:0 2px 12px rgba(0,0,0,0.5)}:root{--content-max-width:1000px;--content-margin-horizontal:30px;--content-margin-vertical:15px;--container-border-radius:8px}*{transition:background-color .3s ease,color .3s ease,border-color .3s ease}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,roboto,oxygen,ubuntu,cantarell,sans-serif;margin:0;padding:0;line-height:1.6;color:var(--text-primary);background-color:var(--bg-primary);font-size:15px}.doc-wrapper{display:flex;max-width:1600px;margin:0 auto;min-height:100vh}.sidebar{width:280px;background-color:var(--bg-secondary);border-right:1px solid var(--border-color);position:sticky;top:0;height:100vh;overflow-y:auto;overflow-x:hidden;flex-shrink:0}.sidebar::-webkit-scrollbar{width:8px}.sidebar::-webkit-scrollbar-track{background:var(--bg-tertiary)}.sidebar::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.sidebar::-webkit-scrollbar-thumb:hover{background:var(--accent-primary)}.content-wrapper{flex:1;min-width:0;background-color:var(--bg-primary)}.container{max-width:var(--content-max-width);margin:var(--content-margin-vertical)var(--content-margin-horizontal);background-color:var(--bg-secondary);padding:30px;box-shadow:var(--shadow-lg);border-radius:var(--container-border-radius)}.sidebar-header{padding:20px;border-bottom:2px solid var(--border-light);background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-secondary) 100%)}.sidebar-title{color:#fff;font-size:16px;font-weight:700;margin:0;text-align:center}.sidebar-nav{padding:15px 0}.nav-section{margin-bottom:8px}.nav-section-title{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;color:var(--text-primary);font-weight:600;font-size:14px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease}.nav-section-title:hover{background-color:var(--bg-tertiary);border-left-color:var(--accent-primary);color:var(--accent-primary)}.nav-section-title .icon{font-size:16px;margin-right:8px}.nav-section-title .toggle-icon{font-size:12px;transition:transform .2s ease}.nav-section.expanded .toggle-icon{transform:rotate(90deg)}.nav-section-children{display:none;padding-left:15px}.nav-section.expanded>.nav-section-children{display:block}.nav-link{display:block;padding:8px 20px;padding-left:45px;color:var(--text-secondary);font-size:13px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-link:hover{background-color:var(--bg-tertiary);color:var(--accent-primary);border-left-color:var(--accent-light)}.nav-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.nav-subsection{margin-bottom:4px}.nav-subsection-title{display:flex;align-items:center;justify-content:space-between;padding:8px 20px;padding-left:35px;color:var(--text-primary);font-weight:600;font-size:13px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease;background-color:var(--bg-tertiary)}.nav-subsection-title:hover{background-color:var(--bg-primary);border-left-color:var(--accent-secondary);color:var(--accent-secondary)}.nav-subsection-title .icon{font-size:14px;margin-right:6px}.nav-subsection-title .toggle-icon{font-size:10px;transition:transform .2s ease}.nav-subsection.expanded .toggle-icon{transform:rotate(90deg)}.nav-subsection .nav-section-children{display:none;padding-left:10px}.nav-subsection.expanded>.nav-section-children{display:block}.nav-block-link{display:block;padding:6px 20px;padding-left:55px;color:var(--text-secondary);font-size:12px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-block-link:hover{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-secondary)}.nav-block-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.mobile-nav-toggle{display:none;position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background:var(--accent-primary);color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:var(--shadow-lg);z-index:1000}.mobile-nav-toggle:hover{background:var(--accent-hover)}.theme-toggle{display:inline-flex;align-items:center;gap:6px;cursor:pointer;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:20px;padding:6px 12px;font-size:13px;color:var(--text-secondary);margin-left:16px;user-select:none}.theme-toggle:hover{background:var(--accent-light);border-color:var(--accent-primary);color:var(--accent-primary)}.theme-icon{font-size:16px}.page-header{display:flex;justify-content:space-between;align-items:center;padding:16px 0 12px;margin-bottom:20px;border-bottom:3px solid var(--border-light);position:relative}.page-header::after{content:'';position:absolute;bottom:-3px;left:0;width:120px;height:3px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}.page-header h1{margin:0;color:var(--text-heading);font-size:32px;font-weight:700;letter-spacing:-.5px}.page-header-right{display:flex;align-items:center}.microchip-logo{height:40px;max-width:200px;object-fit:contain}.breadcrumbs{display:flex;align-items:center;font-size:13px;color:var(--text-secondary);margin-bottom:16px;padding:10px 14px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-primary)}.breadcrumbs a{color:var(--accent-primary);text-decoration:none;padding:4px 8px;border-radius:3px}.breadcrumbs a:hover{background-color:var(--accent-light);color:var(--accent-hover)}.breadcrumbs span{margin:0 8px;color:var(--text-tertiary)}h2{color:var(--text-heading);font-weight:600;font-size:22px;letter-spacing:-.5px;margin-top:32px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid var(--border-light);position:relative}h2::before{content:'';position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}h3{color:var(--text-primary);font-weight:600;font-size:17px;margin-top:24px;margin-bottom:10px}h4{color:var(--text-primary);font-weight:500;font-size:15px;margin-top:18px;margin-bottom:8px}p{margin-bottom:12px;line-height:1.6;color:var(--text-primary)}table{border-collapse:separate;border-spacing:0;width:100%;margin:18px 0;border:1px solid var(--border-color);border-radius:6px;overflow:hidden;box-shadow:var(--shadow-md)}th{background:linear-gradient(to bottom,var(--accent-primary) 0%,var(--accent-secondary) 100%);color:#fff;padding:14px 16px;text-align:left;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid var(--accent-secondary)}td{padding:12px 16px;border-bottom:1px solid var(--border-medium);vertical-align:top;color:var(--text-primary);background-color:var(--bg-secondary)}tr:last-child td{border-bottom:none}tr:nth-child(even) td{background-color:var(--table-stripe)}tbody tr:hover td{background-color:var(--table-hover)}code{background-color:var(--code-bg);padding:3px 6px;border-radius:3px;font-family:consolas,monaco,courier new,monospace;color:var(--code-text);font-size:14px}pre{background:var(--pre-bg);border:1px solid var(--pre-border);border-left:4px solid var(--accent-primary);border-radius:6px;padding:16px;margin:18px 0;box-shadow:var(--shadow-sm);overflow-x:auto;line-height:1.5}pre code{background-color:initial;padding:0;color:var(--text-primary);font-family:consolas,monaco,courier new,monospace;font-size:14px}.note{background:var(--note-bg);border-left:5px solid var(--note-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.note::before{content:'\2139\FE0F  Note';display:block;font-weight:600;color:var(--note-text);margin-bottom:6px;font-size:14px}.note p{color:var(--text-primary)}.warning{background:var(--warning-bg);border-left:5px solid var(--warning-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.warning::before{content:'\26A0\FE0F  Warning';display:block;font-weight:600;color:var(--warning-text);margin-bottom:6px;font-size:14px}.warning p{color:var(--text-primary)}ul,ol{margin:12px 0;padding-left:30px;line-height:1.6}li{margin:6px 0;color:var(--text-primary)}li mjx-container[display=true]{text-align:left!important;margin:8px 0!important}li p mjx-container[display=true]{text-align:left!important;margin:8px 0!important}a{color:var(--accent-primary);text-decoration:none}a:hover{color:var(--accent-hover);text-decoration:underline}.nav-footer{margin-top:48px;padding:20px 0 12px;border-top:2px solid var(--border-light);font-size:11px;color:var(--text-tertiary);text-align:center}.nav-footer p{margin:0;font-size:11px}.block-icon-container{display:flex;align-items:center;gap:15px;margin:20px auto;padding:15px;max-width:900px;background-color:#f8f9fa;border-radius:8px;border:1px solid #dee2e6;transition:all .2s ease-in-out}.block-card-link{display:flex;align-items:center;gap:15px;flex:1;text-decoration:none;color:inherit}.block-icon-container:has(.block-card-link):hover{background-color:#e9ecef;border-color:#0076a8;box-shadow:0 2px 8px rgba(0,118,168,.15);cursor:pointer}.block-icon-image{flex-shrink:0;width:150px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.block-icon-image picture{width:100%;max-width:150px;display:flex;align-items:center;justify-content:center}.block-icon-image img,.block-icon-image source{max-width:100%;max-height:100%;width:auto;height:auto;display:block;object-fit:contain}.block-icon-description{flex:1;font-size:16px;line-height:1.6;color:#333;column-count:1;max-width:100%}.family-tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:12px;justify-content:center;width:100%}.family-tag{display:inline-block;padding:3px 8px;font-size:11px;font-weight:600;background-color:#2196f3;color:#fff;border-radius:4px;white-space:nowrap}.family-detail{font-weight:400;opacity:.9;font-size:10px;margin-left:3px}.chip-family-badges{display:flex;flex-direction:column;gap:6px;padding:12px;background-color:#e3f2fd;border:2px solid #2196f3;border-radius:6px;min-width:140px;flex-shrink:0}.chip-family-badges::before{content:"Device Support";font-size:11px;font-weight:700;color:#1565c0;text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px;text-align:center}.chip-badge{display:block;padding:6px 10px;font-size:12px;font-weight:600;border-radius:4px;white-space:nowrap;text-align:center;transition:all .15s ease-in-out}.chip-badge:hover{transform:scale(1.05);box-shadow:0 2px 4px rgba(0,0,0,.2)}.chip-badge.dspic30f{background-color:#e3f2fd;color:#1565c0;border:1px solid #90caf9}.chip-badge.dspic33f{background-color:#e8f5e9;color:#2e7d32;border:1px solid #81c784}.chip-badge.dspic33e{background-color:#fff3e0;color:#e65100;border:1px solid #ffb74d}.chip-badge.dspic33c{background-color:#f3e5f5;color:#6a1b9a;border:1px solid #ba68c8}.chip-badge.dspic33a{background-color:#fce4ec;color:#c2185b;border:1px solid #f06292}.chip-badge.pic32{background-color:#e0f7fa;color:#00695c;border:1px solid #4db6ac}.chip-badge.sam{background-color:#fff9c4;color:#f57f17;border:1px solid #fdd835}.chip-badge.all-families{background-color:#e0e0e0;color:#424242;border:1px solid #9e9e9e;font-weight:700}p img,.container>img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-light);border-radius:4px;box-shadow:var(--shadow-sm)}@media(max-width:768px){body{padding:10px 20px}.container{padding:20px}.page-header{flex-direction:column;align-items:flex-start;gap:16px}.microchip-logo{height:40px}.page-header h1{font-size:24px}h2{font-size:20px}h3{font-size:16px}}@media(max-width:1024px){.sidebar{position:fixed;left:-280px;top:0;height:100vh;z-index:999;transition:left .3s ease;box-shadow:2px 0 8px rgba(0,0,0,.15)}.sidebar.mobile-visible{left:0}.mobile-nav-toggle{display:flex;align-items:center;justify-content:center}.content-wrapper{width:100%}.container{margin:10px 15px;padding:20px}.sidebar.mobile-visible::after{content:'';position:fixed;top:0;left:280px;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:-1}}@media(max-width:768px){.container{margin:10px;padding:15px}.page-header h1{font-size:22px}.breadcrumbs{font-size:12px;padding:8px 12px}.nav-section-title{font-size:13px;padding:8px 15px}.nav-link{font-size:12px;padding:6px 15px;padding-left:35px}}.under-construction-banner{background:linear-gradient(135deg,#ff9800 0%,#f57c00 100%);color:#fff;padding:12px 20px;text-align:center;font-size:14px;font-weight:600;border-bottom:3px solid #e65100;box-shadow:0 2px 8px rgba(0,0,0,.15);margin-bottom:20px}.under-construction-banner .icon{font-size:18px;margin-right:8px}.under-construction-banner strong{color:#fff;text-transform:uppercase;letter-spacing:.5px}</style><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","name":"MCPWM","description":"MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers","url":"https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink\/block\/pwm_io\/mcpwm.html","author":{"@type":"Organization","name":"Microchip Technology Inc."},"datePublished":"2025-10-16","dateModified":"2025-11-05","inLanguage":"en-US"}</script></head><body><div class=doc-wrapper><nav class=sidebar><div class=sidebar-header><h2 class=sidebar-title><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/>MPLAB Blockset</a></h2></div><div class=sidebar-nav><div class=nav-section><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/index.html class=nav-section-title><span><span class=icon>üè†</span>
<span class=nav-text>Home</span></span></a></div><div class=nav-section id=section-getting_started><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/index.html class=nav-section-title onclick='return toggleSection("getting_started"),!0'><span><span class=icon>üöÄ</span>
<span class=nav-text>Getting Started</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/board_templates.html class=nav-link>Board Templates
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/data_visualization.html class=nav-link>Data Visualization with PIC GUI
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/external_mode_pil.html class=nav-link>External Mode & PIL Testing - MPLAB Device Blocks for Simulink
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/installation.html class=nav-link>MCHP Blockset Installation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/overview.html class=nav-link>MCHP Blockset Overview
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/motor_control_examples.html class=nav-link>Motor Control Examples - MPLAB Device Blocks for Simulink
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/quick_start.html class=nav-link>Quick Start Guide
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/scheduler_multitasking.html class=nav-link>Scheduler & Multitasking - MPLAB Device Blocks for Simulink
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/supported_devices.html class=nav-link>Supported Devices</a></div></div><div class=nav-section id=section-user_guide><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/index.html class=nav-section-title onclick='return toggleSection("user_guide"),!0'><span><span class=icon>üìö</span>
<span class=nav-text>User Guide</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/code_generation.html class=nav-link>Code Generation - User Guide
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/compiler_setup.html class=nav-link>Compiler Setup - User Guide
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/external_mode.html class=nav-link>External Mode - User Guide
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/pil_testing.html class=nav-link>PIL Testing - User Guide</a></div></div><div class="nav-section expanded" id=section-block><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/index.html class=nav-section-title onclick='return toggleSection("block"),!0'><span><span class=icon>üß©</span>
<span class=nav-text>Block Reference</span>
</span><span class=toggle-icon>‚ñº</span></a><div class=nav-section-children><div class="nav-section expanded" id=section-pwm_io><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/index.html class=nav-section-title onclick='return toggleSection("pwm_io"),!0'><span><span class=icon>‚ö°</span>
<span class=nav-text>PWM</span>
</span><span class=toggle-icon>‚ñº</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/mcpwm.html class="nav-link active">MCPWM
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm.html class=nav-link>PWM
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_highspeed.html class=nav-link>PWM HighSpeed
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_highspeed_override.html class=nav-link>PWM HighSpeed Override
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_hs_fep.html class=nav-link>PWM HS FEP
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_sam7x.html class=nav-link>PWM SAM7x
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_sam7x_override.html class=nav-link>PWM SAM7x Override
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/tcc_pwm.html class=nav-link>TCC PWM</a></div></div><div class=nav-section id=section-adc><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/index.html class=nav-section-title onclick='return toggleSection("adc"),!0'><span><span class=icon>üìä</span>
<span class=nav-text>ADC Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc.html class=nav-link>ADC - Standard ADC Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_highspeed_sar.html class=nav-link>ADC HighSpeed SAR - High-Speed SAR ADC Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_highspeed_sar_dspic.html class=nav-link>ADC HighSpeed SAR dsPIC - High-Speed SAR ADC for dsPIC33C
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_hs_12b.html class=nav-link>ADC HS 12b - 12-bit High-Speed ADC for dsPIC33A
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_same5x.html class=nav-link>ADC SAME5x - ADC for SAM E5x/D5x/C2x Families
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_samrh707x.html class=nav-link>ADC SAMRH707x - ADC for SAM RH707x Radiation-Hardened MCU
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/afec_sam7x.html class=nav-link>AFEC SAM7x - Analog Front-End Controller for SAM 7x</a></div></div><div class=nav-section id=section-communication><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/index.html class=nav-section-title onclick='return toggleSection("communication"),!0'><span><span class=icon>üì°</span>
<span class=nav-text>Communication Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/can_config.html class=nav-link>CAN Config
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/can_rx.html class=nav-link>CAN Rx
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/can_tx.html class=nav-link>CAN Tx
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_break_and_autobaud.html class=nav-link>UART Break/Autobaud
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_config.html class=nav-link>UART Config Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_rx.html class=nav-link>UART Rx Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_tx.html class=nav-link>UART Tx Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_txmatlab.html class=nav-link>UART TxMatlab Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/i2c.html class=nav-link>I2C Master/Slave - Communication Blocks
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/spi.html class=nav-link>SPI Master/Slave - Communication Blocks</a></div></div><div class=nav-section id=section-timers><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/timers/index.html class=nav-section-title onclick='return toggleSection("timers"),!0'><span><span class=icon>‚è±Ô∏è</span>
<span class=nav-text>Timer Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/timers/timer_config.html class=nav-link>TIMER Config - Timer Configuration Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/timers/timer_pil_profiling.html class=nav-link>TIMER PIL Profiling - PIL Timing Profiler</a></div></div><div class=nav-section id=section-capture_compare><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/index.html class=nav-section-title onclick='return toggleSection("capture_compare"),!0'><span><span class=icon>üìè</span>
<span class=nav-text>Input Capture / Output Compare</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/input_capture.html class=nav-link>IC - Input Capture Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/output_compare_hw.html class=nav-link>OC HW - Output Compare (Hardware)
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/output_compare_sw.html class=nav-link>OC SW - Software Output Compare</a></div></div><div class=nav-section id=section-digital_io><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/index.html class=nav-section-title onclick='return toggleSection("digital_io"),!0'><span><span class=icon>üîå</span>
<span class=nav-text>Digital I/O Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_input.html class=nav-link>Digital Input
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_output.html class=nav-link>Digital Output
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_output_read.html class=nav-link>Digital Output Read
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_output_write.html class=nav-link>Digital Output Write</a></div></div><div class=nav-section id=section-encoders><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/index.html class=nav-section-title onclick='return toggleSection("encoders"),!0'><span><span class=icon>üîÑ</span>
<span class=nav-text>Encoder Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/change_notification.html class=nav-link>CN - Change Notification (Pin Interrupt)
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/pdec.html class=nav-link>PDEC - Position Decoder for SAM Devices
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/qdec_samx.html class=nav-link>QDEC SAMx - Quadrature Decoder for SAM Devices
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/qei.html class=nav-link>QEI - Quadrature Encoder Interface</a></div></div><div class=nav-section id=section-analog_io><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/index.html class=nav-section-title onclick='return toggleSection("analog_io"),!0'><span><span class=icon>üìâ</span>
<span class=nav-text>Analog I/O Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/dac_samx.html class=nav-link>MCHP DAC SAMx Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator.html class=nav-link>MCHP High-Speed Analog Comparator Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator_wslope.html class=nav-link>MCHP High-Speed Analog Comparator with Slope Compensation Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/op_amp.html class=nav-link>MCHP Op-Amp Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/pga.html class=nav-link>MCHP PGA Documentation</a></div></div><div class=nav-section id=section-system_configuration><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/index.html class=nav-section-title onclick='return toggleSection("system_configuration"),!0'><span><span class=icon>‚öôÔ∏è</span>
<span class=nav-text>System Configuration Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/compiler_options.html class=nav-link>CompilerOptimisation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/idle_task.html class=nav-link>IdleTask
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/interrupt.html class=nav-link>Interrupt
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/master.html class=nav-link>Master
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/mcu_load.html class=nav-link>MCU LOAD
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/mcu_overload.html class=nav-link>MCU OVERLOAD
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/scheduler_options.html class=nav-link>Scheduler Options
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/secondary_core.html class=nav-link>SECONDARY CORE
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/tasks_state.html class=nav-link>Tasks State</a></div></div><div class=nav-section id=section-utility><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/index.html class=nav-section-title onclick='return toggleSection("utility"),!0'><span><span class=icon>üîß</span>
<span class=nav-text>Utility Blocks</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/doc.html class=nav-link>Doc
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/msi.html class=nav-link>MSI
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/port_info.html class=nav-link>PortInfo
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/simulink_reset_config.html class=nav-link>Simulink Reset Config
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/timer_info.html class=nav-link>TimerInfo
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/utility.html class=nav-link>Utility Blocks</a></div></div></div></div><div class=nav-section id=section-examples><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/examples/index.html class=nav-section-title onclick='return toggleSection("examples"),!0'><span><span class=icon>üìñ</span>
<span class=nav-text>Examples</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children style=display:none><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/examples/field_weakening.html class=nav-link>Field-weakening</a></div></div></div></nav><div class=content-wrapper><div class=container><div class=breadcrumbs><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/index.html>Home</a>
<span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/index.html></a><span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/index.html>Block Reference</a>
<span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/index.html>PWM</a>
<span>></span>
<span>MCPWM</span></div><div class=page-header><h1>MCPWM</h1><div class=page-header-right><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/microchip-logo.png alt="Microchip Logo" class=microchip-logo>
<button class=theme-toggle onclick=toggleTheme() aria-label="Toggle dark mode">
<span class=theme-icon id=theme-icon>‚òÄÔ∏è</span>
<span id=theme-text>Light</span></button></div></div><div class=block-icon-container><div class=block-icon-image><picture><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/pwm/MCPWM.svg type=image/svg+xml><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/pwm/MCPWM_hu_22ed66b6da9b3cf8.webp type=image/webp><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/pwm/MCPWM.png alt="Mcpwm Block Icon"></picture></div><div class=block-icon-description>MCPWM (Motor Control PWM) offers enhanced features beyond standard PWM blocks, including programmable fault sources with digital comparator inputs, leading-edge blanking, dead-time compensation modes, and extensive trigger output capabilities for ADC synchronization.</div></div><h2 id=supported-device-families>Supported Device Families</h2><table><thead><tr><th>Family</th><th>Representative Devices</th><th>Key Features</th></tr></thead><tbody><tr><td>PIC32MK</td><td>PIC32MK MCJ/MCM/MCA families</td><td>Full MCPWM with digital comparators, advanced fault handling</td></tr><tr><td>dsPIC33C (selected)</td><td>33CH, 33CK families with MCPWM</td><td>High-speed MCPWM, multiple fault sources</td></tr><tr><td>dsPIC33A</td><td>Latest 33A families</td><td>Enhanced MCPWM with fine edge placement</td></tr></tbody></table><h2 id=key-features>Key Features</h2><h2 id=configuration-parameters>Configuration Parameters</h2><h3 id=time-base-and-alignment>Time Base and Alignment</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td>PWMx_ECAM_ITB</td><td>PWM mode selection</td><td>‚Ä¢ Edge aligned</td></tr></tbody></table><h3 id=dead-time-configuration>Dead Time Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td>DTC</td><td>Dead Time Control mode</td><td>‚Ä¢ Disabled</td></tr><tr><td>DTH_xxx</td><td>Dead-time high-side (per PWM)</td><td>Time in seconds</td></tr><tr><td>DTL_xxx</td><td>Dead-time low-side (per PWM)</td><td>Time in seconds</td></tr><tr><td>DTCMPSEL</td><td>Dead-time compensation select</td><td>Comparator source for compensation mode</td></tr></tbody></table><h3 id=fault-configuration>Fault Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>FLTSRCx</td><td>Fault source selection for each PWM generator:</td></tr><tr><td>FLTSRC1..12_DTCMP</td><td>Digital comparator assignment for dead-time compensation per PWM</td></tr><tr><td>FaultMode</td><td>Fault response mode:</td></tr><tr><td>FaultState</td><td>Output state during fault: All Low, All High, High-Z, or custom</td></tr></tbody></table><h3 id=leading-edge-blanking-leb>Leading-Edge Blanking (LEB)</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>LEB_Enable</td><td>Enable leading-edge blanking for fault inputs</td></tr><tr><td>LEB_Duration</td><td>Blanking time after PWM edge transition (ignores fault during switching noise)</td></tr><tr><td>LEB_Trigger</td><td>Trigger source: Rising edge PWMxH, Falling edge PWMxH, or PWMxL edges</td></tr></tbody></table><h3 id=trigger-outputs>Trigger Outputs</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>TRIG1..3</td><td>Up to 3 trigger outputs per PWM generator for ADC/DAC synchronization</td></tr><tr><td>SEVTCMP</td><td>Special event compare for primary ADC trigger</td></tr><tr><td>TriggerInterrupt</td><td>Enable interrupt on trigger events</td></tr></tbody></table><h2 id=pwm-adc-synchronization>PWM-ADC Synchronization</h2><p>Proper synchronization between PWM generation and ADC sampling is critical for motor control and power conversion applications. The MCPWM block provides multiple trigger outputs (<code>TRIG1..3</code>, <code>SEVTCMP</code>) to precisely coordinate ADC conversions with PWM waveform timing.</p><h3 id=synchronization-strategies>Synchronization Strategies</h3><p>The MCHP Blockset supports four synchronization strategies, each optimized for different application requirements:</p><h4 id=option-1-timer-based-trigger-simple-periodic-sampling>Option 1: Timer-Based Trigger (Simple Periodic Sampling)</h4><p><strong>Use Case:</strong> General-purpose control with independent sampling rate.</p><p><strong>Configuration:</strong></p><ul><li>PWM runs asynchronously with respect to control task</li><li>Timer triggers ADC at fixed intervals</li><li>Control task executes after ADC completion</li></ul><p><strong>Advantages:</strong></p><ul><li>Simple configuration</li><li>Flexible sampling rate independent of PWM frequency</li><li>Suitable for multi-loop systems with different rates</li></ul><p><strong>Limitations:</strong></p><ul><li>ADC sampling phase not synchronized with PWM switching</li><li>May sample during switching transients</li><li>Not ideal for current-mode control or phase current sensing</li></ul><h4 id=option-2-timer--adc--task-synchronized-data-acquisition>Option 2: Timer ‚Üí ADC ‚Üí Task (Synchronized Data Acquisition)</h4><p><strong>Use Case:</strong> Guaranteed fresh ADC data before control task execution.</p><p><strong>Configuration:</strong></p><ul><li>Timer triggers ADC conversion</li><li>ADC completion triggers control task</li><li>Ensures ADC data is ready when task starts</li></ul><p><strong>Advantages:</strong></p><ul><li>Zero latency - control algorithm uses freshest data</li><li>Predictable timing - task execution synchronized with ADC</li><li>Eliminates stale data issues</li></ul><p><strong>Typical Applications:</strong></p><ul><li>Data logging systems</li><li>Sensor monitoring applications</li><li>General feedback control (non-motor)</li></ul><h4 id=option-3-pwm--adc--task-motor-control-standard>Option 3: PWM ‚Üí ADC ‚Üí Task (Motor Control Standard)</h4><p><strong>Use Case:</strong> Standard approach for motor control and power conversion.</p><p><strong>Key Benefits for Motor Control:</strong></p><ul><li><strong>Optimal sampling timing:</strong> Sample when PWM low-side FET is ON (shunt current flows)</li><li><strong>Synchronized to PWM period:</strong> Control rate automatically matches PWM frequency</li><li><strong>Phase current sensing:</strong> Sample during stable current flow through shunt resistor</li><li><strong>Noise immunity:</strong> Avoid sampling during switching transients</li></ul><p><strong>MCPWM Configuration Example (Center-Aligned PWM):</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% In MCPWM block:</span>
</span></span><span style=display:flex><span>PWMx_ECAM_ITB <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Center aligned - Symmetric&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>Period <span style=color:#1f2328>=</span> <span style=color:#0550ae>1</span><span style=color:#0550ae>/</span><span style=color:#0550ae>20e3</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% 20 kHz PWM frequency</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Trigger ADC at PWM valley (center point - all low-side FETs ON):</span>
</span></span><span style=display:flex><span>SEVTCMP <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Valley trigger</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% OR use TRIG1:</span>
</span></span><span style=display:flex><span>TRIG1 <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>    <span style=color:#57606a>% Valley trigger</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% In ADC block:</span>
</span></span><span style=display:flex><span>Trigger_Source <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;PWM1 Special Event&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% or &#39;PWM1 TRIG1&#39;</span>
</span></span><span style=display:flex><span>Sample_Time <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Inherited&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% ADC rate follows PWM (20 kHz)</span>
</span></span></code></pre></div><p><strong>Edge-Aligned PWM Configuration:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% For edge-aligned PWM, trigger before period end:</span>
</span></span><span style=display:flex><span>PWMx_ECAM_ITB <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Edge aligned&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>Period_Ticks <span style=color:#1f2328>=</span> <span style=color:#0550ae>4000</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Example period register value</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Trigger 10% before end of period (low-side ON time):</span>
</span></span><span style=display:flex><span>SEVTCMP <span style=color:#1f2328>=</span> Period_Ticks <span style=color:#0550ae>*</span> <span style=color:#0550ae>0.9</span><span style=color:#1f2328>;</span>
</span></span></code></pre></div><h4 id=option-4-multiple-triggers-per-pwm-period-advanced-control>Option 4: Multiple Triggers per PWM Period (Advanced Control)</h4><p><strong>Use Case:</strong> High-performance control requiring multiple measurements per PWM cycle.</p><p><strong>Key Applications:</strong></p><ul><li><strong>Dual current sampling:</strong> Measure phase currents at both peak and valley</li><li><strong>Sensorless FOC:</strong> Sample back-EMF at multiple PWM positions</li><li><strong>Digital power:</strong> Input and output voltage/current at different switching states</li><li><strong>Oversampling:</strong> Multiple ADC conversions for noise reduction</li></ul><p><strong>MCPWM Configuration (3 Triggers per Period):</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Center-aligned PWM with 3 trigger points:</span>
</span></span><span style=display:flex><span>PWMx_ECAM_ITB <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Center aligned - Symmetric&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Trigger 1: Before valley (rising edge phase currents)</span>
</span></span><span style=display:flex><span>TRIG1 <span style=color:#1f2328>=</span> Period <span style=color:#0550ae>*</span> <span style=color:#0550ae>0.4</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Trigger 2: At valley (all low-side ON)</span>
</span></span><span style=display:flex><span>SEVTCMP <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Trigger 3: After valley (falling edge phase currents)</span>
</span></span><span style=display:flex><span>TRIG2 <span style=color:#1f2328>=</span> Period <span style=color:#0550ae>*</span> <span style=color:#0550ae>0.6</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% In ADC block:</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Configure 3 separate ADC channels or use ADC sequencer</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Trigger_Source_1 = &#39;PWM1 TRIG1&#39;;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Trigger_Source_2 = &#39;PWM1 Special Event&#39;;</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Trigger_Source_3 = &#39;PWM1 TRIG2&#39;;</span>
</span></span></code></pre></div><p><strong>Advantages:</strong></p><ul><li>Maximum information extraction per PWM cycle</li><li>Improved state estimation for sensorless control</li><li>Better noise rejection through oversampling</li><li>Faster transient response (higher effective bandwidth)</li></ul><p><strong>Considerations:</strong></p><ul><li>Increased CPU load (multiple ADC ISRs or faster control task)</li><li>Requires careful timing analysis to avoid ADC overrun</li><li>May need DMA for efficient data transfer</li></ul><h3 id=fault-integration-with-triggers>Fault Integration with Triggers</h3><p>MCPWM&rsquo;s advanced fault handling can interact with trigger outputs to ensure safe operation:</p><table><thead><tr><th>Fault Scenario</th><th>Trigger Behavior</th><th>Configuration</th></tr></thead><tbody><tr><td>Overcurrent Fault</td><td>Triggers stopped during fault</td><td>Prevents control task from executing with invalid PWM state</td></tr><tr><td>Latched Fault</td><td>Triggers remain disabled until fault cleared</td><td>Use Fault_Clear input to restart triggers</td></tr><tr><td>Cycle-by-Cycle Fault</td><td>Triggers resume when fault clears</td><td>Automatic restart for transient faults</td></tr><tr><td>Software Fault</td><td>Can disable triggers via Fault_SW input</td><td>Emergency stop with software trigger inhibit</td></tr></tbody></table><h3 id=best-practices>Best Practices</h3><table><thead><tr><th>Application</th><th>Recommended Strategy</th><th>Key Settings</th></tr></thead><tbody><tr><td>3-Phase Motor FOC</td><td>PWM ‚Üí ADC ‚Üí Task (Option 3)</td><td>‚Ä¢ Center-aligned PWM</td></tr><tr><td>Single Shunt FOC</td><td>Multiple Triggers (Option 4)</td><td>‚Ä¢ Center-aligned PWM</td></tr><tr><td>PFC Boost Converter</td><td>PWM ‚Üí ADC ‚Üí Task (Option 3)</td><td>‚Ä¢ Edge-aligned PWM</td></tr><tr><td>DC-DC Buck</td><td>PWM ‚Üí ADC ‚Üí Task (Option 3)</td><td>‚Ä¢ Edge-aligned PWM</td></tr><tr><td>Interleaved Converters</td><td>Multiple Triggers (Option 4)</td><td>‚Ä¢ Independent time bases</td></tr><tr><td>Data Acquisition</td><td>Timer ‚Üí ADC ‚Üí Task (Option 2)</td><td>‚Ä¢ Fixed sampling rate</td></tr></tbody></table><h3 id=troubleshooting-synchronization-issues>Troubleshooting Synchronization Issues</h3><table><thead><tr><th>Problem</th><th>Likely Cause</th><th>Solution</th></tr></thead><tbody><tr><td>ADC samples during switching noise</td><td>Incorrect SEVTCMP/TRIG value</td><td>For center-aligned: Use SEVTCMP=0 (valley)</td></tr><tr><td>Control task runs before ADC ready</td><td>Task triggered by timer, not ADC</td><td>Configure ADC interrupt to trigger task, not timer</td></tr><tr><td>Phase currents read as zero</td><td>Sampling when low-side FETs OFF</td><td>Verify SEVTCMP = 0 for center-aligned PWM</td></tr><tr><td>Missing ADC triggers</td><td>PWM fault active (triggers inhibited)</td><td>Check Fault_Status output</td></tr><tr><td>Inconsistent trigger timing</td><td>Independent time base drift</td><td>Use master time base for phase synchronization</td></tr><tr><td>Multiple triggers overlap</td><td>TRIG1/2/3 too close together</td><td>Ensure ADC conversion time + safety margin between triggers</td></tr></tbody></table><h3 id=related-blocks-for-synchronization>Related Blocks for Synchronization</h3><ul><li><a href=../adc/adc_hs_12b.html><strong>MCHP_ADC_HS_12b</strong></a> - High-speed 12-bit ADC for dsPIC33A (software sequencing, PWM triggers)</li><li><a href=../adc/adc_highspeed_sar.html><strong>MCHP_ADC_HighSpeed_SAR</strong></a> - High-speed SAR ADC for dsPIC33C/CH/CK</li><li><a href=../adc/adc.html><strong>MCHP_ADC</strong></a> - Standard ADC with PWM trigger support</li><li><strong>MCHP_Interrupt</strong> - Configure interrupt priorities for ADC and control tasks</li><li><strong>MCHP_Scheduler_Options</strong> - Configure multitasking for synchronized control loops</li></ul><h3 id=clock-configuration>Clock Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>PWM_ClockResolution</td><td>Clock source selection:</td></tr></tbody></table><h2 id=block-inputs>Block Inputs</h2><table><thead><tr><th>Input</th><th>Type</th><th>Condition</th><th>Description</th></tr></thead><tbody><tr><td>Period</td><td>uint16/uint32</td><td>Variable period mode</td><td>PWM period value (scalar for master, vector for independent)</td></tr><tr><td>DutyCycle 1..N</td><td>uint16/uint32</td><td>Per enabled PWM</td><td>Duty cycle value. Can be [single] or [val1 val2] for asymmetric mode</td></tr><tr><td>PhaseShift 1..N</td><td>uint16/uint32</td><td>If enabled</td><td>Phase shift value for interleaved operation</td></tr><tr><td>TRIG1..3 1..N</td><td>uint16/uint32</td><td>Dynamic trigger</td><td>Runtime trigger point modification</td></tr><tr><td>DeadTimeH/L 1..N</td><td>uint16</td><td>Dynamic dead-time</td><td>Runtime dead-time adjustment</td></tr><tr><td>Fault_SW</td><td>boolean</td><td>If software fault enabled</td><td>Software-triggered fault input</td></tr><tr><td>Fault_Clear</td><td>boolean</td><td>Latched fault mode</td><td>Clear latched fault condition</td></tr></tbody></table><h2 id=block-outputs>Block Outputs</h2><table><thead><tr><th>Output</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Fault_Status</td><td>uint16</td><td>Current fault status register (bitfield of active faults)</td></tr><tr><td>Trigger 1..N</td><td>boolean</td><td>Trigger output signals for external synchronization</td></tr><tr><td>PWM_Status</td><td>uint16</td><td>Overall PWM status (enable state, mode, etc.)</td></tr></tbody></table><h2 id=implementation-details>Implementation Details</h2><h3 id=hardware-registers>Hardware Registers</h3><table><thead><tr><th>Register Type</th><th>Examples</th><th>Purpose</th></tr></thead><tbody><tr><td>Generator Control</td><td>PGxCONL, PGxCONH, PGxSTAT</td><td>PWM mode, enable, status</td></tr><tr><td>Timing</td><td>PGxPER, PGxDC, PGxPHASE, PGxDTH, PGxDTL</td><td>Period, duty cycle, phase shift, dead-time</td></tr><tr><td>Triggers</td><td>PGxTRIGA, PGxTRIGB, PGxTRIGC</td><td>ADC/DAC trigger points</td></tr><tr><td>Fault</td><td>PGxFPCIL, PGxFPCIH, PGxCLPCIL, PGxCLPCIH</td><td>Fault configuration, current limit</td></tr><tr><td>Leading-Edge Blanking</td><td>PGxLEBCON, PGxLEBDLY</td><td>LEB configuration and delay</td></tr></tbody></table><h3 id=fault-source-configuration>Fault Source Configuration</h3><p>MCPWM provides flexible fault input mapping:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Fault sources (configurable per PWM):</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - Hardware fault pins (FLT1, FLT2, etc.)</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - Digital comparator outputs (CMP1, CMP2, etc.)</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - Software fault (via block input)</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - Combinational logic (AND/OR of multiple sources)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Example: Overcurrent protection</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% FLTSRCx = &#34;CMP1 OR CMP2&#34;  % Either phase overcurrent triggers fault</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% DTCMPSEL = &#34;CMP1&#34;          % Use CMP1 for dead-time compensation</span>
</span></span></code></pre></div><h2 id=usage-examples>Usage Examples</h2><h3 id=example-1-3-phase-motor-with-dead-time-compensation>Example 1: 3-Phase Motor with Dead-Time Compensation</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Configuration:</span>
</span></span><span style=display:flex><span>PWM_Channels <span style=color:#1f2328>=</span> <span style=color:#1f2328>[</span><span style=color:#0550ae>1</span> <span style=color:#0550ae>2</span> <span style=color:#0550ae>3</span><span style=color:#1f2328>];</span>
</span></span><span style=display:flex><span>PWMx_ECAM_ITB <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Center aligned - Symmetric&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>DTC <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Positive dead time with compensation mode&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Dead-time settings:</span>
</span></span><span style=display:flex><span>DTH_1 <span style=color:#1f2328>=</span> <span style=color:#0550ae>1.2e-6</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% 1.2 ¬µs high-side</span>
</span></span><span style=display:flex><span>DTL_1 <span style=color:#1f2328>=</span> <span style=color:#0550ae>1.0e-6</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% 1.0 ¬µs low-side (asymmetric for IGBT vs. diode)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Compensation comparator (current sensing):</span>
</span></span><span style=display:flex><span>FLTSRC1_DTCMP <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;CMP1&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Phase A current</span>
</span></span><span style=display:flex><span>FLTSRC2_DTCMP <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;CMP2&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Phase B current</span>
</span></span><span style=display:flex><span>FLTSRC3_DTCMP <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;CMP3&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Phase C current</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Benefit: Dead-time automatically adjusted based on current direction</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Reduces dead-time losses, improves efficiency</span>
</span></span></code></pre></div><h3 id=example-2-overcurrent-protection-with-leb>Example 2: Overcurrent Protection with LEB</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Fast overcurrent shutdown with noise immunity:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Fault configuration:</span>
</span></span><span style=display:flex><span>FLTSRCx <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;CMP1 OR CMP2 OR CMP3&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Any phase overcurrent</span>
</span></span><span style=display:flex><span>FaultMode <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Cycle-by-cycle&#39;</span><span style=color:#1f2328>;</span>       <span style=color:#57606a>% Auto-restart when fault clears</span>
</span></span><span style=display:flex><span>FaultState <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;All Low&#39;</span><span style=color:#1f2328>;</span>             <span style=color:#57606a>% Safe state</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Leading-Edge Blanking:</span>
</span></span><span style=display:flex><span>LEB_Enable <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;on&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>LEB_Duration <span style=color:#1f2328>=</span> <span style=color:#0550ae>500e-9</span><span style=color:#1f2328>;</span>              <span style=color:#57606a>% 500 ns blanking</span>
</span></span><span style=display:flex><span>LEB_Trigger <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Rising edge PWMxH&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Blank after high-side turn-on</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Prevents false trips from switching noise</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Allows genuine overcurrent detection within same cycle</span>
</span></span></code></pre></div><h3 id=example-3-interleaved-pfc-with-phase-management>Example 3: Interleaved PFC with Phase Management</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% 4-phase interleaved PFC boost converter:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Configuration:</span>
</span></span><span style=display:flex><span>PWM_Channels <span style=color:#1f2328>=</span> <span style=color:#1f2328>[</span><span style=color:#0550ae>1</span> <span style=color:#0550ae>2</span> <span style=color:#0550ae>3</span> <span style=color:#0550ae>4</span><span style=color:#1f2328>];</span>
</span></span><span style=display:flex><span>PWMx_ECAM_ITB <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Edge aligned - Independent time base&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>Period <span style=color:#1f2328>=</span> <span style=color:#0550ae>1</span><span style=color:#0550ae>/</span><span style=color:#0550ae>100e3</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% 100 kHz per phase</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% 90¬∞ phase shift for 400 kHz effective ripple frequency:</span>
</span></span><span style=display:flex><span>PhaseShift_1 <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>PhaseShift_2 <span style=color:#1f2328>=</span> Period<span style=color:#0550ae>/</span><span style=color:#0550ae>4</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>PhaseShift_3 <span style=color:#1f2328>=</span> Period<span style=color:#0550ae>/</span><span style=color:#0550ae>2</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>PhaseShift_4 <span style=color:#1f2328>=</span> <span style=color:#0550ae>3</span><span style=color:#0550ae>*</span>Period<span style=color:#0550ae>/</span><span style=color:#0550ae>4</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Trigger ADC at valley of each phase for current sensing:</span>
</span></span><span style=display:flex><span>TRIG1_1 <span style=color:#1f2328>=</span> Period<span style=color:#1f2328>;</span>  <span style=color:#57606a>% Phase 1 valley</span>
</span></span><span style=display:flex><span>TRIG1_2 <span style=color:#1f2328>=</span> Period<span style=color:#1f2328>;</span>  <span style=color:#57606a>% Phase 2 valley</span>
</span></span><span style=display:flex><span>TRIG1_3 <span style=color:#1f2328>=</span> Period<span style=color:#1f2328>;</span>  <span style=color:#57606a>% Phase 3 valley</span>
</span></span><span style=display:flex><span>TRIG1_4 <span style=color:#1f2328>=</span> Period<span style=color:#1f2328>;</span>  <span style=color:#57606a>% Phase 4 valley</span>
</span></span></code></pre></div><h3 id=example-4-asymmetric-center-aligned-for-thd-reduction>Example 4: Asymmetric Center-Aligned for THD Reduction</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Reduce harmonic distortion using asymmetric PWM:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Configuration:</span>
</span></span><span style=display:flex><span>PWMx_ECAM_ITB <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Center aligned - Asymmetric with double update&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Different duty cycles for up-count and down-count:</span>
</span></span><span style=display:flex><span>DutyCycle_1_Up <span style=color:#1f2328>=</span> <span style=color:#0550ae>0.48</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>DutyCycle_1_Down <span style=color:#1f2328>=</span> <span style=color:#0550ae>0.52</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>DutyCycle_2_Up <span style=color:#1f2328>=</span> <span style=color:#0550ae>0.485</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>DutyCycle_2_Down <span style=color:#1f2328>=</span> <span style=color:#0550ae>0.515</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>DutyCycle_3_Up <span style=color:#1f2328>=</span> <span style=color:#0550ae>0.49</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>DutyCycle_3_Down <span style=color:#1f2328>=</span> <span style=color:#0550ae>0.51</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Creates spread-spectrum effect</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Reduces peak harmonics, improves EMI performance</span>
</span></span></code></pre></div><h2 id=troubleshooting>Troubleshooting</h2><h3 id=fault-lockout>Fault Lockout</h3><p><strong>Cause:</strong> Latched fault mode requires manual clear.</p><p><strong>Solution:</strong> Send pulse to <code>Fault_Clear</code> input, or change to cycle-by-cycle mode for auto-restart.</p><h3 id=false-fault-triggers>False Fault Triggers</h3><p><strong>Solutions:</strong></p><ul><li>Enable Leading-Edge Blanking with appropriate duration (typically 200-1000 ns)</li><li>Adjust LEB trigger source to match noise characteristic</li><li>Filter fault comparator inputs in hardware (RC filter)</li><li>Increase fault comparator threshold if margin exists</li></ul><h3 id=dead-time-compensation-not-working>Dead-Time Compensation Not Working</h3><p><strong>Checklist:</strong></p><ul><li>‚úÖ DTC mode set to &ldquo;Positive dead time with compensation mode&rdquo;</li><li>‚úÖ DTCMPSEL comparator configured and connected to current sensor</li><li>‚úÖ Comparator threshold properly set for zero-crossing detection</li><li>‚úÖ Comparator polarity matches current direction (positive = into motor)</li></ul><h3 id=trigger-output-timing-issues>Trigger Output Timing Issues</h3><p><strong>Solutions:</strong></p><ul><li>Verify trigger value is within PWM period range</li><li>Account for center-aligned mode (trigger occurs twice per period)</li><li>Check for trigger synchronization with master time base</li><li>Use scope to verify actual trigger output timing</li></ul><h2 id=performance-considerations>Performance Considerations</h2><h3 id=interrupt-latency>Interrupt Latency</h3><p>MCPWM fault response is hardware-based (&lt; 50 ns typical). Software fault inputs have latency equal to task execution time plus interrupt response.</p><h3 id=cpu-overhead>CPU Overhead</h3><ul><li><strong>Static configuration:</strong> Zero CPU overhead (hardware runs autonomously)</li><li><strong>Dynamic inputs:</strong> CPU cycles only for duty cycle updates (typically &lt; 1% at 20 kHz PWM)</li><li><strong>Fault handling:</strong> Interrupt service routine overhead if fault interrupts enabled</li></ul><h2 id=related-blocks>Related Blocks</h2><ul><li><a href=pwm_hs_fep.html><strong>MCHP_PWM_HS_FEP</strong></a> - High-resolution PWM for dsPIC33A</li><li><a href=pwm_highspeed.html><strong>MCHP_PWM_HighSpeed</strong></a> - High-speed PWM for dsPIC33C/CH/CK</li><li><a href=pwm.html><strong>MCHP_PWM</strong></a> - Standard PWM for dsPIC30F/33F/33E</li><li><a href=../analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator.html><strong>MCHP_Comparator</strong></a> - Digital comparator for fault detection</li><li><a href=../adc/adc.html><strong>MCHP_ADC</strong></a> - ADC with PWM trigger synchronization</li></ul><h2 id=see-also>See Also</h2><h3 id=datasheets>Datasheets</h3><ul><li><a href=https://www.microchip.com/DS60001307>PIC32MK Family Reference Manual</a></li></ul><div class=nav-footer><p>Last updated: November 2025 | MPLAB Blockset Documentation v3.63a</p><p>&copy; 2025 Microchip Technology Incorporated and its subsidiaries</p><p style=font-size:10px;margin-top:8px;line-height:1.4>The "Microchip" name and logo, the "M" logo, and other names, logos, and brands are registered
and unregistered trademarks of Microchip Technology Incorporated or its affiliates and/or
subsidiaries in the United States and/or other countries ("Microchip Trademarks"). Information
regarding Microchip Trademarks can be found at
<a href=https://www.microchip.com/en-us/about/legal-information/microchip-trademarks target=_blank style=color:var(--accent-primary)>https://www.microchip.com/en-us/about/legal-information/microchip-trademarks</a>.</p></div></div></div><button class=mobile-nav-toggle onclick=toggleMobileSidebar() aria-label="Toggle navigation">
‚ò∞</button></div><script>function toggleTheme(){const t=document.documentElement,n=t.getAttribute("data-theme"),e=n==="dark"?"light":"dark";t.setAttribute("data-theme",e),localStorage.setItem("theme",e),updateThemeButton(e)}function updateThemeButton(e){const t=document.getElementById("theme-icon"),n=document.getElementById("theme-text");e==="dark"?(t.textContent="üåô",n.textContent="Dark"):(t.textContent="‚òÄÔ∏è",n.textContent="Light")}(function(){const n=localStorage.getItem("theme"),s=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=n||(s?"dark":"light");document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)})(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)}}),window.toggleSection=function(e){const t=document.getElementById("section-"+e);if(t&&(t.classList.toggle("expanded"),t.classList.contains("nav-section"))){const n=getExpandedSections();t.classList.contains("expanded")?n.add(e):n.delete(e),localStorage.setItem("expandedSections",JSON.stringify([...n]))}};function getExpandedSections(){const e=localStorage.getItem("expandedSections");return new Set(e?JSON.parse(e):[])}function restoreExpandedSections(){const e=getExpandedSections();e.forEach(e=>{const t=document.getElementById("section-"+e);t&&t.classList.add("expanded")})}function highlightActivePage(){const e=window.location.pathname,t=document.querySelectorAll(".nav-link, .nav-block-link, .nav-section-title[href], .nav-subsection-title[href]");t.forEach(t=>{const n=new URL(t.href,window.location.origin).pathname;if(n===e){t.classList.add("active");const n=t.closest(".nav-subsection");n&&!n.classList.contains("expanded")&&n.classList.add("expanded");const e=t.closest(".nav-section");if(e&&!e.classList.contains("expanded")){e.classList.add("expanded");const n=e.id.replace("section-",""),t=getExpandedSections();t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t]))}}})}window.toggleMobileSidebar=function(){const e=document.querySelector(".sidebar");e&&e.classList.toggle("mobile-visible")},function(){restoreExpandedSections(),highlightActivePage();const t=document.querySelector(".nav-link.active");if(t){const e=t.closest(".nav-section");if(e&&e.id){const n=e.id.replace("section-",""),t=getExpandedSections();t.has(n)||(t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t])))}}}()</script></body></html>